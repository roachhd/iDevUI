(function(){var a=!1;this.Class=function(){};Class.extend=function(b){function c(){!a&&this.init&&this.init.apply(this,arguments)}var d=this.prototype;a=!0;var e=new this;a=!1;for(var f in b)e[f]="function"==typeof b[f]&&"function"==typeof d[f]?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);this._super=c;return e}}(f,b[f]):b[f];c.prototype=e;c.prototype.constructor=c;c.extend=arguments.callee;return c}})();
var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,h){var n=dateFormat;1!=arguments.length||("[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e))||(f=e,e=void 0);e=e?new Date(e):new Date;if(isNaN(e))throw SyntaxError("invalid date");
f=String(n.masks[f]||f||n.masks["default"]);"UTC:"==f.slice(0,4)&&(f=f.slice(4),h=!0);var l=h?"getUTC":"get",k=e[l+"Date"](),g=e[l+"Day"](),q=e[l+"Month"](),m=e[l+"FullYear"](),s=e[l+"Hours"](),r=e[l+"Minutes"](),B=e[l+"Seconds"](),l=e[l+"Milliseconds"](),w=h?0:e.getTimezoneOffset(),u={d:k,dd:d(k),ddd:n.i18n.dayNames[g],dddd:n.i18n.dayNames[g+7],m:q+1,mm:d(q+1),mmm:n.i18n.monthNames[q],mmmm:n.i18n.monthNames[q+12],yy:String(m).slice(2),yyyy:m,h:s%12||12,hh:d(s%12||12),H:s,HH:d(s),M:r,MM:d(r),s:B,
ss:d(B),l:d(l,3),L:d(99<l?Math.round(l/10):l),t:12>s?"a":"p",tt:12>s?"am":"pm",T:12>s?"A":"P",TT:12>s?"AM":"PM",Z:h?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(0<w?"-":"+")+d(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][3<k%10?0:(10!=k%100-k%10)*k%10]};return f.replace(a,function(a){return a in u?u[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",uDateTime:"yyyymmddHHMMss"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
var _language={sLanguage:"english",words:null,setLanguage:function(a){this.sLanguage=a},load:function(){if("english"!=this.sLanguage){var a=document.createElement("script");a.type="text/javascript";a.src=_preferences.languagepath+this.sLanguage+".js";-1==navigator.userAgent.toLowerCase().indexOf("msie 7")||-1==navigator.userAgent.toLowerCase().indexOf("msie 8")?a.onreadystatechange=function(){"loaded"==this.readyState&&idev.errorHandler("Loaded:"+_language.sLanguage)}:a.onload=function(){$debug("Loaded:"+
_language.sLanguage)};document.getElementsByTagName("head")[0].appendChild(a)}},translate:function(a){var b=!1;if(null==a)return"";if(null==this.words)return a;if(""==a)return"";if("english"==this.sLanguage)return a;65<=a.charCodeAt(0)&&97>=a.charCodeAt(0)&&(b=!0);sForeignWord=this.words[a.toLowerCase()];null==sForeignWord&&(sForeignWord=a);b&&(sForeignWord=idev.utils.ucwords(sForeignWord));return sForeignWord}},idevObject=Class.extend({}),idevColors=idevObject.extend({init:function(){this.colors=
[];this.colors.blue={startColor:"#000011",endColor:"#0099dd:45-#06c",borderColor:"#06c",fontColor:"#fff",border:!0};this.colors.silver={startColor:"#ccc",endColor:"#ededed:45-#ddd",borderColor:"#ddd",fontColor:"#222",border:!0};this.colors.red={startColor:"#440000",endColor:"#d00:45-#a00",borderColor:"#a00",fontColor:"#fff",border:!0};this.colors.purple={startColor:"#110000",endColor:"#aa0066:45-#550022",borderColor:"#550022",fontColor:"#fff",border:!0};this.colors.black={startColor:"#000",endColor:"#555:45-#333",
borderColor:"#333",fontColor:"#fff",border:!0};this.colors.green={startColor:"#001100",endColor:"#00cc00:45-#090",borderColor:"#090",fontColor:"#fff",border:!0};this.colors.orange={startColor:"#551100",endColor:"#ff6600:45-#FF6600",borderColor:"#99aa00",fontColor:"#fff",border:!0}},gradientColors:function(a){var b=this.colors[a.color.toLowerCase()];b&&(a.startColor=b.startColor,a.endColor=b.endColor,a.borderColor=b.borderColor,a.fontColor=b.fontColor,a.border=b.border)},addColor:function(a,b){this.colors[a.toLowerCase()]=
b},removeColor:function(a){this.colors[a.toLowerCase()]=null}}),idevResize=idevObject.extend({init:function(a){this.widget=a;this.resizable=!0;this.resizing=!1;this.rsh=this.rsw=8;this.resizeColor="#000";this.handlers="nw,n,ne,w,e,sw,s,se,"},isResizing:function(){return this.resizing},add:function(){if(!this.resizing){this.widget.beforeResize();idev._isDraggable=this.widget.isDraggable();idev._resizeTarget=this.widget;var a=parseInt($("#"+this.widget.id).width())-this.rsw,b=parseInt($("#"+this.widget.id).height())-
this.rsh,c="<div id='"+this.widget.id+"-drframe' class='ui-drframe' style='top:"+this.rsh/2+"px;left:"+this.rsw/2+"px;border:1px dashed "+this.resizeColor+";width:"+a+"px;height:"+b+"px;'></div>";this.resizable&&(-1!=this.handlers.indexOf("nw,")&&(c+="<div id='"+this.widget.id+"-drhandlenw' class='ui-drhandlenw' style='width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("ne,")&&(c+="<div id='"+this.widget.id+"-drhandlene' class='ui-drhandlene' style='left:"+(a-2)+"px;width:"+
this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("se,")&&(c+="<div id='"+this.widget.id+"-drhandlese' class='ui-drhandlese' style='top:"+(b-2)+"px;left:"+(a-2)+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("sw,")&&(c+="<div id='"+this.widget.id+"-drhandlesw' class='ui-drhandlesw' style='top:"+(b-2)+"px;left:0px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("n,")&&(c+="<div id='"+this.widget.id+"-drhandlen' class='ui-drhandlen' style='left:"+
a/2+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("w,")&&(c+="<div id='"+this.widget.id+"-drhandlew' class='ui-drhandlew' style='top:"+b/2+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("e,")&&(c+="<div id='"+this.widget.id+"-drhandlee' class='ui-drhandlee' style='top:"+b/2+"px;left:"+(a-2)+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"),-1!=this.handlers.indexOf("s,")&&(c+="<div id='"+this.widget.id+"-drhandles' class='ui-drhandles' style='top:"+
(b-2)+"px;left:"+a/2+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;'></div>"));$("#"+this.widget.id).append(c);$("#"+this.widget.id).attr("draggable","Y");$("#"+this.widget.id).attr("resizable","Y");var d=this,e=!1,f=!1;$delay(0,function(){$("#"+d.widget.id+"-drframe").focus();$("#"+d.widget.id+"-drframe").keydown(function(a){var b=a.keyCode,c=$("#"+a.target.id).parent();a=parseInt(c.css("left"));var k=parseInt(c.css("top")),g=parseInt(c.css("width")),c=parseInt(c.css("height")),q=1;17==b&&!1==e&&
(e=!0);16==b&&!1==f&&(f=!0);!0==f&&(q=5);37==b&&(e?g-=q:a-=q,d.change(a,k,g,c));38==b&&(e?c-=q:k-=q,d.change(a,k,g,c));39==b&&(e?g+=q:a+=q,d.change(a,k,g,c));40==b&&(e?c+=q:k+=q,d.change(a,k,g,c))});$("#"+d.widget.id+"-drframe").keyup(function(a){a=a.keyCode;17==a&&(e=!1);16==a&&(f=!1)})});this.resizing=!0}},remove:function(){this.resizing&&($("#"+this.widget.id+"-drframe").remove(),this.resizable&&(-1!=this.handlers.indexOf("nw,")&&$("#"+this.widget.id+"-drhandlenw").remove(),-1!=this.handlers.indexOf("ne,")&&
$("#"+this.widget.id+"-drhandlene").remove(),-1!=this.handlers.indexOf("se,")&&$("#"+this.widget.id+"-drhandlese").remove(),-1!=this.handlers.indexOf("sw,")&&$("#"+this.widget.id+"-drhandlesw").remove(),-1!=this.handlers.indexOf("w,")&&$("#"+this.widget.id+"-drhandlew").remove(),-1!=this.handlers.indexOf("e,")&&$("#"+this.widget.id+"-drhandlee").remove(),-1!=this.handlers.indexOf("n,")&&$("#"+this.widget.id+"-drhandlen").remove(),-1!=this.handlers.indexOf("s,")&&$("#"+this.widget.id+"-drhandles").remove()),
$("#"+this.widget.id).attr("draggable","N"),$("#"+this.widget.id).attr("resizable","N"),this.widget.setDraggable(idev._isDraggable),this.resizing=!1,this.widget.afterResize())},syncSize:function(){if(this.resizable){var a=parseInt($("#"+this.widget.id).width())-this.rsw,b=parseInt($("#"+this.widget.id).height())-this.rsh;$("#"+this.widget.id+"-drframe").width(a);$("#"+this.widget.id+"-drframe").height(b);$("#"+this.widget.id+"-drhandlene").css("left",a-2);$("#"+this.widget.id+"-drhandlee").css("left",
a-2);$("#"+this.widget.id+"-drhandlee").css("top",b/2);$("#"+this.widget.id+"-drhandlew").css("top",b/2);$("#"+this.widget.id+"-drhandlese").css("left",a-2);$("#"+this.widget.id+"-drhandlese").css("top",b-2);$("#"+this.widget.id+"-drhandles").css("top",b-2);$("#"+this.widget.id+"-drhandles").css("left",a/2);$("#"+this.widget.id+"-drhandlen").css("left",a/2);$("#"+this.widget.id+"-drhandlesw").css("top",b-2)}},change:function(a,b,c,d){$("#"+this.widget.id);$("#"+this.widget.id).css("left",a);$("#"+
this.widget.id).css("top",b);this.resizable&&($("#"+this.widget.id).css("width",c),$("#"+this.widget.id).css("height",d),$("#"+this.widget.id).css("max-width",c),$("#"+this.widget.id).css("max-height",d),this.syncSize(),this.widget.doLayout())}}),idevDD=idevObject.extend({init:function(a){this.widget=a;this.allowDrag=a.config.allowDrag;this.allowDrop=a.config.allowDrop;this.dragText=a.config.dragText||"Dragging";this.tpl=new idev.wTemplate("<div id='{id}' style='position:absolute;left:{x}px;top:{y}px;width:{width}px;height:{height}px;z-index:999;{style}'>",
"<img id='{id}-drag' src='{drag}' style='display:none;'/><img id='{id}-nodrop' src='{nodrop}' style='display:none;'/>","{text}","</div>");this.bShowDragTip=!1},startDD:function(a){if(this.widget.events.onDrag){var b=this.widget.events.onDrag(this.widget,a);null!=b&&(this.dragText=b)}this.tx=a.clientX;this.ty=a.clientY;this.bShowDragTip=!0;idev.dropWidget=null},move:function(a){if(this.bShowDragTip){var b=[];b.id=this.widget.id+"-dd";b.x=this.tx+2;b.y=this.ty+2;b.width=100;b.height=20;b.style="background:#fff;border:2px solid #ccc;cursor:pointer;font-size:10pt;font-family:sans_serif;";
b.text=this.dragText;b.drag=_preferences.libpath+"images/drag.png";b.nodrop=_preferences.libpath+"images/nodrop.png";b=this.tpl.render(b);$("#container").append(b);this.allowDrop?$("#"+this.widget.id+"-dd-drag").show():$("#"+this.widget.id+"-dd-nodrop").show()}this.bShowDragTip=!1;a=idev.utils.mousePosition(a);var c=a.x-idev._sX,d=a.y-idev._sY,e=$("#"+this.widget.id+"-dd");e&&(idev._sX=a.x,idev._sY=a.y,$delay(100,function(){var a=parseInt(e[0].style.top.replace("px","")),b=parseInt(e[0].style.left.replace("px",
""));e[0].style.left=b+c+"px";e[0].style.top=a+d+"px"},e))},canDrop:function(a){if(null!=a){var b=a.id+"-dd";this.widget.dd.allowDrop||($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null);if(this.widget.events.canDrop)try{this.widget.events.canDrop(a,this.widget)?($("#"+b+"-drag").show(),$("#"+b+"-nodrop").hide(),idev.dropWidget=this.widget):($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null)}catch(c){idev.errorHandler("CanDrop Error:"+c.message),$("#"+b+"-drag").hide(),
$("#"+b+"-nodrop").show(),idev.dropWidget=null}else this.widget.dd.allowDrop?($("#"+b+"-drag").show(),$("#"+b+"-nodrop").hide(),idev.dropWidget=this.widget):($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null)}},onDrop:function(){if(idev.dropWidget.events.onDrop)try{idev.dropWidget.events.onDrop(idev.dropWidget,this.widget)}catch(a){idev.errorHandler("onDrop Error:"+a.message)}},endDD:function(){if(idev.dropWidget)try{this.onDrop()}catch(a){idev.errorHandler("onDrop Error:"+a.message)}$("#"+
this.widget.id+"-dd").css("cursor","default");$delay(100,function(a){$("#"+a.id+"-dd").remove()},this.widget)}}),idevLayoutManager=idevObject.extend({init:function(a){this.widget=a;this.id=a.id;this.layout=a.layout;this.area=a.area;this.events=a.events;this.parent=a.parent;this.title=a.title;this.tbar=a.tbar;this.bbar=a.bbar},collapseArea:function(){if(this.widget.expanded)if("west"==this.area){var a=this.widget.width-18;this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-expand-w");
$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse-w");$("#"+this.parent.id+"-content-west").attr("width","18");$("#"+this.id).css("margin-left",0-a);$("#"+this.id+"-filler").css("visibility","visible");for(var b=0;b<this.parent.widgets.length;b++){var c=this.parent.widgets[b].id,d=this.parent.widgets[b].area;"center"==d&&(d=$("#"+c).width()+a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout())}this.widget.expanded=!1}else if("east"==this.area){a=this.widget.width-18;
this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse-e");$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand-e");$("#"+this.parent.id+"-content-east").attr("width","18");$("#"+this.id+"-filler").css("visibility","visible");for(b=0;b<this.parent.widgets.length;b++)c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d&&(d=$("#"+c).width()+a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout());this.widget.expanded=
!1}else if("south"==this.area){var e=$("#"+this.id+"-title").height(),a=$("#"+this.id).height()-e;$("#"+this.id).css("height",e);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand");$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse");$("#"+this.parent.id+"-content-row-south").attr("height",e);for(b=0;b<this.parent.widgets.length;b++)if(c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){e=
$("#"+c).height()+a;$("#"+c).css("height",e);$("#"+c).css("max-height",e);e=$("#"+c+"-body").height()+a;$("#"+c+"-body").css("height",e);$("#"+c+"-body").css("max-height",e);if("west"==d||"east"==d)e=$("#"+c+"-filler").height()+a,$("#"+c+"-filler").css("height",e);(c=$get(c))&&c.doLayout()}this.widget.expanded=!1}else for(e=$("#"+this.id+"-title").height(),a=this.widget.height-e,$("#"+this.id).css("height",e),this.events.collapsed&&this.events.collapsed(this.widget),$("#"+this.id+"-expand").addClass("ui-panel-btn-expand"),
$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse"),$("#"+this.parent.id+"-content-row-north").attr("height",e),this.widget.expanded=!1,b=0;b<this.parent.widgets.length;b++)if(c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){e=$("#"+c).height()+a;$("#"+c).css("height",e);$("#"+c).css("max-height",e);e=$("#"+c+"-body").height()+a;$("#"+c+"-body").css("height",e);$("#"+c+"-body").css("max-height",e);if("west"==d||"east"==d)e=$("#"+c+"-filler").height()+
a,$("#"+c+"-filler").css("height",e);(c=$get(c))&&c.doLayout()}},expandArea:function(){if(!this.widget.expanded){if("west"==this.area){var a=this.widget.width-18;$("#"+this.parent.id+"-content-west").attr("width",this.widget.width);$("#"+this.id).css("margin-left",0);this.events.expanded&&this.events.expanded(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse-w");$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand-w");$("#"+this.id+"-filler").css("visibility","hidden");for(var b=
0;b<this.parent.widgets.length;b++){var c=this.parent.widgets[b].id,d=this.parent.widgets[b].area;if("center"==d){var e=$("#"+c).width()-a;$("#"+c).width(e);$("#"+c).css("max-width",e);(c=$get(c))&&c.doLayout()}}}else if("east"==this.area)for(a=this.widget.width-18,$("#"+this.parent.id+"-content-east").attr("width",this.widget.width),this.events.expanded&&this.events.expanded(this.widget),$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse-e"),$("#"+this.id+"-expand").addClass("ui-panel-btn-expand-e"),
$("#"+this.id+"-filler").css("visibility","hidden"),b=0;b<this.parent.widgets.length;b++)c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d&&(e=$("#"+c).width()-a,$("#"+c).width(e),$("#"+c).css("max-width",e),(c=$get(c))&&c.doLayout());else for("south"==this.area?(e=$("#"+this.id+"-title").height(),b=this.widget.config.height,a=b-e,$("#"+this.id).css("height",b),this.events.collapsed&&this.events.collapsed(this.widget),$("#"+this.id+"-expand").addClass("ui-panel-btn-expand"),$("#"+
this.id+"-expand").removeClass("ui-panel-btn-collapse"),$("#"+this.parent.id+"-content-row-south").attr("height",this.height)):(e=$("#"+this.id+"-title").height(),b=this.widget.config.height,a=b-e,$("#"+this.id).css("height",b),this.events.collapsed&&this.events.collapsed(this.widget),$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand"),$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse"),$("#"+this.parent.id+"-content-row-north").attr("height",this.widget.height)),b=0;b<this.parent.widgets.length;b++)if(c=
this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){e=$("#"+c).height()-a;$("#"+c).css("height",e);$("#"+c).css("max-height",e);e=$("#"+c+"-body").height()-a;$("#"+c+"-body").css("height",e);$("#"+c+"-body").css("max-height",e);if("west"==d||"east"==d)e=$("#"+c+"-filler").height()-a,$("#"+c+"-filler").css("height",e);(c=$get(c))&&c.doLayout()}this.widget.expanded=!0}},collapsePanel:function(){if(this.widget.expanded){var a=$("#"+this.id+"-title").height();$("#"+
this.id).css("height",a);$("#"+this.id).css("max-height",a);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-plus");$("#"+this.id+"-expand").removeClass("ui-panel-btn-minus");this.widget.expanded=!1}},expandPanel:function(){if(!this.widget.expanded){var a=$("#"+this.parent.id).height(),b=$("#"+this.parent.id+"-title").height(),a=a-b-(this.parent.widgets.length-1)*idev.defaultTitleHeight;$("#"+this.id).css("height",a);$("#"+this.id).css("max-height",
a);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").removeClass("ui-panel-btn-plus");$("#"+this.id+"-expand").addClass("ui-panel-btn-minus");for(a=0;a<this.parent.widgets.length;a++)b=$get(this.parent.widgets[a].id),b.expanded&&b.layoutManager.collapsePanel();this.widget.expanded=!0;this.widget.doLayout()}},expand:function(){"frame"==this.parent.layout?this.expandArea():"accordion"==this.parent.layout?this.expandPanel():this.widget.expand()},collapse:function(){"frame"==
this.parent.layout?this.collapseArea():"accordion"==this.parent.layout?this.collapsePanel():this.widget.collapse(this.widget.titleHeight)},resizePanel:function(){var a=this.widget.height,b=this.widget.width;this.widget.title&&(a-=this.widget.titleHeight);this.widget.tbar&&(a-=this.widget.tbarHeight);this.widget.bbar&&(a-=this.widget.bbarHeight);$("#"+this.id+"-background").css("width",b);$("#"+this.id+"-background").css("max-width",b);$("#"+this.id+"-body").css("width",b);$("#"+this.id+"-body").css("max-width",
b);$("#"+this.id+"-content").css("width",b);$("#"+this.id+"-content").css("max-width",b);this.widget.expanded&&($("#"+this.id+"-body").css("height",a),$("#"+this.id+"-content").css("height",a));this.widget.title&&($("#"+this.id+"-title").css("width",b),$("#"+this.id+"-title").css("max-width",b));this.widget.tbar&&($("#"+this.id+"-tbar").css("width",b),$("#"+this.id+"-tbar").css("max-width",b),this.widget.tbar.doLayout());this.widget.bbar&&($("#"+this.id+"-bbar").css("width",b),$("#"+this.id+"-bbar").css("max-width",
b),this.widget.bbar.doLayout());"west"!=this.widgetarea&&"east"!=this.widgetarea||$("#"+this.id+"-filler").css("height",a);return a},doLayout:function(){try{var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.widget.width=a;this.widget.height=b;if("fit"==this.layout)for(var c=this.resizePanel(),d=0;d<this.widget.children.length;d++)this.widget.children[d].resize(a,c),this.widget.children[d].doLayout();else if("frame"==this.layout){this.resizePanel();c=a;this.widget.title&&(b-=$("#"+this.id+
"-title").height());for(d=0;d<this.widget.children.length;d++){if("west"==this.widget.children[d].area){var e=this.widget.children[d].getWidth();this.widget.children[d].expanded||(e=24);c-=e}"east"==this.widget.children[d].area&&(e=this.widget.children[d].getWidth(),this.widget.children[d].expanded||(e=24),c-=e);if("north"==this.widget.children[d].area){var f=this.widget.children[d].getHeight();this.widget.children[d].expanded||(f=$("#"+this.widget.children[d].id+"-title").height());b-=f}"south"==
this.widget.children[d].area&&(f=this.widget.children[d].getHeight(),this.widget.children[d].expanded||(f=$("#"+this.widget.children[d].id+"-title").height()),b-=f)}$("#"+this.id+"-content-table").attr("width",e);for(d=0;d<this.widget.children.length;d++){var h=this.widget.children[d].id;"south"==this.widget.children[d].area?($("#"+h).css("width",a),$("#"+h).css("max-width",a),$("#"+h+"-body").css("width",a),$("#"+h+"-body").css("max-width",a),$("#"+h+"-background").css("width",a),$("#"+h+"-background").css("max-width",
a)):"north"==this.widget.children[d].area?($("#"+h).css("width",a),$("#"+h).css("max-width",a),$("#"+h+"-body").css("width",a),$("#"+h+"-body").css("max-width",a),$("#"+h+"-background").css("width",a),$("#"+h+"-background").css("max-width",a)):"west"==this.widget.children[d].area?($("#"+h).css("height",b),$("#"+h).css("max-height",b),$("#"+h+"-body").css("height",b),$("#"+h+"-body").css("max-height",b),$("#"+h+"-background").css("height",b),$("#"+h+"-background").css("max-height",b),this.widget.children[d].doLayout()):
"center"==this.widget.children[d].area?($("#"+h).css("height",b),$("#"+h).css("max-height",b),$("#"+h+"-body").css("height",b),$("#"+h+"-body").css("max-height",b),$("#"+h+"-background").css("height",b),$("#"+h+"-background").css("max-height",b),$("#"+h).css("width",c),$("#"+h).css("max-width",c),$("#"+h+"-body").css("width",c),$("#"+h+"-body").css("max-width",c),$("#"+h+"-background").css("width",c),$("#"+h+"-background").css("max-width",c),this.widget.children[d].doLayout()):"east"==this.widget.children[d].area&&
($("#"+h).css("height",b),$("#"+h).css("max-height",b),$("#"+h+"-body").css("height",b),$("#"+h+"-body").css("max-height",b),$("#"+h+"-background").css("height",b),$("#"+h+"-background").css("max-height",b),this.widget.children[d].doLayout())}}else if("accordion"==this.layout)for(c=this.resizePanel(),this.widget.children.length&&(c-=(this.widget.children.length-1)*idev.defaultTitleHeight),d=0;d<this.widget.children.length;d++)this.widget.children[d].expanded&&($("#"+this.widget.children[d].id).css("height",
c),$("#"+this.widget.children[d].id).css("max-height",c)),$("#"+this.widget.children[d].id).css("width",a),$("#"+this.widget.children[d].id).css("max-width",a),this.widget.children[d].expanded?this.widget.children[d].resize(a,c):this.widget.children[d].resize(a,this.widget.children[d].titleHeight);else for(this.resizePanel(),d=0;d<this.widget.children.length;d++)try{this.widget.children[d].doLayout()}catch(n){alert("DL Error:",n.description),alert(this.widget.children[d].wtype)}}catch(l){alert("LAYOUT Error:",
l.description)}}}),baseWidget=idevObject.extend({init:function(a){this.config=null==a?{}:a;this.deferredRender=this.rendered=!1;null!=this.config.id&&$get(this.config.id)&&(idev.errorHandler("Duplicate Widget ID : "+this.config.id),this.config.id=null,a.id=null);this.id=null==this.config.id?idev.internal.nextUIID():this.config.id;this.wtype=this.config.wtype;this.page=this.config.page;this.parent=this.config.parent;this.tpl=new idev.wTemplate;this.data=null==this.config.data?{}:this.config.data;this.dd=
new idevDD(this);this.renderTo=this.config.renderTo;this.field=null==this.config.field?"":this.config.field;this.cls=null==this.config.cls?"":this.config.cls;this.title=null==this.config.title?"":this.config.title;this.style=null==this.config.style?"":this.config.style;this.labelStyle=null==this.config.labelStyle?"":this.config.labelStyle;this.x=this.config.x;this.y=this.config.y;this.right=this.config.right;this.bottom=this.config.bottom;this.width=this.config.width;this.height=this.config.height;
this.minwidth=this.config.minwidth;this.minheight=this.config.minheight;this.autoDestroy=null==this.config.autoDestroy?!1:this.config.autoDestroy;this.hidden=null==this.config.hidden?!1:this.config.hidden;this.hideType=null==this.config.hideType?"display":this.config.hideType;this.parent&&"ui-toolbar"==this.parent.id&&(this.hideType="visibility");this.enabled=null==this.config.enabled?!0:this.config.enabled;this.padding=null==this.config.padding?0:this.config.padding;this.border=null==this.config.border?
!1:this.config.border;this.borderStyle=null==this.config.borderStyle?"":this.config.borderStyle;this.borderColor=null==this.config.borderColor?"":this.config.borderColor;this.ds=this.config.ds;this.fn=null==this.config.fn?{}:this.config.fn;this.fn.parent=this;this.events=null==this.config.events?{}:this.config.events;this.widgets=this.config.widgets||[];this.autoScroll=null==this.config.autoScroll?!1:this.config.autoScroll;this.html=null==this.config.html?"":this.config.html;this.text=null==this.config.text?
"":this.config.text;this.color=null==this.config.color?"":this.config.color;this.value=null==this.config.value?"":this.config.value;this.animSpeed=null==this.config.animSpeed?1E3:this.config.animSpeed;this.expandTime=this.config.expandTime||500;this.attr=this.config.attr;this.nofloat=this.config.nofloat;this.anchor=this.config.anchor||"";this.anchorMargin=this.config.anchorMargin||{left:0,top:0,right:0,bottom:0};this.radius=idev.convertNulls(this.config.radius,4);this.disabledCls=this.config.disabledCls||
"";this.required=null==this.config.required?!1:this.config.required;this.requiredCls=this.config.requiredCls||"ui-required";this.required&&(this.cls+=" "+this.requiredCls);a=this.alignAchor();this.width=a.width;this.height=a.height;this.expanded=!0;this.parent&&"string"==typeof this.x&&"@"==this.x.substr(0,1)&&(a=$("#"+this.parent.id).width(),this.x=null==a?parseInt(this.x.substr(1)):a-parseInt(this.x.substr(1)));this.config.right&&(a=$("#"+this.parent.id).width(),this.x=null==a?this.config.right:
a-this.config.right);this.parent&&"string"==typeof this.y&&"@"==this.y.substr(0,1)&&(a=$("#"+this.parent.id).height(),this.y=null==a?parseInt(this.y.substr(1)):a-parseInt(this.y.substr(1)));this.config.bottom&&(a=$("#"+this.parent.id).height(),this.y=null==a?this.config.bottom:a-this.config.bottom);this.border&&""==this.borderStyle&&(""!==this.borderColor?this.borderStyle="1px solid "+this.borderColor+";":"panel"==this.wtype?this.config.panelCls+=" ui-border":this.cls+=" ui-border");null!=this.width&&
(this.width=parseInt(this.width));null!=this.minwidth&&this.width<this.minwidth&&(this.width=this.minwidth);null!=this.height&&("listbox"!=this.wtype&&"auto"==this.height?this.height=null:"auto"!=this.height&&(this.height=parseInt(this.height)));null!=this.minheight&&this.height<this.minheight&&(this.height=this.minheight);null!=this.x&&(this.x=parseInt(this.x));null!=this.y&&(this.y=parseInt(this.y));null!=this.right&&(this.right=parseInt(this.right));null!=this.bottom&&(this.bottom=parseInt(this.bottom));
"button"==this.wtype&&null==this.height&&(this.height=40);"button"==this.wtype&&null==this.width&&(this.width=80);this.calcElementStyle();this.roundCorners=null==this.config.roundCorners?!1:this.config.roundCorners;this.layout=null==this.config.layout?"":this.config.layout;this.labelCls=this.config.labelCls||"";this.resizer=new idevResize(this);this.children=[];this.config.id=this.id;this.events.dblclick&&(this.events.dblclick=this.events.dblclick);this.events.afterRender&&(this.events.afterrender=
this.events.afterRender);this.layoutConfig=this.config.layoutConfig;this.variable=this.config.variable;this.inLayout=this.resizing=!1;idev.internal.add(this)},alignAchor:function(){var a={width:this.width,height:this.height};if(""!=this.anchor){this.rendered&&(a.height=this.getHeight(),a.width=this.getWidth());var b=$("#"+this.renderTo).position();if(b){var c=this.parent.getInnerHeight(),d=this.parent.getInnerWidth();0==b.left&&this.parent.labelWidth&&(b.left=this.parent.labelWidth);null==this.anchorMargin.left&&
(this.anchorMargin.left=0);null==this.anchorMargin.top&&(this.anchorMargin.top=0);null==this.anchorMargin.right&&(this.anchorMargin.right=0);null==this.anchorMargin.bottom&&(this.anchorMargin.bottom=0);null==this.x&&null==this.y&&(c-=this.anchorMargin.top+this.anchorMargin.bottom,d-=this.anchorMargin.left+this.anchorMargin.right,this.parent.padding&&(d-=2*this.parent.padding));null!=this.x&&(d-=this.x);null!=this.right&&(d-=this.right);null!=this.y&&(c-=this.y);null!=this.bottom&&(c-=this.bottom);
-1!==this.anchor.indexOf("top")&&(a.height=c-b.top);-1!==this.anchor.indexOf("left")&&(a.width=d-b.left)}}return a},cssQuirks:function(a,b){return idev.internal.cssQuirks(a,b)},calcElementStyle:function(){this.elementStyle="";if(null!=this.x||null!=this.y)this.elementStyle+="position:absolute;";null!=this.x&&(this.elementStyle+="left:"+this.x+"px;");null!=this.y&&(this.elementStyle+="top:"+this.y+"px;");null!=this.width&&(this.elementStyle+="max-width:"+this.width+"px;width:"+this.width+"px;");null!=
this.height&&(this.elementStyle="auto"==this.height?this.elementStyle+("height:"+this.height+";"):this.elementStyle+("max-height:"+this.height+"px;height:"+this.height+"px;"));this.hidden&&"visibility"==this.hideType?this.elementStyle+="visibility:hidden;":this.hidden&&(this.elementStyle+="display:none;");this.nofloat&&(this.elementStyle+="float:none;")},setDraggable:function(a){a?$("#"+this.id).attr("draggable","Y"):$("#"+this.id).attr("draggable","N")},isDraggable:function(){return"Y"==$("#"+this.id).attr("draggable")?
!0:!1},remove:function(){if(this.parent)for(var a=0;a<this.parent.widgets.length;a++)this.parent.widgets[a].id==this.id&&this.parent.widgets.splice(a,1)},destroy:function(a){this.events.destroy&&this.events.destroy(this);this.ds&&this.ds.unbind(this);this.ondestroy();if(this.widgets)for(var b=0;b<this.widgets.length;b++){var c=idev.get(this.widgets[b].id);try{c.destroy()}catch(d){}}this.tpl&&delete this.tpl;this.iScroll&&delete this.iScroll;idev.internal.remove(this.id);$delay(100,function(a){delete a},
this);a&&this.remove()},getPosition:function(){var a={x:0,y:0},b=$("#"+this.id).position();b&&(a.x=b.left,a.y=b.top);return a},css:function(a,b){return $("#"+this.id).css(a,b)},attr:function(a,b){return $("#"+this.id).attr(a,b)},bringForward:function(){var a=$("#"+this.id).css("z-index"),a="auto"==a?0:parseInt(a);$("#"+this.id).css("z-index",a+1)},sendBack:function(){var a=$("#"+this.id).css("z-index"),a="auto"==a?0:parseInt(a);$("#"+this.id).css("z-index",a-1)},hide:function(){this.hidden=!0;"visibility"==
this.hideType?$("#"+this.id).css("visibility","hidden"):$("#"+this.id).hide();this.onhide()},show:function(){this.hidden=!1;"visibility"==this.hideType?($("#"+this.id).css("visibility","visible"),idev.isIE8()&&"icon"==this.wtype&&this.refresh()):$("#"+this.id).show();this.onshow()},isVisible:function(){return $("#"+this.id).is(":visible")},fadeOut:function(a,b,c){null==a&&(a=this.animSpeed);$("#"+this.id).fadeOut(a,b,c)},fadeIn:function(a,b,c){null==a&&(a=this.animSpeed);$("#"+this.id).fadeIn(a,b,
c)},fadeToggle:function(a,b,c){$("#"+this.id).fadeToggle(speed,b,c)},moveTo:function(a,b,c,d,e){null==d&&(d="linear");null==c&&(c="fast");$("#"+this.id).animate({left:a,top:b},c,d,e)},moveBy:function(a,b,c,d,e){null==d&&(d="linear");null==c&&(c="fast");$("#"+this.id).animate({left:"+="+a,top:"+="+b},c,d,e)},animate:function(a,b,c,d){null!=a&&(null==c&&(c="linear"),null==b&&(b="fast"),$("#"+this.id).animate(a,b,c,d))},focus:function(){"input"==this.wtype||"textarea"==this.wtype||"combo"==this.wtype?
$delay(100,function(a){a=$("#"+a+"-input");a.focus();if(idev.isFF()){var b=a.value.length;a.focus();a.setSelectionRange(b,b)}else a.value=a.value},this.id):"button"==this.wtype&&$("#"+this.id).focus()},blur:function(){"input"==this.wtype||"textarea"==this.wtype||"combo"==this.wtype?$delay(100,function(a){$("#"+a+"-input").blur()},this.id):"button"==this.wtype&&$("#"+this.id).blur()},widgetCount:function(){return this.widgets.length},enable:function(a){(this.enabled=a)?$("#"+this.id).removeClass(this.disabledCls):
$("#"+this.id).addClass(this.disabledCls);"button"==this.wtype&&this.enableButton(a)},isEnabled:function(){return this.enabled},getWidth:function(){return $("#"+this.id).width()},getHeight:function(){return $("#"+this.id).height()},getInnerWidth:function(){return $("#"+this.id).innerWidth()},getInnerHeight:function(){return $("#"+this.id).innerHeight()},getParent:function(){var a=this.renderTo,b=a.indexOf("-",3);-1!=b&&(a=a.substr(0,b));return idev.get(a)},getWidget:function(a){return 0>a||a>=this.widgets.length?
null:this.children[a]},resize:function(a,b){if(!this.resizing){this.resizing=!0;$("#"+this.id).css("width",a);$("#"+this.id).css("max-width",a);$("#"+this.id).css("height",b);$("#"+this.id).css("max-height",b);"west"!=this.area&&"east"!=this.area||$("#"+this.id+"-filler").css("height",b);this.width=a;this.height=b;if(this.events.onResize)this.events.onResize(this);this.doLayout();this.resizing=!1}},fireEvent:function(a,b){try{return this.events[a].call(this,this,b),!0}catch(c){return!1}},doResize:function(a){a?
this.resizer.add():this.resizer.remove()},collapse:function(a){$("#"+this.id).animate({height:a+"px"},this.expandTime);this.expanded=!1;$("#"+this.id+"-expand").addClass("ui-panel-btn-expand");$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse")},expand:function(){$("#"+this.id).animate({height:this.height+"px"},this.expandTime);this.expanded=!0;$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand");$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse")},collapseWidth:function(a){$("#"+
this.id).animate({width:a+"px"},this.expandTime);this.expanded=!1},expandWidth:function(){$("#"+this.id).animate({width:this.width+"px"},this.expandTime);this.expanded=!0},addEvent:function(a,b){$("#"+this.id).bind(a,b)},removeEvent:function(a){$("#"+this.id).unbind(a)},doLayout:function(){if(!this.inLayout){this.inLayout=!0;if(this.bottom){var a=0,a="panel"==this.parent.wtype?$("#"+this.parent.id+"-content").height()-this.bottom:$("#"+this.parent.id).height()-this.bottom;$("#"+this.id).css("top",
a)}this.right&&(a=0,a="panel"==this.parent.wtype?$("#"+this.parent.id+"-content").width()-this.right:$("#"+this.parent.id).width()-this.right,$("#"+this.id).css("left",a));""!=this.anchor&&(a=this.alignAchor(),$("#"+this.id).width(a.width),$("#"+this.id).height(a.height));if(this.events.onLayout)this.events.onLayout(this);for(a=0;a<this.children.length;a++)this.children[a].doLayout();this.inLayout=!1}},beforeResize:function(){},afterResize:function(){},ondestroy:function(){},onhide:function(){this.parent&&
"form"==this.parent.layout&&$("#"+this.id+"-label").hide();this.events.hide&&this.events.hide(this);for(var a=0;a<this.widgets.length;a++){var b=idev.get(this.widgets[a].id);try{b.onhide()}catch(c){}}},onshow:function(){this.parent&&"form"==this.parent.layout&&!0!==this.hidden&&$("#"+this.id+"-label").show();this.events.show&&this.events.show(this);try{for(var a=0;a<this.widgets.length;a++)idev.get(this.widgets[a].id).onshow()}catch(b){}},refresh:function(){},setOpacity:function(a,b){if(!isNaN(a)){var c=
this;b&&(c+="-"+b);c.css("opacity",a)}},getValue:function(){return""},setValue:function(){},setDS:function(a){this.ds&&this.ds.unbind(this);this.ds=a;a.bind(this);this.refresh()}}),idevCore=idevObject.extend({init:function(){this.body=document.body;this.pageManager=new this.pageManagerClass;this.agent=navigator.userAgent.toLowerCase();this.widgets=[];this.plugins=[];this.pgHeight=this.pgWidth=null;this.heightadj=0;this.body="container";this.orient="profile";this.app=this.geoerror=this.geoposition=
null;this.controlHeight=this.ey=this.sy=this.ex=this.sx=0;this.swipping=this.hasPopup=!1;this.path="js/idevui/";this.languagepath="js/";this.blankimage="images/s.gif";this.fadeInTime=this.fadeOutTime=1E3;this.animationTime=500;this.modals=this.uiid=0;this.charWidth=8;this._dragging=!1;this.designMode=!0;this.dependancy=[];this.loadedFiles=[];this.hideFN=this.hideWidget=null;_preferences.config=_preferences.config||{};_preferences.button=_preferences.button||{};_preferences.ux=_preferences.ux||[];
_preferences.imports=_preferences.imports||[];_preferences.config.norightclick=null==_preferences.config.norightclick?!0:_preferences.config.norightclick;_preferences.config.fitDocument=null==_preferences.config.fitDocument?!0:_preferences.config.fitDocument;_preferences.config.pageFit=null==_preferences.config.pageFit?!0:_preferences.config.pageFit;_preferences.config.trapunload=null==_preferences.config.trapunload?!0:_preferences.config.trapunload;_preferences.config.unloadText=null==_preferences.config.unloadText?
!1:_preferences.config.unloadText;_preferences.useCSS3=null==_preferences.useCSS3?!0:_preferences.useCSS3;_preferences.forcereload=null==_preferences.config.forcereload?!1:_preferences.config.forcereload;if(_preferences.meta)for(var a=0;a<_preferences.meta.length;a++)this.dependancy.push(_preferences.meta[a]);this.dependancy.push(_preferences.libpath+"idevui.css");_preferences.theme?-1==_preferences.theme.indexOf("/")?this.dependancy.push(_preferences.libpath+"themes/"+_preferences.theme+"/theme.css"):
this.dependancy.push(_preferences.theme):this.dependancy.push(_preferences.libpath+"themes/default/theme.css");_preferences.styling&&this.dependancy.push(_preferences.styling);-1!=navigator.userAgent.toLowerCase().indexOf("msie 8")&&this.dependancy.push(_preferences.libpath+"jquery191min.js");this.dependancy.push(_preferences.libpath+"jquerycookie.js");this.dependancy.push(_preferences.libpath+"raphaelmin.js");this.dependancy.push(_preferences.libpath+"iscroll.js");this.dependancy.push(_preferences.libpath+
"icons.js");this.dependancy.push(_preferences.libpath+"jquery.animateshadow.js");_preferences.title&&(document.title=_preferences.title);this.colors=new idevColors;this.url=String(window.location);this.rawUrl=String(window.location);this.parameters=[];if(0<this.url.indexOf("?")){var b=this.url.indexOf("?"),c=this.url.substr(b+1);this.url=this.url.substr(0,b);b=c.split("&");for(a in b){if("string"!=typeof b[a])break;c=b[a].split("=");this.parameters[c[0]]=c[1]}}this.standaloneOffset=0;this.events=
{onstartdrag:null,ondrag:null,onenddrag:null,onmousemove:null,onmousedown:null,onmouseup:null};this.dataShare={};this.fn={};this.rkey=13;for(this.rAlphabet="";93>this.rAlphabet.length;)a=String.fromCharCode(Math.floor(95*Math.random()+1)+32),"%"!=a&&("*"!=a&&-1==this.rAlphabet.indexOf(a))&&(this.rAlphabet+=a);this.defaultMWidth=250;this.defaultMHeight=150;this.defaultMPadding=10;this.defaultMBtnWidth=70;this.defaultMBtnHeight=26;this.defaultMIconSize=48;this.defaultMFontSize=14;this.defaultMBBarHeight=
34;this.defaultMBGCls="ui-message-body";this.defaultMCls="ui-message-content";this.defaultMTitleCls="ui-message-title";this.defaultMTbarCls="ui-message-tbar";this.defaultMBbarCls="ui-message-bbar";this.defaultMShadow=!1;this.defaultTitleHeight=24;this.focusHighlight=!1;this.highlightCSS="0px 0px 8px #336699";(this.isIE9()||this.isIE10())&&this.internal.addStyle(".ie9gradient{filter:none !important;}")},funcs:{},internal:{cssQuirks:function(a,b){idev.isIE9()&&(a+=" ie9gradient");idev.isIE8()&&b&&(a+=
" ui-modern");return a},killBackSpace:function(a){if($("*:focus")[0]&&$("*:focus").hasClass("no-kill-backspace"))return!0;a=a?a:window.event;if(70==a.keyCode&&a.ctrlKey||114==a.keyCode)return a.preventDefault(),!1;var b=a.target?a.target:a.srcElement?a.srcElement:null;return b&&b.tagName&&b.type&&/(password)|(text)|(file)/.test(b.type.toLowerCase())||"textarea"==b.tagName.toLowerCase()?!0:8==(a.keyCode?a.keyCode:a.which?a.which:null)&&null==a.target?(a.preventDefault&&a.preventDefault(),!1):!0},load:function(a,
b){"object"===typeof idevLoader&&(idevLoader.steps=idev.dependancy.length);"object"===typeof idevLoader&&idevLoader.step(idev.dependancyIndex);if(idev.dependancyIndex==idev.dependancy.length)idev.internal.prepare(),"object"===typeof idevLoader&&idevLoader.remove();else if("object"==typeof idev.dependancy[idev.dependancyIndex])idev.internal.addMeta(idev.dependancy[idev.dependancyIndex]),idev.dependancyIndex++;else{var c=idev.dependancy[idev.dependancyIndex].toLowerCase();""==c?(idev.dependancyIndex++,
idev.internal.load()):-1!=c.indexOf("jquery191min")&&"undefined"!==typeof jQuery?(idev.dependancyIndex++,idev.internal.load()):(-1!=c.indexOf(".css")?idev.internal.addStyleSheet(idev.dependancy[idev.dependancyIndex],idev.internal.load):idev.internal.addScript(idev.dependancy[idev.dependancyIndex],idev.internal.load),idev.dependancyIndex++)}},refreshCSS:function(a){var b,c;for(b=0;c=document.getElementsByTagName("link")[b];b++)if(-1!=c.getAttribute("rel").indexOf("style")&&-1!=c.getAttribute("href").indexOf(a)){var d=
c.href.replace(/(&|\\?)forceReload=d /,"");c.href=d+(0<=d.indexOf("?")?"&":"?")+"forceReload="+(new Date).valueOf()}},callback:function(){},loadDependants:function(){_language.setLanguage(_preferences.language);idev.dependancyIndex=0;"english"!=_preferences.language&&idev.dependancy.push(_preferences.languagepath+_preferences.language+".js");idev.isIE7()&&idev.dependancy.push(_preferences.libpath+"/charts/excanvasmin.js");idev.isIE8()&&idev.dependancy.push(_preferences.libpath+"/charts/excanvasmin.js");
_preferences.config.charts&&(idev.dependancy.push(_preferences.libpath+"charts/jqueryflotmin.js"),idev.dependancy.push(_preferences.libpath+"charts/jqueryflotaxislabels.js"),idev.dependancy.push(_preferences.libpath+"charts/jqueryflotpiemin.js"));if(_preferences.ux)for(var a=0;a<_preferences.ux.length;a++)idev.dependancy.push(_preferences.libpath+"ux/"+_preferences.ux[a]);if(_preferences.imports)for(a=0;a<_preferences.imports.length;a++)idev.dependancy.push(_preferences.apppath+_preferences.imports[a]);
_preferences.events&&("function"==typeof _preferences.events.beforeLoad&&_preferences.events.beforeLoad(),"function"==typeof _preferences.events.beforeload&&_preferences.events.beforeload());idev.dependancy.push(_preferences.apppath+_preferences.app);idev.internal.load()},prepare:function(){idev.extensions();$(document).ready(function(){idev.dom=$;idev.pgHeight=$(document).height();idev.pgWidth=$(document).width();$("#container").html("");idev.internal.bind();idev.app.events&&("function"==typeof idev.app.events.beforeRender&&
idev.app.events.beforeRender(),"function"==typeof idev.app.events.beforerender&&idev.app.events.beforerender());idev.internal.render();idev.app.events&&(idev.isTouch()&&window.scrollTo(0,1),"function"==typeof idev.app.events.afterRender&&idev.app.events.afterRender(),"function"==typeof idev.app.events.afterrender&&idev.app.events.afterrender());idev.app.width&&$("#container").width(idev.app.width);idev.app.height&&$("#container").height(idev.app.height);idev.callback();if(idev.isIPad()||idev.isIPhone()||
idev.isAndroid())"portrait"==_preferences.orientation||"landscape"==_preferences.orientation?"landscape"==_preferences.orientation?$("body").attr("orient","landscape"):$("body").attr("orient","profile"):(idev.currentWidth=window.innerWidth,setInterval(idev.internal.onUpdateLayout,500))})},isLoaded:function(a){for(var b=0;b<idev.loadedFiles.length;b++)if(idev.loadedFiles[b]==a)return!0;return!1},addStyle:function(a){var b=document.createElement("link");a=encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,
"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+");document.head=document.head||document.getElementsByTagName("head"[0]);b.href="data:text/css,"+a;b.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(b)},addForceLoad:function(a){_preferences.forcereload&&(a=-1==a.indexOf("?")?a+("?forceReload="+(new Date).valueOf()):a+("&forceReload="+(new Date).valueOf()));return a},addStyleSheet:function(a,b){if(idev.internal.isLoaded(a))b&&b(a);else{idev.loadedFiles.push(a);
var c=document.createElement("link");c.rel="stylesheet";c.href=idev.internal.addForceLoad(a);c.callback=b;$debug(c.href);idev.isIE7()||idev.isIE8()?c.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)idev.loadedFiles.push(a),this.callback(a)}:$delay(200,function(b){b&&b(a)},b);document.getElementsByTagName("head")[0].appendChild(c)}},addScript:function(a,b,c){if(idev.internal.isLoaded(a))idev.errorHandler("Already Loaded "+a),b&&b(c);else{idev.loadedFiles.push(a);
var d=document.createElement("script");d.type="text/javascript";d.src=idev.internal.addForceLoad(a);d.callback=b;$debug(d.src);idev.isIE7()||idev.isIE8()?d.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)"undefined"!=typeof $&&null==idev.pgWidth&&(idev.pgHeight=$(document).height(),idev.pgWidth=$(document).width()),b&&this.callback(c,a)}:(d.onload=function(){"undefined"!=typeof $&&null==idev.pgWidth&&(idev.pgHeight=$(document).height(),window.navigator.standalone&&
idev.isIPad()&&(idev.pgHeight-=20),idev.pgWidth=$(document).width());idev.loadedFiles.push(a);$delay(0,function(b){b&&b(a)},b)},d.onerror=function(){idev.errorHandler("Failed to load script '"+a+"'");b&&this.callback(c,a)});idev.isIE8();document.getElementsByTagName("head")[0].appendChild(d)}},addMeta:function(a,b){var c=document.createElement("meta");c.name=a.name;c.content=a.content;document.getElementsByTagName("head")[0].appendChild(c);b&&idev.utils.delay(100,function(b){b(a)},b)},bind:function(){if("undefined"!=
typeof document.addEventListener)document.addEventListener("keydown",idev.internal.killBackSpace,!1);else if("undefined"!=typeof document.attachEvent)document.attachEvent("onkeydown",idev.internal.killBackSpace);else if(null!=document.onkeydown){var a=document.onkeydown;document.onkeydown=function(b){a(b);idev.internal.killBackSpace(b)}}else document.onkeydown=idev.internal.killBackSpace;window.onerror=function(a,c,d){_preferences.verbose&&alert("JavaScript error:\n\n"+a+"\n\nOn line "+d+"\n\n"+c);
idev.errorHandler(a+"\n  On line "+d+"\n  "+c);return!0};_preferences.config.trapunload&&(window.onbeforeunload=function(a){return _preferences.config.unloadText?_preferences.config.unloadText:"Are you sure that you wish to exit the application?"});$(window).resize(function(a){idev.pageManager.syncSize(a);if(null!=idev.app.events)if("function"==typeof idev.events.onResize)idev.app.events.onResize(a);else if("function"==typeof idev.events.onresize)idev.app.events.onresize(a)});if(_preferences.config.norightclick||
_preferences.config.noRightClick)document.oncontextmenu=function(a){return!1};$(document).bind("mousedown",function(a){var c=0;idev.mousedowntime=new Date;idev.mousemoved=!1;idev.mousestartx=a.pageX;idev.mousestarty=a.pageY;idev.mouseendx=a.pageX;idev.mouseendy=a.pageY;null==a&&(a=window.event);idev.isIE7()&&(c=1);idev.isIE8()&&(c=1);if(idev.events.onmousedown)idev.events.onmousedown(a);idev.hideFN&&(idev.hideFN(idev.hideWidget,a),idev.hideFN=null,idev.hideWidget=null);idev.orgEvent=a;if(idev.hideWidget){var d=
null!=a.target?a.target:a.srcElement;d&&d.id.substr(0,idev.hideWidget.id.length)!=idev.hideWidget.id&&(d.parentElement&&d.parentElement.id.substr(0,idev.hideWidget.id.length)!=idev.hideWidget.id)&&$delay(99,function(){idev.hideWidget&&(idev.hideWidget.parent&&(idev.hideWidget.parent.visible=!1),idev.hideWidget.hide(),idev.hideWidget=null)})}if(a.button==c&&(d=null!=a.target?a.target:a.srcElement,c=!1,!d.id||-1==d.id.indexOf("-wrapper"))){idev.dd=!1;idev.widgetMoved=!1;for(idev._dragWidgetId=d.id;d;){d.id&&
-1!=d.id.indexOf("-title")&&(c=!0);idev._dragWidget=idev.get(d.id);if(idev._dragWidget&&idev._dragWidget.dd.allowDrag)return idev._dragWidget.dd.startDD(a),idev.dd=!0,document.onselectstart=function(){return!1},d.ondragstart=function(){return!1},c=idev.utils.mousePosition(a),idev._sX=c.x,idev._sY=c.y,!1;var e=$("#"+d.id).attr("draggable");if("Y"==e){!c&&idev._dragWidget&&"window"!=idev._dragWidget.wtype&&(c=!0);break}if(idev._dragWidget&&"button"==idev._dragWidget.wtype&&(e=$("#"+d.id).attr("draggable"),
"Y"!=e))return;d=d.parentNode;if(null==d)return}if("window"!=idev._dragWidget.wtype||c){idev._resizable=!1;-1!=idev._dragWidgetId.indexOf("-drhandle")&&(idev._resizable="Y"==$("#"+d.id).attr("resizable")?!0:!1);if(idev._dragWidget.events.beforedrag&&!1===idev._dragWidget.events.beforedrag(idev._dragWidget))return!1;if(!idev._dragWidget.resizer.isResizing()&&"panel"==idev._dragWidget.wtype)if(idev._dragWidget.title){if(-1==idev._dragWidgetId.indexOf("-titletext"))return}else if((c=$("#"+idev._dragWidgetId))&&
c.scrollHeight>c.clientHeight&&(c=idev.utils.mousePosition(a),c.x>$("#"+idev._dragWidgetId).width()-20))return;idev._cursor=null;e=idev.internal.getMouseOffset(d,a);c=idev.utils.mousePosition(a);idev._startX=e.x;idev._startY=e.y;idev._sX=c.x;idev._sY=c.y;idev._dragging=!0;idev._offsetX=10;idev._offsetY=10;idev._oldZIndex=d.style.zIndex;d.style.zIndex=2E4;idev._dragElement=d;document.onselectstart=function(){return!1};d.ondragstart=function(){return!1};idev._dragWidget.events.startdrag&&idev._dragWidget.events.startdrag(idev._dragWidget,
a);if(idev.events.onstartdrag)idev.events.onstartdrag(idev._dragWidget,a);if(!idev.isiPad()&&!idev.isIPhone())return!1}}});$(document).bind("mousemove",function(a){null==a&&(a=window.event);idev.mousemoved=!0;idev.mouseendx=a.pageX;idev.mouseendy=a.pageY;if(idev.dd){idev.dd=!1;idev._dragElement=null!=a.target?a.target:a.srcElement;var c=idev.findID(idev._dragElement).id;if(0!=c.indexOf(idev._dragWidget.id)){var d=idev._dragWidget.id+"-dd",e=c.indexOf("-",3);-1==e&&(e=c.indexOf("_",3));-1!=e&&c!=d&&
(c=c.substr(0,e),(c=$get(c))&&c.dd.canDrop(idev._dragWidget))}idev._dragWidget.dd.move(a);idev.dd=!0;idev.widgetMoved=!0;a.preventDefault()}else if(idev._dragging){null==idev._cursor&&(idev._cursor=$("#"+idev._dragElement.id).css("cursor"),$("#"+idev._dragElement.id).css("cursor","move"));var f=idev.utils.mousePosition(a),c=parseInt(f.x-idev._startX),d=parseInt(f.y-(idev._startY+idev.app.toolbar.height+idev._offsetY)),e=f.x-idev._sX,h=f.y-idev._sY;idev._sX=f.x;idev._sY=f.y;if(idev._resizable){c=parseInt(idev._dragElement.style.left.replace("px",
""))+e;d=parseInt(idev._dragElement.style.top.replace("px",""))+h;a=parseInt(idev._dragElement.style.left.replace("px",""));var f=parseInt(idev._dragElement.style.top.replace("px","")),n=parseInt(idev._dragElement.style.width.replace("px","")),l=parseInt(idev._dragElement.style.height.replace("px",""));-1!=idev._dragWidgetId.indexOf("-drhandlenw")?idev._dragWidget.resizer.change(c,d,n-e,l-h):-1!=idev._dragWidgetId.indexOf("-drhandlene")?idev._dragWidget.resizer.change(a,d,n+e,l-h):-1!=idev._dragWidgetId.indexOf("-drhandlen")?
idev._dragWidget.resizer.change(a,d,n,l-h):-1!=idev._dragWidgetId.indexOf("-drhandlew")?idev._dragWidget.resizer.change(c,f,n-e,l):-1!=idev._dragWidgetId.indexOf("-drhandlese")?idev._dragWidget.resizer.change(a,f,n+e,l+h):-1!=idev._dragWidgetId.indexOf("-drhandlesw")?idev._dragWidget.resizer.change(c,f,n-e,l+h):-1!=idev._dragWidgetId.indexOf("-drhandles")?idev._dragWidget.resizer.change(a,f,n,l+h):-1!=idev._dragWidgetId.indexOf("-drhandlee")&&idev._dragWidget.resizer.change(a,f,n+e,l)}else{c=parseInt(idev._dragElement.style.left.replace("px",
""));d=parseInt(idev._dragElement.style.top.replace("px",""));idev._dragElement.style.left=c+e+"px";idev._dragElement.style.top=d+h+"px";a.preventDefault();if(0!=e||0!=h)idev.widgetMoved=!0;if(idev._dragWidget.events.ondrag)idev._dragWidget.events.ondrag(idev._dragWidget,a);if(idev.events.ondrag)idev.events.ondrag(idev._dragWidget,a)}}else if(idev.events.onmousemove)idev.events.onmousemove(a)});$(document).bind("mouseup",function(a){null==a&&(a=window.event);idev.mouseuptime=new Date;if(idev.events.onmouseup)idev.events.onmouseup(a);
if(idev.dd)idev.dd=!1,idev._dragWidget&&idev._dragWidget.dd.endDD(),idev._dragWidget.dd.allowDrag&&!idev.widgetMoved&&idev._dragWidget.enabled&&idev._dragWidget.events.click&&idev._dragWidget.events.click(idev._dragWidget,idev.orgEvent),document.onselectstart=null,a.preventDefault();else if(idev._dragging){idev._dragElement.style.zIndex=idev._oldZIndex;idev._dragElement.ondragstart=function(){return!0};null!=idev._cursor&&$("#"+idev._dragElement.id).css("cursor",idev._cursor);idev._dragElement=null;
idev._dragging=!1;document.onselectstart=null;idev._dragWidget&&idev.widgetMoved&&idev._dragWidget.events.afterdrag&&idev._dragWidget.events.afterdrag(idev._dragWidget,a);if(idev.events.onenddrag)idev.events.onenddrag(idev._dragWidget,a);a.preventDefault();a.stopPropagation();return!1}});idev.isTouch()&&(document.addEventListener("touchstart",function(a){var c=null!=a.target?a.target:a.srcElement;idev.mousedowntime=new Date;idev.mousemoved=!1;idev._swipping=!1;idev.widgetMoved=!1;var d=a.touches[0];
idev.mousestartx=d.pageX;idev.mousestarty=d.pageY;idev.mouseendx=d.pageX;for(idev.mouseendy=d.pageY;c;){idev._dragWidget=idev.get(c.id);var e=$("#"+c.id).attr("draggable");if("Y"==e)break;if(idev._dragWidget&&"button"==idev._dragWidget.wtype&&(e=$("#"+c.id).attr("draggable"),"Y"!=e))return;c=c.parentNode;if(null==c){"slide"==idev.pageManager.animationType&&-1!=a.target.id.indexOf("-content")&&(idev._swipping=!0,idev._startX=d.pageX,idev._startY=d.pageY);return}}if(idev._dragWidget.events.beforedrag&&
!1===idev._dragWidget.events.beforedrag(idev._dragWidget))return!1;var e=parseInt(c.style.left.replace("px","")),f=parseInt(c.style.top.replace("px",""));idev._startX=d.pageX-e;idev._startY=d.pageY-f;idev._dragging=!0;idev._oldZIndex=c.style.zIndex;c.style.zIndex=1E4;idev._dragElement=c;idev._dragWidget.events.startdrag&&idev._dragWidget.events.startdrag(idev._dragWidget);if(idev.events.onstartdrag)idev.events.onstartdrag(idev._dragWidget,a)}),document.addEventListener("touchmove",function(a){var c=
a.touches[0];idev.mouseendx=c.pageX;idev.mouseendy=c.pageY;idev.mousemoved=!0;if(idev.events.onmousemove)idev.events.onmousemove(a);idev.mousemoved=!0;if(idev._dragging&&(idev._dragElement.style.left=c.pageX-idev._startX+"px",idev._dragElement.style.top=c.pageY-idev._startY+"px",a.preventDefault(),idev.widgetMoved=!0,idev._endX=c.pageX,idev._endY=c.pageY,idev._dragWidget.events.ondrag))idev._dragWidget.events.ondrag(idev._dragWidget,a);idev._swipping&&(c=a.touches[0],idev._endX=c.pageX,idev._endY=
c.pageY);if(idev.events.onmousemove)idev.events.onmousemove(a)}),document.addEventListener("touchend",function(a){idev.mouseuptime=new Date;20>idev.mouseendx-idev.mousestartx&&(20>idev.mouseendy-idev.mousestarty&&!idev._dragging)&&(idev.mousemoved=!1);if(idev.events.onmouseup)idev.events.onmouseup(a);if(idev._dragging&&(idev._dragElement.style.zIndex=idev._oldZIndex,idev._dragElement=null,idev._dragging=!1,document.onselectstart=null,idev._dragWidget&&idev._dragWidget.events.afterdrag&&idev._dragWidget.events.afterdrag(idev._dragWidget),
idev.events.onenddrag))idev.events.onenddrag(idev._dragWidget,a);idev._swipping&&(a=idev._endX-idev._startX,100<a&&idev.prevPage(),-100>a&&idev.nextPage(),idev._swipping=!1)}))},onUpdateLayout:function(){if(window.innerWidth!=idev.currentWidth){idev.currentWidth=window.innerWidth;var a=idev.currentWidth<$(document).width()?"profile":"landscape";idev.orient=a;if(idev.app.events&&idev.app.events.onOrientation)idev.app.events.onOrientation(idev.orient)}},onHoverIn:function(a){null==a&&(a=window.event);
var b=this.id.indexOf("_");if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=c.events.click&&(c.resizer.resizing||c.enabled&&c.events.hover(c,!0,a))}else c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&null!=c.events.click&&(c.dsIndex=parseInt(b),c.resizer.resizing||c.enabled&&c.events.hover(c,!0,b,c.selected,a))},onHoverOut:function(a){null==a&&(a=window.event);var b=this.id.indexOf("_");if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=c.events.click&&(c.resizer.resizing||
c.enabled&&c.events.hover(c,!1,a))}else c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&null!=c.events.click&&(c.dsIndex=parseInt(b),c.resizer.resizing||c.enabled&&c.events.hover(c,!1,b,c.selected,a))},onClick:function(a){null==a&&(a=window.event);if(!idev.widgetMoved){var b=this.id.indexOf("_",1);if(-1==b){var c=idev.get(this.id);if(null!=c.events&&null!=c.events.click)if(c.resizer.resizing)a.preventDefault(),a.stopPropagation();else{if(c.enabled)try{c.events.click(c,a)}catch(d){}a.preventDefault();
a.stopPropagation();return!1}}else if(c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&(c.dsIndex=parseInt(b),!c.resizer.resizing&&c.enabled)){c.autoSelect&&(-1!=c.selected&&($("#"+c.id+"_"+c.selected).removeClass(c.selectCls),""!=c.selectColor&&c.updateItem(c.selected,"background-color","")),""!=c.selectCls&&$("#"+this.id).addClass(c.selectCls),""!=c.selectColor&&c.updateItem(b,"background-color",c.selectColor));var e=c.selected;c.selected=parseInt(b);if(c.events.click)return c.events.click(c,
b,e,a),a.preventDefault(),a.stopPropagation(),"input"==c.wtype&&c.blur(),!1}}},onDblClick:function(a){null==a&&(a=window.event);var b=this.id.indexOf("_");if(-1==b){var c=idev.get(this.id);if(null!=c.events&&null!=c.events.dblclick&&!c.resizer.resizing)return c.enabled&&c.events.dblclick(c,a),a.preventDefault(),a.stopPropagation(),!1}else if(c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&null!=c.events.dblclick&&(c.dsIndex=parseInt(b),!c.resizer.resizing))return c.enabled&&
(c.events.dblclick(c,b,c.selected,a),c.selected=b),a.preventDefault(),a.stopPropagation(),!1},onContextMenu:function(a){null==a&&(a=window.event);var b=idev.get(this.id);b.events.contextMenu?b.events.contextMenu(b,a):b.events.contextmenu&&b.events.contextmenu(b,a)},onChange:function(a){null==a&&(a=window.event);var b=idev.get(this.id);b&&b.events.change(b,a)},onLostFocus:function(a){null==a&&(a=window.event);var b=idev.get(this.id.replace("-input",""));b&&(""!=b.watermark&&null!=b.watermark&&""==
($("#"+b.id+"-input").val()||"")&&b.setValue(""),idev.focusHighlight&&idev.dom("#"+b.id).css("box-shadow",""),b.events.lostfocus&&b.events.lostfocus(b,a))},onFocus:function(a){null==a&&(a=window.event);var b=idev.get(this.id.replace("-input",""));b&&(""!=b.watermark&&b.watermark==$("#"+b.id+"-input").val()&&($("#"+b.id+"-input").val(""),$("#"+b.id+"-input").css("color","")),idev.focusHighlight&&idev.dom("#"+b.id).css("box-shadow",idev.highlightCSS),b.events.focus&&b.events.focus(b,a))},onKeypress:function(a){var b=
idev.get(this.id);b.events.keypress&&b.events.keypress(b,a)},beforeRender:function(a){null!=a.events&&("function"==typeof a.events.beforeRender?a.events.beforeRender(a):"function"==typeof a.events.beforerender&&a.events.beforerender(a))},afterRender:function(a){null!=a.events&&("function"==typeof a.events.afterRender?a.events.afterRender(a):"function"==typeof a.events.afterrender&&a.events.afterrender(a))},remove:function(a){var b=idev.widgets[a];if(b&&null!=b.id){if(b.parent&&b.parent.children)for(var c=
0;c<b.parent.children.length;c++)if(b.parent.children[c]==b){b.parent.children.splice(c,1);break}$("#"+b.id).remove();delete idev.widgets[a];return!0}return!1},nextUIID:function(a){idev.uiid++;for(sID=idev.uiid.toString();6>sID.length;)sID="0"+sID;return null!=a?a+sID:"ID"+sID},renderWidget:function(a,b){var c=null;b.page=a;null==b.renderTo?b.renderTo=a.id:""==b.renderTo&&(b.renderTo=a.id);if(!b.deferredRender){if(b instanceof baseWidget)return b.render(),b.parent&&b.parent.children&&b.parent.children.push(b),
b.id;switch(b.wtype){case "checkbox":c=new idev.ui.widgetCheckbox(b);break;case "radio":c=new idev.ui.widgetRadio(b);break;case "element":c=new idev.ui.widgetElement(b);break;case "html":c=new idev.ui.widgetHTML(b);break;case "spacer":c=new idev.ui.widgetSpacer(b);break;case "image":c=new idev.ui.widgetImage(b);break;case "input":case "textfield":c=new idev.ui.widgetTextField(b);break;case "textarea":c=new idev.ui.widgetTextArea(b);break;case "combo":c=new idev.ui.widgetComboBox(b);break;case "label":c=
new idev.ui.widgetLabel(b);break;case "svgbutton":c=new idev.ui.widgetSVGButton(b);break;case "button":c=new idev.ui.widgetButton(b);break;case "switch":c=new idev.ui.widgetSwitch(b);break;case "icon":c=new idev.ui.widgetIcon(b);break;case "listbox":c=new idev.ui.widgetListbox(b);break;case "panel":c=new idev.ui.widgetPanel(b);break;case "list":c=new idev.ui.widgetList(b);break;case "dataview":c=new idev.ui.widgetDataView(b);break;case "canvas":c=new idev.ui.widgetCanvas(b);break;case "chart":c=new idev.ui.widgetChart(b);
break;case "slider":c=new idev.ui.widgetSlider(b);break;case "progressbar":c=new idev.ui.widgetProgress(b);break;case "iframe":c=new idev.ui.widgetIFrame(b);break;case "object":c=new idev.ui.widgetObject(b);break;case "grid":c=new idev.ui.widgetGrid(b);break;case "tabpanel":c=new idev.ui.widgetTabPanel(b);break;case "sound":c=new idev.ui.widgetSound(b);break;case "composite":c=new idev.ui.widgetComposite(b);break;default:var d=idev.plugins[b.wtype];d?c=new d(b):idev.errorHandler("NULL PLUGIN FOR:["+
b.wtype+"]")}if(null!=c)return c.render(),b.parent&&b.parent.children&&b.parent.children.push(c),c.id;idev.errorHandler("Unknown widget '"+b.wtype+"'");return""}},renderWidgets:function(a,b,c,d,e,f){var h;if(null!=c)if(null==e&&(e=0),"table"==d){var n=0,l=0;if(null!=f&&null!=f.columns&&0!=f.columns){d=$("#"+f.id).width()-2;f.attr=null==f.attr?" cellspacing=0 cellpadding=0":f.attr;d="<table class='ui-table' id='"+b+"-table' "+f.attr+" border=0 width='"+d+"px;'><tbody id='"+b+"-body'></tbody></table>";
$("#"+b).append(d);h=b+"-body";for(var k=0;k<c.length;k++){var g=c[k];if("undefined"==typeof g)break;if(null!=g.wtype){g.page=a;g.parent=f;if(0==n){d="";var q=g.attr||"";d="<tr>";0<f.rowHeight&&(d="<tr height="+f.rowHeight+" >");for(e=0;e<f.columns;e++){var m="",s=c[k+e];if(null!=s){if(null!=s.wtype&&s.cellStyle&&(m=s.cellStyle),b=h+"-cell"+(l+e),d+="<td valign='top' id='"+b+"' "+q+" style='"+m+"'></td>",b=q.toLowerCase().indexOf("colspan"),-1!=b){b=q.substr(b+7);b=idev.utils.ltrim(b);b=b.replace("=",
"");try{var r=parseIn(b);1<r&&(e+=r-1)}catch(B){e++}}}else b=h+"-cell"+(l+e),d+="<td valign='top' id='"+b+"' "+q+"></td>"}d+="</tr>";$("#"+h).append(d)}b=h+"-cell"+l;try{g.wtype=g.wtype.toLowerCase(),g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(w){alert("error0:"+w.message)}n++;n==f.columns&&(n=0);l++}}}}else if("column"==d){var u=l=0,x=!1,y=-1,g=null==f.rowHeight?"":f.rowHeight;f.padding=f.padding||0;r=$("#"+f.id).width();m=$("#"+f.id+"-body").height();"panel"==f.wtype&&(m=$("#"+f.id+
"-content").height()-2*f.padding,r=$("#"+f.id+"-content").width()-2*f.padding);null==m&&(m=f.height-f.padding);null==r&&(r=f.width-2*f.padding);"composite"==f.wtype&&f.height&&(g=f.height);f.attr=null==f.attr?" cellspacing=0 cellpadding=0":f.attr;u=$("#"+f.id).width();for(k=0;k<c.length;k++)">>"!=c[k]?c[k].variable&&(y=k):">>"===c[k]&&(x=!0);d="<table class='ui-table' id='"+b+"-table' border=0 "+f.attr+"><tbody id='"+b+"-body'></tbody></table>";f&&"composite"==f.wtype&&f.width&&(d="<table class='ui-table' id='"+
b+"-table' border=0  width=100% "+f.attr+"><tbody id='"+b+"-body'></tbody></table>");$("#"+b).append(d);h=b+"-body";k=null;"ui-toolbar"==b&&(k=f.height);if(0<c.length)for(d="",d="<tr id='"+b+"-row' height='"+g+"px'>",0<f.rowHeight&&(d="<tr height="+f.rowHeight+" >",k=f.rowHeight),f.layoutConfig&&(k=f.height-2*f.padding,"panel"==f.wtype&&(k=f.bodyheight-2*f.padding),f.layoutConfig.fit&&(d="<tr height="+k+" >")),e=0;e<c.length;e++)g=c[e],k=m="",null!=g.wtype&&g.cellStyle&&(m=g.cellStyle),b=h+"-cell"+
(l+e),null!=f.columnAlign&&(k=f.columnAlign.toLowerCase()),d="center"==k?d+("<td valign='center' id='"+b+"' style='"+m+"'></td>"):"bottom"==k?d+("<td valign='bottom' id='"+b+"' style='"+m+"'></td>"):d+("<td valign='top' id='"+b+"' style='"+m+"'></td>");else d="",d="<tr id='"+b+"-row' height='"+g+"px'>",0<f.rowHeight&&(d="<tr height="+f.rowHeight+" >",k=f.rowHeight),f.layoutConfig&&(k=f.height-2*f.padding,"panel"==f.wtype&&(k=f.bodyheight-2*f.padding),f.layoutConfig.fit&&(d="<tr height="+k+" >"));
d+="</tr>";$("#"+h).append(d);for(k=0;k<c.length;k++){g=c[k];if(null!=g.wtype){g.page=a;g.parent=f;k!=y||x||(g.width=0);f.layoutConfig&&f.layoutConfig.fit&&(g.height=f.bodyheight-2*f.padding);b=h+"-cell"+l;try{g.wtype=g.wtype.toLowerCase(),g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(C){console.log(C),alert("error 1:"+C.message)}}else">>"==g?(b=h+"-cell"+l,s={wtype:"spacer",id:f.id+"-spacer",renderTo:b,width:0},idev.internal.renderWidget(a,s)):(b=h+"-cell"+l,"string"==typeof g&&(s={wtype:"html",
renderTo:b,html:g},idev.internal.renderWidget(a,s)));l++}(x||-1!=y)&&$delay(0,function(){for(var a=0;a<c.length;a++)u-=$("#"+c[a].id).outerWidth(!0);0>u&&(u=0);a=x?f.id+"-spacer":c[y].id;$("#"+a).width(u);$("#"+a).css("max-width",u+"px")})}else if("frame"==d){f.padding=f.padding||0;r=$("#"+f.id).width();m=$("#"+f.id+"-body").height();"panel"==f.wtype&&(m=$("#"+f.id+"-content").height()-2*f.padding,r=$("#"+f.id+"-content").width()-2*f.padding);null==m&&(m=f.height-f.padding);null==r&&(r=f.width-2*
f.padding);r-=0;m-=0;f.attr=null==f.attr?" cellspacing=0 cellpadding=0":f.attr;d="<table class='ui-table' id='"+b+"-table' border=0 "+f.attr+" style='width:"+r+"px;height:"+m+"px;'><tbody id='"+b+"-body'>";h=b+"-body";var q=n=s=l=h="",z=g=k=0,t=0,A=0,v=0;for(e=0;e<c.length;e++)"north"==c[e].area&&""==h&&(k=c[e].height||0,h="<tr id='"+b+"-row-north' height='"+k+"px'>",h+="<td id='"+b+"-north' colspan='{CS}'></td></tr>"),"west"==c[e].area&&""==s&&(z=c[e].width||0,c[e].height>t&&(t=c[e].height),s+="<td id='"+
b+"-west' width="+z+"></td>",v++),"center"==c[e].area&&""==n&&(c[e].height>t&&(t=c[e].height),n+="<td id='"+b+"-center'></td>",v++),"east"==c[e].area&&""==q&&(A=c[e].width||0,c[e].height>t&&(t=c[e].height),q+="<td id='"+b+"-east' width="+A+"></td>",v++),"south"==c[e].area&&""==l&&(g=c[e].height||0,l="<tr id='"+b+"-row-south' height='"+g+"px'>",l+="<td id='"+b+"-south' colspan='{CS}'></td></tr>");0==v&&(v=1);t=m-(k+g);d=d.replace("{FH}",k+t+g);h=h.replace("{CS}",v);l=l.replace("{CS}",v);d+=h;if(""!=
s||""!=n||""!=q)d+="<tr >"+s+n+q+"</tr>";d=d+l+"</tbody></table>";$("#"+b).append(d);q=n=s=l=h="";for(k=0;k<c.length;k++)if(g=c[k],g.page=a,g.parent=f,null!=g.wtype)try{"north"==g.area&&""==h&&(g.wtype=g.wtype.toLowerCase(),g.width=r,g.renderTo=b+"-north",g.id=idev.internal.renderWidget(a,g),h=g.id),"south"==g.area&&""==l&&(g.wtype=g.wtype.toLowerCase(),g.width=r,g.renderTo=b+"-south",g.id=idev.internal.renderWidget(a,g),l=g.id),"west"==g.area&&""==s&&(g.width=z,g.padding&&(g.width-=2),g.height=t,
g.wtype=g.wtype.toLowerCase(),g.renderTo=b+"-west",g.id=idev.internal.renderWidget(a,g),s=g.id),"center"==g.area&&""==n&&(g.width=r-(z+A),g.padding&&(g.width-=2),g.height=t,g.wtype=g.wtype.toLowerCase(),g.renderTo=b+"-center",g.id=idev.internal.renderWidget(a,g),n=g.id),"east"==g.area&&""==q&&(g.width=A,g.padding&&(g.width-=2),g.height=t,g.wtype=g.wtype.toLowerCase(),g.renderTo=b+"-east",g.id=idev.internal.renderWidget(a,g),q=g.id)}catch(D){alert("error 1:"+D.message)}}else if("accordion"==d){f.padding=
f.padding||0;r=$("#"+f.id).width();m=$("#"+f.id+"-body").height();"panel"==f.wtype&&(m=$("#"+f.id+"-content").height()-2*f.padding,r=$("#"+f.id+"-content").width()-2*f.padding);null==m&&(m=f.height-f.padding);null==r&&(r=f.width-2*f.padding);f.attr=null==f.attr?" cellspacing=0 cellpadding=0":f.attr;d="<table class='ui-table' id='"+b+"-table' "+f.attr+" border=0  style='width:"+r+"px;table-layout:fixed;'><tbody id='"+b+"-body'></tbody></table>";$("#"+b).append(d);h=b+"-body";for(k=e=0;k<c.length;k++)g=
c[k],null==g?idev.errorHandler("NULL Width @ "+k+" for layout"):"panel"==g.wtype&&(g.titleHeight=idev.defaultTitleHeight,e++);if(0==e)idev.errorHandler("No panels for accordion layout");else for(k=0;k<c.length;k++)if(g=c[k],null==g)idev.errorHandler("NULL Width @ "+k+" For accordion layout");else if(g.page=a,g.parent=f,"panel"==g.wtype){m=d="";b=h+"-cell"+k;d="<tr>";d+="<td id='"+b+"' style='"+m+"'></td>";d+="</tr>";$("#"+h).append(d);try{g.wtype=g.wtype.toLowerCase(),null==g.style&&(g.style=""),
g.style+="border:0px;",g.width=f.width,g.height=f.height-(e-1)*idev.defaultTitleHeight,g.collaped=0<k?!0:!1,g.nofloat=!0,g.expandable=!0,g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(E){alert("error2:"+E.message)}}}else if("row"==d)for(f.padding=f.padding||0,r=$("#"+f.id).width(),m=$("#"+f.id+"-body").height(),"panel"==f.wtype&&(m=$("#"+f.id+"-content").height()-2*f.padding,r=$("#"+f.id+"-content").width()-2*f.padding),null==m&&(m=f.height-f.padding),null==r&&(r=f.width-2*f.padding),f.rowHeight=
null==f.rowHeight?"":f.rowHeight,f.center=f.center||!1,f.attr=null==f.attr?" cellspacing=0 cellpadding=0":f.attr,d="<table class='ui-table' id='"+b+"-table' "+f.attr+" border=0  style='width:"+r+"px;'><tbody id='"+b+"-body'></tbody></table>",f&&"composite"==f.wtype&&f.width&&(d="<table class='ui-table' id='"+b+"-table' "+f.attr+" border=0 width='"+f.width+"px'><tbody id='"+b+"-body'></tbody></table>"),$("#"+b).append(d),h=b+"-body",k=0;k<c.length;k++)if(g=c[k],null==g)idev.errorHandler("NULL Width @ "+
k+" For row layout");else{if(g.page=a,g.parent=f,null!=g.wtype){m=d="";null!=g.wtype&&g.cellStyle&&(m=g.cellStyle);b=h+"-cell"+k;d=""!=f.rowHeight?"<tr style='height:"+f.rowHeight+"px'>":"<tr>";f.config?f.config.center?d+="<td width='"+f.width+"' style='"+m+"'><center><div id='"+b+"'></div></center></td>":f.layoutConfig?f.layoutConfig.fit&&(d+="<td  id='"+b+"' width='"+(f.width-2*f.padding)+"' style='"+m+"'></td>"):d+="<td id='"+b+"' style='"+m+"'></td>":d=f.center?d+("<td width='"+f.width+"' style='"+
m+"'><center><div id='"+b+"'></div></center></td>"):d+("<td id='"+b+"' style='"+m+"'></td>");d+="</tr>";$("#"+h).append(d);try{g.wtype=g.wtype.toLowerCase(),null==g.style&&(g.style=""),g.nofloat=!0,g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(F){alert("error2:"+F.message)}}}else if("form"==d)for(f.padding=f.padding||0,r=$("#"+f.id).width(),m=$("#"+f.id+"-body").height(),"panel"==f.wtype&&(m=$("#"+f.id+"-content").height()-2*f.padding,r=$("#"+f.id+"-content").width()-2*f.padding),null==
m&&(m=f.height-f.padding),null==r&&(r=f.width-2*f.padding),q=null==f.attr?"":f.attr,idev.isChrome()&&(q="cellpadding=3 "+q),d="<table class='ui-table' id='"+b+"-table'  "+q+" border=0 style=''><tbody id='"+b+"-body'></tbody></table>",f&&"composite"==f.wtype&&f.width&&(d="<table class='ui-table' id='"+b+"-table'"+q+" border=0 width='"+f.width+"px'><tbody id='"+b+"-body'></tbody></table>"),$("#"+b).append(d),h=b+"-body",k=0;k<c.length;k++)if(g=c[k],null==g)idev.errorHandler("NULL Width @ "+k+" For form layout");
else if(g.page=a,g.parent=f,null==g.wtype)"string"==typeof g&&(s=new idev.ui.widgetHTML({renderTo:b,html:g}),s.render());else{m=d="";null!=g.wtype&&g.cellStyle&&(m=g.cellStyle);b=h+"-cell"+k;d=g.id?g.id+"-label":b+"-label";d=g.hidden?"<tr><td valign='top' width='"+e+"px' style='width:"+e+"px;"+m+"'><span  id='"+d+"' class='ui-labeltext "+f.labelCls+"' style='"+g.labelStyle+";display:none;'>"+g.label+"</span></td><td id='"+b+"'></td></tr>":"<tr><td valign='top' width='"+e+"px' style='width:"+e+"px;"+
m+"'><span  id='"+d+"' class='ui-labeltext "+f.labelCls+"' style='"+g.labelStyle+"'>"+g.label+"</span></td><td id='"+b+"'></td></tr>";null==g.label&&(d="<tr><td id='"+b+"' colspan=2></td><td></td></tr>");$("#"+h).append(d);try{g.wtype=g.wtype.toLowerCase(),g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(G){alert("error3:"+G.message+"["+g.wtype+"]")}}else if("fit"==d){r=$("#"+f.id+"-content").width();m=$("#"+f.id+"-content").height();d=f.padding||0;null==m&&(m=f.height);null==r&&(r=f.width);
if("panel"==f.wtype||"window"==f.wtype)m=$("#"+f.id+"-body").height();for(k=e=0;k<c.length;k++)if(g=c[k],null!=g)if(null==g)idev.errorHandler("NULL Width @ "+k+" For form layout");else if(0<r&&(g.width=r,d&&(g.width-=2*d),g.x=0,d&&(g.x=d)),0<m&&(g.height=m,d&&(g.height-=2*d),g.y=0,d&&(g.y=d)),g.page=a,g.parent=f,null==g.wtype)"string"==typeof g&&(s=new idev.ui.widgetHTML({renderTo:b,html:g}),s.render());else try{g.wtype=g.wtype.toLowerCase(),0<e&&(g.hidden=!0),g.renderTo=b,g.id=idev.internal.renderWidget(a,
g),e++}catch(H){alert("error4:"+H.message)}}else for(k=0;k<c.length;k++)if(g=c[k],null==g)idev.errorHandler("NULL Width @ "+k+" For form layout");else if(g.page=a,g.parent=f,null==g.wtype)"string"==typeof g&&(s=new idev.ui.widgetHTML({renderTo:b,html:g}),s.render());else try{g.wtype=g.wtype.toLowerCase(),g.renderTo=b,g.id=idev.internal.renderWidget(a,g)}catch(I){alert(g.wtype),alert("error5:"+I.message)}},add:function(a){null==idev.widgets[a.id]&&(idev.widgets[a.id]=a)},render:function(){window.navigator.standalone&&
idev.isIPhone()&&(document.body.style.marginTop=30);if(_preferences.config.fitDocument||_preferences.config.fitdocument){var a=$(document).innerHeight(),b=$(document).innerWidth();window.navigator.standalone&&(a-=idev.standaloneOffset);$("#container").width(b);$("#container").height(a)}b=null==idev.app.theme?"":idev.app.theme;""!=b&&(b="-"+b);var c=$("#container").width();if(idev.app.toolbar){null==idev.app.toolbar.height&&(idev.app.toolbar.height=40);idev.app.toolbar.visible=!0;$("#container").append("<div id='ui-toolbar' class='ui-app-toolbar"+
b+"' style='height:"+idev.app.toolbar.height+"px;max-height:"+idev.app.toolbar.height+"px;'></div>");if(idev.app.toolbar.widgets){idev.app.toolbar.id="ui-toolbar";idev.app.toolbar.children=[];idev.app.toolbar.width=c;idev.app.toolbar.rowHeight=idev.app.toolbar.height;idev.app.toolbar.proxy={wtype:"composite"};for(var d in idev.app.toolbar)"id"!=d&&(idev.app.toolbar.proxy[d]=idev.app.toolbar[d]);idev.app.toolbar.proxy.renderTo="ui-toolbar";idev.app.toolbar.proxy.parent=idev.app.toolbar;idev.internal.renderWidget(null,
idev.app.toolbar.proxy)}idev.app.toolbar.height=$("#ui-toolbar").height()}else idev.app.toolbar={height:0};a=$("#container").height();idev.app.statusbar&&(null==idev.app.statusbar.height&&(idev.app.statusbar.height=40),idev.app.toolbar&&(a-=$("#ui-toolbar").height()+idev.app.statusbar.height));$("#container").append("<div id='content' class='ui-body' style='width:"+c+"px;height:"+a+"px;'></div>");if(idev.app.statusbar){null==idev.app.statusbar.height&&(idev.app.statusbar.height=40);idev.app.statusbar.visible=
!0;$("#container").append("<div id='ui-statusbar' class='ui-app-statusbar"+b+"' style='height:"+idev.app.statusbar.height+"px;max-height:"+idev.app.statusbar.height+"px;'></div>");if(idev.app.statusbar.widgets){idev.app.statusbar.id="ui-statusbar";idev.app.statusbar.children=[];idev.app.statusbar.width=c;idev.app.statusbar.rowHeight=idev.app.toolbar.statusbar;idev.app.statusbar.proxy={wtype:"composite"};for(d in idev.app.statusbar)"id"!=d&&(idev.app.statusbar.proxy[d]=idev.app.statusbar[d]);idev.app.statusbar.proxy.renderTo=
"ui-statusbar";idev.app.statusbar.proxy.parent=idev.app.statusbar;idev.internal.renderWidget(null,idev.app.statusbar.proxy)}idev.app.statusbar.height=$("#ui-statusbar").height()}else idev.app.statusbar={height:0}},ExtractNumber:function(a){a=parseInt(a);return null==a||isNaN(a)?0:a},getPosition:function(a){var b=0,c=0;if(a){for(;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;b+=a.offsetLeft;c+=a.offsetTop}return{x:b,y:c}},mouseMove:function(a){a=a||window.event;idev.utils.mousePosition(a)},
getMouseOffset:function(a,b){b=b||window.event;var c=idev.internal.getPosition(a),d=idev.utils.mousePosition(b);return{x:d.x-c.x,y:d.y-c.y}}},errorHandler:function(a){$debug("*******************************");$debug(a);$debug("*******************************")},getParameter:function(a,b){null==b&&(b="");if("string"==typeof a)return idev.convertNulls(this.parameters[a],b);if(0<=a)for(var c in idev.parameters){if(0==a)return idev.convertNulls(idev.parameters[c],b);a--}return b},getParameterKey:function(a,
b){null==b&&(b="");if("number"!=typeof a)return b;if(0<=a)for(var c in idev.parameters){if(0==a)return c;a--}return b},isIE:function(){return-1!=this.agent.indexOf("ie")?!0:!1},isIE7:function(){return-1!=this.agent.indexOf("msie 7")?!0:!1},isIE8:function(){return-1!=this.agent.indexOf("msie 8")?!0:!1},isIE9:function(){return-1!=this.agent.indexOf("msie 9")?!0:!1},isIE10:function(){return-1!=this.agent.indexOf("msie 10")?!0:!1},isWebkit:function(){return-1!=this.agent.indexOf("webkit")?!0:!1},isChrome:function(){return-1!=
this.agent.indexOf("chrome")?!0:!1},isFF:function(){return-1!=this.agent.indexOf("firefox")?!0:!1},isIEMobile:function(){return-1!=this.agent.indexOf("iemobile")?!0:!1},isPalm:function(){return-1!=this.agent.indexOf("webos")?!0:!1},isBlackberry:function(){return-1!=this.agent.indexOf("blackberry")?!0:!1},isIPad:function(){return-1!=this.agent.indexOf("ipad")?!0:!1},isIPhone:function(){return-1!=this.agent.indexOf("iphone")?!0:!1},isAndroid:function(){return-1!=this.agent.indexOf("android")?!0:!1},
isTouch:function(){return-1!=this.agent.indexOf("iphone")||-1!=this.agent.indexOf("android")?!0:!1},isMobile:function(){return-1!=this.agent.indexOf("ipad")||-1!=this.agent.indexOf("iphone")||-1!=this.agent.indexOf("android")||-1!=this.agent.indexOf("iemobile")||-1!=this.agent.indexOf("blackberry")?!0:!1},isStandAlone:function(){return window.navigator.standalone},convertNulls:function(a,b){return null==a||"undefinded"==typeof a?b:a},isClass:function(a){return a instanceof baseWidget?!0:!1},hideToolbar:function(){if(idev.app.toolbar&&
idev.app.toolbar.visible){var a=idev.contentHeight+idev.app.toolbar.height;$("#ui-toolbar").hide();$("#ui-toolbar").height(0);$("#content").height(a);this.pageManager.currentPage&&this.pageManager.syncSize();idev.app.toolbar.visible=!1}},showToolbar:function(){idev.app.toolbar&&!idev.app.toolbar.visible&&($("#ui-toolbar").show(),$("#ui-toolbar").height(idev.app.toolbar.height),$("#content").height(idev.contentHeight),this.pageManager.currentPage&&this.pageManager.syncSize(),idev.app.toolbar.visible=
!0)},hideStatusbar:function(){if(idev.app.statusbar&&idev.app.statusbar.visible){var a=idev.contentHeight+idev.app.statusbar.height;$("#ui-statusbar").hide();$("#ui-statusbar").height(0);$("#content").height(a);this.pageManager.currentPage&&this.pageManager.syncSize();idev.app.statusbar.visible=!1}},showStatusbar:function(){idev.app.statusbar&&!idev.app.statusbar.visible&&($("#ui-statusbar").show(),$("#"+idev.app.statusbar.proxy.id).show(),$("#ui-statusbar").height(idev.app.statusbar.height),$("#content").height(idev.contentHeight),
this.pageManager.currentPage&&this.pageManager.syncSize(),idev.app.statusbar.visible=!0)},hideBars:function(){idev.app.statusbar.visible&&($("#ui-statusbar").hide(),$("#ui-statusbar").height(0),idev.app.statusbar.visible=!1);idev.app.toolbar.visible&&($("#ui-toolbar").hide(),$("#ui-toolbar").height(0),idev.app.toolbar.visible=!1);var a=idev.contentHeight+idev.app.toolbar.height+idev.app.statusbar.height;$("#content").height(a);this.pageManager.currentPage&&this.pageManager.syncSize()},showBars:function(){idev.app.statusbar.visible||
($("#ui-statusbar").show(),$("#"+idev.app.statusbar.proxy.id).show(),$("#ui-statusbar").height(idev.app.statusbar.height),idev.app.statusbar.visible=!0);idev.app.toolbar.visible||($("#ui-toolbar").show(),$("#"+idev.app.toolbar.proxy.id).show(),idev.app.toolbar.children[0].show(),$("#ui-toolbar").height(idev.app.toolbar.height),idev.app.toolbar.visible=!0);$("#content").height(idev.contentHeight);this.pageManager.currentPage&&this.pageManager.syncSize()},addTouchScroll:function(a,b){return!1},createWorker:function(a,
b){if("undefined"==typeof Worker)return idev.ui.message("Worker Not Supported"),null;var c=new Worker(_preferences.apppath+a);null!=c&&(c.onmessage=b);return c},get:function(a){return""==a||null==a?null:this.widgets[a]},lastPage:function(){return this.pageManager.lastPage},currentPage:function(){return this.pageManager.currentPage},currentPageName:function(){return this.pageManager.currentPage.name},removePageWidgets:function(a){for(var b=0;b<this.widgets.length;b++){var c=this.widgets[b];c.page&&
c.page.id==a&&(c.destroy(),b--)}return null},list:function(a){a="";for(var b=0;b<this.widgets.length;b++)a+=this.widgets[b].id+"\r\n";return a},addWidgetToPageContent:function(a,b){for(var c=0;c<this.app.pages.length;c++){var d=this.app.pages[c];if(d.id==a){if(null==d.content)break;if(null==d.content.widgets)break;d.content.widgets.push(b);return!0}}return!1},homePage:function(){this.pageManager.showPage(0);null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+
this.pageManager.currentPage.id).height())},gotoPage:function(a){this.pageManager.showPage(a);null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},nextPage:function(){this.pageManager.nextPage();null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},prevPage:function(){this.pageManager.prevPage();null==idev.contentHeight&&(idev.contentHeight=
$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},register:function(a,b){null==b?idev.errorHandler("register null widget:"+a):idev.plugins[a.toLowerCase()]=b},bodyHeight:function(){var a=idev.pgHeight;$("#ui-toolbar").height()?a-=$("#ui-toolbar").height():idev.isIE()||(a+=17);$("#ui-statusbar").height()?a-=$("#ui-statusbar").height():idev.isIE()||(a+=17);return a},bodyWidth:function(){return idev.pgWidth},autoHide:function(a,b){if(0!=arguments.length){if(null==
b)return;idev.hideFN&&idev.hideFN(idev.hideWidget,null)}idev.hideFN=b;idev.hideWidget=a},findID:function(a){for(;""==a.id&&null!=a.parentNode;)a=a.parentNode;return a},extractIndex:function(a){for(;""==a.id&&null!=a.parentNode;)a=a.parentNode;var b=a.id.lastIndexOf("_");return-1==b?-1:parseInt(a.id.substr(b+1))},wTemplate:idevObject.extend({init:function(){this.sTemplate="";for(var a=0;a<arguments.length;a++)this.sTemplate+=arguments[a]},render:function(a){var b=this.sTemplate;try{if("object"!=typeof a||
!a.constructor==Array)return b;for(var c in a)if("string"==typeof a[c]||"number"==typeof a[c])b=idev.utils.replaceAll(b,"{"+c+"}",a[c]);return b}catch(d){idev.errorHandler("Template Data Error, data type"+typeof a)}return b},get:function(){return this.sTemplate}}),local:{successLocation:function(a){this.position=a},failedLocation:function(a){switch(a.code){case 0:alert(a.message);break;case 1:alert(a.message)}this.position=null},currentLocation:function(a,b){try{null==a&&(a=this.successLocation),
null==b&&(a=this.failedLocation),navigator.geolocation.getCurrentPosition(function(b){idev.geoposition=b;idev.geoerror=null;null!=a&&a(b)},function(a){idev.geoposition=null;idev.geoerror=a;null!=b&&b()})}catch(c){idev.geoposition=null,idev.geoerror="Geo Location Not Supported",null!=b&&b()}},localSupport:function(){return localStorage?!0:!1},storeLocal:function(a,b){if(!this.localSupport())return!1;localStorage[a]=b;return!0},removeLocal:function(a){if(!this.localSupport())return!1;localStorage.removeItem(a);
return!0},countLocal:function(){return this.localSupport()?localStorage.length:0},clearLocal:function(){if(!this.localSupport())return!1;localStorage.clear();return!0},getLocal:function(a,b){if(!this.localSupport())return b;var c=localStorage[a];return null==c?b:c},dbSupport:function(){return window.openDatabase?!0:!1},dbOpen:function(a,b,c){if(!this.dbSupport())return null;null==b&&(b=1E5);null==c&&(c="1.0");return openDatabase(a,c,a,b)},dbExecute:function(a,b,c,d){if(!this.dbSupport())return!1;
a.transaction(function(a){a.executeSql(b,[],c,d)})}},data:{column:idevObject.extend({init:function(a){null==a&&(a={});this.header=null==a.header?"":a.header;this.field=a.field;this.renderer=a.renderer;this.headerRenderer=a.headerRenderer;this.headerClick=a.headerClick;this.width=a.width||30;this.tpl=a.tpl;this.cls=a.cls||"";this.style=a.style||"";this.events=a.events||{};this.editor=a.editor;this.editID="";this.tooltip=a.tooltip||"";null==this.tpl&&(this.tpl=new idev.wTemplate("<div id='{id}-cell-{row}-{col}' class='ui-grid-cell {cls} ie9gradient' tabindex='99' style='{style};width:{width}px;max-width:{width}px;height:{height}px;text-overflow: ellipsis; overflow: hidden;white-space: nowrap;' row='{row}' col='{col}' title='{tooltip}'>",
"{value}","</div>"));this.cls=idev.internal.cssQuirks(this.cls,!0)},render:function(a){null==a.cls&&(a.cls=idev.internal.cssQuirks(this.cls));null==a.value&&(a.value="");if(null==a.style||""==a.style)a.style=this.style;null==a.height&&(a.height="");null==a.tooltip&&(a.tooltip="");null!=this.events&&this.events.click&&(a.style+=";cursor:pointer;");return this.tpl.render(a)},setValue:function(a,b){var c=this.parent.ds.getAt(b),d=this.parent.id+"_"+b+"_"+this.col,e=[],f=$("#"+this.parent.id+"-data").scrollTop(),
h=$("#"+this.parent.id+"-data").scrollLeft();c.set(this.field,a);e.value=null!=this.renderer?this.renderer(c.get(this.field),c,b,this.col,this):c.get(this.field);e.value=idev.utils.replaceAll(e.value,"\n","<br/>");e.id=this.parent.id;e.style=this.style||"";e.cls="";this.parent.autoSelect&&(e.cls="ui-grid-cell-select-active");b%2&&(e.cls=" "+this.parent.altCls+" ui-grid-cell-select-active");e.row=b;e.col=this.col;e.width=this.width-5;e.height=$("#"+d).parent().attr("height");e=this.render(e,c,b,this.col);
$("#"+d).html(e);d=this.parent.id+"-cell-"+b+"-"+this.col;$("#"+d).click(this.parent.cellClick);$("#"+d).dblclick(this.parent.cellDblClick);this.editID="";if(0<f||0<h)$("#"+this.parent.id+"-data").scrollTop(f),$("#"+this.parent.id+"-data").scrollLeft(h);this.parent.events.afterEdit&&this.parent.events.afterEdit(this.parent,b,this.col,c,this.field,this.value,a)},edit:function(a,b,c){if(null!=this.editor){this.editRow=parseInt(a);this.editCol=parseInt(b);var d=this.parent.id+"_"+a+"_"+b,e=$("#"+d).width(),
f=$("#"+d).height(),h=this.parent.ds.getAt(a);this.parent.events.beforeEdit&&!1===this.parent.events.beforeEdit(this.parent,a,b,h)||("function"==typeof this.editor?this.editor(this.parent,this,a,b,c):(c="<div id='"+d+"-edit' style='height:"+(f-2)+"px;max-height:"+f+"px;background-color:#fff;color:#000;border:1px solid #ccc;'></div>",$("#"+d).html(c),$delay(0,function(){$("#"+d+"-edit").children().children().blur(function(){var c=d.substr(0,d.indexOf("_"))+"-cell-"+a;0==$("[id^="+c+"-]:focus").length&&
($("#"+c+"-"+b).removeClass("ui-grid-cell-select"),$("#"+c+"-"+b).removeClass("ui-grid-cell-select-active"),$("[id^="+c+"-]").removeClass("ui-grid-cell-select"))})}),h=idev.utils.replaceAll(h.get(this.field),"<br/>","\n"),null==this.editor.width&&(this.editor.width=e-2),null==this.editor.height&&(this.editor.height=f-2),this.editor.roundCorners=!1,this.editor.renderTo=d+"-edit",this.editor.style="background-color:#fff;color:#000;border:0px;border-radius:0px;-moz-border-radius:0px;-webkit-border-radius:0px;",
this.editor.buttonStyle="border-radius:0px;-moz-border-radius:0px;-webkit-border-radius:0px;",this.editor.data={col:this,grid:this.parent},this.editor.delay=this.editor.delay||100,this.parent.editCol=this,null==this.editor.events&&(this.editor.events={}),this.editor.events.lostfocus=function(a){a.data.col.editor&&"combo"!=a.data.col.editor.wtype&&(a.data.col.endEdit(a.data.col.editRow),a.data.grid.editCol=null)},this.editor.events.onenter=function(a){var b=a.data.col;if("textarea"!=a.wtype){if(b.editCol<
b.cm.columns.length-1){var c=a.data.col.editRow,d=b.editCol+1;a.data.col.endEdit(c,d);a.data.grid.editCol=null;b=b.cm.getAt(d);b.edit(c,d)}if(b.parent.events.onenter)b.parent.events.onenter(b)}},this.editor.events.ontab=function(a){var b=a.data.col;if(b.editCol<b.cm.columns.length-1){var c=a.data.col.editRow,d=b.editCol+1;a.data.col.endEdit(c);a.data.grid.editCol=null;b=b.cm.getAt(d);b.edit(c,d)}if(b.parent.events.ontab)b.parent.events.ontab(b)},this.editID=idev.internal.renderWidget(this.parent.page,
this.editor),this.value=h,$delay(this.editor.delay,function(a){try{$get(a.editID).setValue(a.value),$get(a.editID).focus()}catch(b){}},this)))}},endEdit:function(a,b){if(""!=this.editID){var c=$get(this.editID),d=c.getValue();c.destroy();this.setValue(d,this.editRow);if(b){$debug(this.parent.id);var e="#"+this.parent.id+"-cell-"+a+"-"+(b-1);$delay(1E3,function(){$debug("focus and click on end edit");$(e).focus();$(e).click()})}}}}),columnModel:idevObject.extend({init:function(a){this.columns=null==
a.columns?[]:a.columns;for(a=0;a<this.columns.length;a++){var b=this.columns[a];b instanceof idev.data.column||(this.columns[a]=new idev.data.column(b));this.columns[a].index=a;this.columns[a].cm=this;this.columns[a].col=a}},getCount:function(){return this.columns.length},getAt:function(a){return this.columns[a]}}),dataRecord:idevObject.extend({init:function(a){this.fields=[];this.data=[];this.binds=[];this.modified=!1;this.store=a.store;for(var b=0;b<a.fields.length;b++)this.fields.push(a.fields[b])},
clone:function(){if(null==this.store)return null;var a=this.store.blankRec();a.load(this.data);return a},getRecNo:function(){var a=0;if(null==this.store)return-1;for(;this.store.records[a]!=this&&a<this.store.records.length;)a++;return a==this.store.records.length?-1:a},load:function(a){this.data=[];for(var b=0;b<this.fields.length;b++){var c=a instanceof Array?a[b]:a[this.fields[b]];null==c&&(c="");this.data.push(c)}this.updateBinds()},getStore:function(){return this.store},loadText:function(a,b){if("string"==
typeof a){null==b&&(b=",");var c=a.split(b);this.data=[];for(var d=0;d<this.fields.length&&d<c.length;d++)this.data.push(c[d]);this.updateBinds()}},set:function(a,b,c){null==c&&(c=!1);a=$.inArray(a,this.fields);if(-1==a)return!1;this.data[a]=b;this.modified=!0;this.store&&!c&&this.store.updateBinds();c||this.updateBinds();return!0},get:function(a){a=$.inArray(a,this.fields);return-1==a?"":null==this.data[a]?"":this.data[a]},isModified:function(){return this.modified},commit:function(){this.modified=
!1},asString:function(a,b){b=b||",";switch((a||"").toLowerCase()){case "csv":var c="",d;for(d in this.fields){var e=null==this.data[d]?"":this.data[d];0<d&&(c+=b);c+=e}return c;default:c="{";for(d in this.fields)e=null==this.data[d]?"":this.data[d],0<d&&(c+=","),c="string"===typeof e?c+('"'+this.fields[d]+'":"'+e+'"'):c+('"'+this.fields[d]+'":'+e);return c+"}"}},bind:function(a){for(var b=0;b<this.binds.length;b++)if(this.binds[b]==a)return;this.binds.push(a)},updateBinds:function(){for(var a=0;a<
this.binds.length;a++)try{this.binds[a].setValues()}catch(b){idev.errorHandler("DataRec binding update failed "+b.message)}}}),dataStore:idevObject.extend({init:function(a){this.records=[];this.fields=null==a.fields?[]:a.fields;this.separator=null==a.separator?",":a.separator;this.binds=[];a.data&&this.load(a.data);this.url=a.url||"";this.params=a.params||{};this.results=a.results;this.autoDestroy=null==a.autoDestroy?!1:a.autoDestroy;this.events=a.events||{};a.autoLoad&&this.fetch()},onload:function(a){this.events.load=
a},load:function(a,b){this.records=[];if("string"==typeof a)try{a=recs=$.parseJSON(a)}catch(c){}for(var d in a){var e=new idev.data.dataRecord({fields:this.fields,store:this});"string"==typeof a[d]?e.loadText(a[d],this.separator):e.load(a[d]);this.records.push(e)}b||this.updateBinds(!0)},fetch:function(a){if(this.url){var b=this;idev.utils.ajax({dataType:"json",url:this.url,params:this.params,success:function(c,d,e){b.jqXHR=e;!c.success&&b.events.loadexception&&b.events.loadexception(b,"Success False",
c);c.total&&!isNaN(c.total)&&(b.total=c.total);b.results?b.load(c[b.results]):b.load(c.results);a&&a(b)},error:function(a,d,e){b.jqXHR=a;b.events.loadexception&&b.events.loadexception(b,d,e)}})}},updateBinds:function(a){a=a||!1;for(var b=0;b<this.binds.length;b++)try{this.binds[b].refresh(a)}catch(c){idev.errorHandler("Update bind failed")}null!=this.events&&"function"==typeof this.events.load&&a&&this.events.load(this)},commitAll:function(){for(var a=0;a<this.records.length;a++)this.records[a].commit()},
getModified:function(){for(var a=[],b=0;b<this.records.length;b++)this.records[b].isModified()&&a.push(this.records[b]);return a},getFieldName:function(a){return this.fields[a]},fieldCount:function(){return this.fields.length},getAt:function(a){return this.records[a]},blankRec:function(){return new idev.data.dataRecord({fields:this.fields,store:null})},add:function(a,b,c){if(null==a)return!1;if(a instanceof idevObject){if(null!=a.store)return!1;a.store=this;!0===c?this.records.unshift(a):this.records.push(a)}else{var d=
new idev.data.dataRecord({fields:this.fields,store:this});"string"==typeof a?d.loadText(a):d.load(a);!0===c?this.records.unshift(d):this.records.push(d)}if(!b)return this.updateBinds(),!0},removeAll:function(){for(var a in this.records)delete this.records[a];this.records=[];this.updateBinds()},removeAt:function(a){if(0>a||a>=this.records.length)return!1;this.records.splice(a,1);this.updateBinds();return!0},removeLast:function(){this.removeAt(this.records.length-1)},setParam:function(a,b){this.params[a]=
b},getCount:function(){return this.records.length},bind:function(a){for(var b=0;b<this.binds.length;b++)if(this.binds[b]==a)return;this.binds.push(a)},unbind:function(a){for(var b=0;b<this.binds.length;b++)if(this.binds[b]==a){this.binds.splice(b,1);break}},asString:function(a,b){a=a||"";switch(a.toLowerCase()){case "csv":var c="",d;for(d in this.records)0<d&&(c+="\r\n"),c+=this.records[d].asString(a,b);return c;default:c="[";for(d in this.records)0<d&&(c+=","),c+=this.records[d].asString();return c+
"]"}},sort:function(a,b){null==b&&(b=!0);this.records.sort(function(c,d){var e=c.get(a),f=d.get(a);return b?e==f?0:e<f?-1:1:e==f?0:e<f?1:-1});this.updateBinds()},find:function(a,b,c,d,e){var f=[];null==c&&(c=0);null==d&&(d=!0);null==e&&(e=!0);"string"==typeof a?(e||"string"==typeof b&&(b=b.toLowerCase()),f.push({field:a,value:b})):f=a;for(a=c;a<this.records.length;a++){c=!0;for(var h=0;h<f.length;h++){b=f[h];var n=this.records[a].get(b.field);b=b.value;e||"string"==typeof n&&(n=n.toLowerCase());d?
"string"==typeof n?-1==n.indexOf(b)&&(c=!1):n!=b&&(c=!1):n!=b&&(c=!1)}if(c)return a}return-1},getTotal:function(){this.url||(this.total=this.records.length);return this.total}})},page:idevObject.extend({init:function(a){null==a.id&&(a.id=idev.internal.nextUIID("pg"),0!=$("#"+a.id).length&&(idev.errorHandler("Duplicate Page ID : "+a.id+" ["+a.name+"]"),a.id=idev.internal.nextUIID("pg")));a.events=a.events||{};this.name=a.name;this.id=a.id;this.data=null==a.data?{}:a.data;this.fn=null==a.fn?{}:a.fn;
null==this.fn.parent&&(this.fn.parent=this);this.labelWidth=a.labelWidth||70;this.orientation=a.orientation||"";this.target=a.target||"";this.header=a.header;this.content=a.content;this.footer=a.footer;null==a.pagestyle&&(a.pagestyle="");null==a.cls&&(a.cls="");null!=a.style&&(a.pagestyle=a.style);""!=a.cls&&(a.cls+="  ie9gradient");null==a.headerstyle&&(a.headerstyle="");null==a.contentstyle&&(a.contentstyle="");null==a.footerstyle&&(a.footerstyle="");null==a.headerHTML&&(a.headerHTML="Header");
null==a.contentHTML&&(a.contentHTML="Content");null==a.footerHTML&&(a.footerHTML="Footer");null!=a.height&&(a.pagestyle+="height:"+a.height+";");null==a.header&&(a.header={height:0,hidden:!0,cls:"",style:""});null==a.content&&(a.content={height:0,hidden:!0,cls:"",style:""});null==a.footer&&(a.footer={height:0,hidden:!0,cls:"",style:""});a.header.children=[];a.content.children=[];a.footer.children=[];null==a.header.cls&&(a.header.cls="");null==a.content.cls&&(a.content.cls="");null==a.footer.cls&&
(a.footer.cls="");""!=a.header.cls&&(a.header.cls+="  ie9gradient");""!=a.content.cls&&(a.content.cls+="  ie9gradient");""!=a.footer.cls&&(a.footer.cls+="  ie9gradient");this.controlledContent=!1;a.content.padding=0;if(0<idev.controlHeight)a.content.height=idev.controlHeight-(idev.app.toolbar.height+idev.app.statusbar.height+a.header.height+a.footer.height),a.contentstyle+="overflow:auto;",controlledContent=!0;else if(_preferences.config.pageFit||_preferences.config.pagefit){var b=idev.convertNulls($("#ui-toolbar").height(),
0),c=idev.convertNulls($("#ui-statusbar").height(),0);a.content.height=$("#container").height()-(b+c+a.header.height+a.footer.height);a.content.width=$("#container").width();idev.isIPad()&&(a.content.height+=10)}a.header.padding=0;null==a.header.hidden&&(a.header.hidden=!1);null==a.header.html?a.header.html="":a.data&&(null!=a.data.header&&""!=a.header.html)&&(b=new idev.wTemplate(a.header.html),a.content.html=b.render(a.data.header));null!=a.header.height?a.headerstyle+="height:"+a.header.height+
"px;":a.header.height=0;null!=a.header.padding&&(a.headerstyle+="padding:"+a.header.padding+"px;");null!=a.header.style&&(a.headerstyle+=a.header.style);a.header.hidden&&(a.headerstyle+="display:none;");a.headerstyle+="padding:0;";null==a.content.layout&&(a.content.layout="");a.content.layout=a.content.layout.toLowerCase();a.contentstyle+="position:relative;";a.content.padding&&(a.contentstyle+="padding:"+a.content.padding+"px;");null==a.content.html?a.content.html="":a.data&&(null!=a.data.content&&
""!=a.content.html)&&(b=new idev.wTemplate(a.content.html),a.content.html=b.render(a.data.content));null!=a.content.height&&(a.contentstyle+="height:"+a.content.height+"px;max-height:"+a.content.height+"px;");null!=a.content.padding&&(a.contentstyle+="padding:"+a.content.padding+";");null!=a.content.style&&(a.contentstyle+=a.content.style);a.contentstyle+="padding:0;";a.footer.padding=0;null==a.footer.hidden&&(a.footer.hidden=!1);null==a.footer.html?a.footer.html="":a.data&&(null!=a.data.footer&&
""!=a.footer.html)&&(b=new idev.wTemplate(a.footer.html),a.footer.html=b.render(a.data.footer));a.footerstyle+="position:relative;";null!=a.footer.height&&(a.footerstyle+="height:"+a.footer.height+"px;");null!=a.footer.padding&&(a.footerstyle+="padding:"+a.footer.padding+"px;");null!=a.footer.style&&(a.footerstyle+=a.footer.style);a.footer.hidden&&(a.footerstyle+="display:none;");a.footerstyle+="padding:0;";this.config=a},render:function(){var a="",b=this.config.content.padding||0;idev.isIE()||(b=
0);$("#container").css("overflow","hidden");var b=$("#container").innerWidth()-b,c=$("#content").height(),c=c+(idev.app.toolbar.visible?0:idev.app.toolbar.height),c=c+(idev.app.statusbar.visible?0:idev.app.statusbar.height),a=a+("<div id='"+this.config.id+"' class='ui-page "+this.config.cls+"' pageName='"+this.name+"' style='width:"+b+"px;height:"+c+"px;"+this.config.pagestyle+"'>");null!=this.config.header&&(a+="<div id='"+this.config.id+"-header' class='ui-page-header "+this.config.header.cls+"' style='"+
this.config.headerstyle+";width:"+b+"px;'>",a+=this.config.header.html,a+="</div>");a+="<div id='"+this.config.id+"-content' class='ui-page-content "+this.config.content.cls+"' style='"+this.config.contentstyle+";width:"+b+"px;'>";this.controlledContent&&idev.isTouch()&&(a+="<div id='"+this.config.id+"-scroller'>");a+=this.config.content.html;this.controlledContent&&idev.isTouch()&&(a+="</div>");a+="</div>";null!=this.config.footer&&(a+="<div id='"+this.config.id+"-footer' class='ui-page-footer "+
this.config.footer.cls+"' style='"+this.config.footerstyle+";width:"+b+"px;'>",a+=this.config.footer.html,a+="</div>");a+="</div>";$("#content").append(a);this.controlledContent&&idev.isTouch();idev.swipping&&($("#"+this.config.id+"-content").mousedown(function(){idev.sx=-1;idev.sy=-1;idev.ex=-1;idev.ey=-1}),$("#"+this.config.id+"-content").mousemove(function(a){-1==idev.sx&&(idev.sx=a.pageX,idev.sy=a.pageY);idev.ex=a.pageX;idev.ey=a.pageY}),$("#"+this.config.id+"-content").mouseup(function(){idev.sx>
idev.ex?100<Math.abs(idev.sx-idev.ex)&&idev.nextPage():100<Math.abs(idev.ex-idev.sx)&&idev.prevPage();idev.sx=-1;idev.sy=-1;idev.ex=-1}),a=$("#"+this.config.id+"-content"),a.ontouchstart=function(){idev.sx=-1;idev.sy=-1;idev.ex=-1;idev.ey=-1},a.ontouchmove=function(a){-1==idev.sx&&(idev.sx=a.changedTouches[0].pageX,idev.sy=a.changedTouches[0].pageY);idev.ex=a.changedTouches[0].pageX;idev.ey=a.changedTouches[0].pageY},a.ontouchend=function(){idev.sx>idev.ex?100<Math.abs(idev.sx-idev.ex)&&idev.nextPage():
100<Math.abs(idev.ex-idev.sx)&&idev.prevPage();idev.sx=-1;idev.sy=-1;idev.ex=-1})},getHeaderWidget:function(a){return 0>a||null==this.header||a>=this.header.widgets.length?null:idev.get(this.header.widgets[a].id)},getContentWidget:function(a){return 0>a||a>=this.content.widgets.length?null:idev.get(this.content.widgets[a].id)},getFooterWidget:function(a){return 0>a||null==this.footer||a>=this.footer.widgets.length?null:idev.get(this.footer.widgets[a].id)}}),pageManagerClass:idevObject.extend({init:function(){this.pages=
[];this.activeIndex=-1;this.lastPage=this.currentPage=null;this.animation=!0;this.animationType="fade";this.canNavigate=!0},createWidgets:function(a,b){null!=a.header&&(a.header.id=b.config.id+"-footer",null!=a.header.widgets&&(a.header.id=b.config.id+"-header",idev.internal.renderWidgets(b,b.config.id+"-header",a.header.widgets,a.header.layout,a.header.labelWidth,a.header)));null!=a.content.widgets&&(a.content.id=b.config.id+"-content",idev.internal.renderWidgets(b,b.config.id+"-content",a.content.widgets,
a.content.layout,a.content.labelWidth,a.content));null!=a.footer&&(a.footer.id=b.config.id+"-footer",null!=a.footer.widgets&&(a.footer.id=b.config.id+"-footer",idev.internal.renderWidgets(b,b.config.id+"-footer",a.footer.widgets,a.footer.layout,a.footer.labelWidth,a.footer)));null!=a.events&&"function"==typeof a.events.afterRender&&a.events.afterRender(b)},addPage:function(a,b){null==a&&(a={});var c=new idev.page(a);null==c&&alert("Failed To Create Page "+b);null==b?(c.pageindex=this.pages.length,
this.pages.push(c)):(this.pages[b]=c,c.pageindex=b);c.name=a.name;c.events=a.events;c.events&&(c.events.beforeRender&&c.events.beforeRender(c),c.events.beforerender&&c.events.beforerender(c));c.render();return c},add:function(a){if(null==idev.app)return!1;for(var b=0;b<idev.app.pages.length;b++)if(idev.app.pages[b].name.toLowerCase()==a.name.toLowerCase()){idev.errorHandler("Duplicate Page Name : "+a.name);return}idev.app.pages.push(a);return!0},getPage:function(a){for(var b=0;b<this.pages.length;b++){var c=
this.pages[b];if(c&&c.name.toLowerCase()==a.toLowerCase())return c}return null},pageCount:function(){return this.pages.length},remove:function(a,b){if(1==this.pages.length)return!1;if("string"==typeof a){for(var c=0;c<this.pages.length;c++){var d=this.pages[c];if(d&&d.name.toLowerCase()==a.toLowerCase()){a=c;break}}if(c==this.pages.length)return!1}d=this.pages[a];if(null==d)return!1;d.events.destroy&&d.events.destroy(d);idev.removePageWidgets(d.id);$("#"+d.id).remove();this.activeIndex==c&&(this.activeIndex=
-1);this.pages[a]=null;this.pages.splice(a,1);d.iScroll&&delete d.iScroll;var e=d.name;delete d;if(b)for(c=0;c<idev.app.pages.length;c++)if(d=idev.app.pages[c],d.name.toLowerCase()==e){idev.app.pages.splice(c,1);break}return!0},showPage:function(a){if(null==idev.app||null==a||!this.canNavigate||"number"==typeof a&&a==idev.pageManager.activeIndex)return!1;var b=this.createPage(a);if(null==b)return!1;b.events.beforeShow&&b.events.beforeShow(this);null!=idev.pageManager.currentPage&&idev.pageManager.currentPage.events.beforeHide&&
idev.pageManager.currentPage.events.beforeHide(this);idev.pageManager.lastPage=idev.pageManager.currentPage;if(null==idev.pageManager.currentPage||a!=idev.pageManager.currentPage.name&&a!=idev.pageManager.activeIndex){if(idev.pageManager.newPage&&b.config.hidden)return idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b),idev.pageManager.canNavigate=!0,idev.pageManager.animation?($("#"+b.id).css("visibility","visible"),$("#"+b.id).css("left",0-(idev.pgWidth+10))):($("#"+b.id).css("z-index",
-10),$("#"+b.id).css("visibility","visible")),!0;if(idev.pageManager.animation){if("fade"==idev.pageManager.animationType){if(null==idev.pageManager.currentPage){$("#"+b.id).css("visibility","visible");idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);idev.pageManager.activeIndex=this.pageIndex;idev.pageManager.currentPage=b;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);return}idev.pageManager.newPage&&idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],
b);idev.pageManager.canNavigate=!1;var c=idev.pageManager.currentPage;$("#"+c.id).fadeOut(idev.fadeOutTime,function(){$("#"+c.id).css("visibility","hidden");$("#"+c.id).css("display","block");null!=idev.pageManager.currentPage.events&&"function"==typeof idev.pageManager.currentPage.events.hide&&idev.pageManager.currentPage.events.hide(b)});idev.pageManager.activeIndex=idev.pageManager.pageIndex;idev.pageManager.currentPage=b;$("#"+b.id).css("display","none");$("#"+b.id).css("visibility","visible");
$("#"+b.id).fadeIn(idev.fadeInTime,function(){idev.pageManager.activeIndex==idev.app.pages.length-1?$("#idNext").css("visibility","hidden"):$("#idNext").css("visibility","visible");0==idev.pageManager.activeIndex?$("#idBack").css("visibility","hidden"):$("#idBack").css("visibility","visible");null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);idev.pageManager.canNavigate=!0});return!0}if("slide"==idev.pageManager.animationType){if(null==idev.pageManager.currentPage){$("#"+b.id).css("visibility",
"visible");idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);idev.pageManager.activeIndex=this.pageIndex;idev.pageManager.currentPage=b;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);return}idev.pageManager.canNavigate=!1;idev.pageManager.newPage&&idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);a=$("#"+b.id).css("left");"auto"==a&&(a=0);idev.pageManager.pageIndex>idev.pageManager.activeIndex&&0<=a?($("#"+b.id).css("z-index",
2),$("#"+idev.pageManager.currentPage.id).css("z-index",10),$("#"+b.id).css("visibility","visible"),idev.utils.delay(100,function(){var a=0-(idev.pgWidth+10);$("#"+idev.pageManager.currentPage.id).animate({left:a},idev.animationTime,"linear",function(){idev.pageManager.activeIndex=idev.pageManager.pageIndex;$("#"+idev.pageManager.currentPage.id).css("visibility","hidden");idev.pageManager.currentPage=b;idev.pageManager.canNavigate=!0;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b)})})):
($("#"+idev.pageManager.currentPage.id).css("z-index",0),$("#"+b.id).css("z-index",2),$("#"+b.id).css("visibility","visible"),idev.utils.delay(100,function(){$("#"+b.id).animate({left:0},idev.animationTime,"linear",function(){var a=0-(idev.pgWidth+10);$("#"+idev.pageManager.currentPage.id).css("left",a);$("#"+idev.pageManager.currentPage.id).css("visibility","hidden");idev.pageManager.activeIndex=idev.pageManager.pageIndex;idev.pageManager.currentPage=b;idev.pageManager.canNavigate=!0;null!=b.events&&
"function"==typeof b.events.show&&b.events.show(b)})}))}}else null==this.currentPage?(this.currentPage=b,this.activeIndex=this.pageIndex,$("#"+b.id).css("visibility","visible"),idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b)):($("#"+this.currentPage.id).css("visibility","hidden"),$("#"+this.currentPage.id).css("z-index",-10),this.currentPage=b,this.activeIndex=this.pageIndex,$("#"+b.id).css("z-index",0),$("#"+b.id).css("visibility","visible"),idev.pageManager.newPage&&
idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b)),null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);return!0}},createPage:function(a){if(null==idev.app||null==a)return!1;idev.pageManager.newPage=!1;if("string"==typeof a){if(""==a)return!1;a=a.toLowerCase();for(var b=0;b<idev.app.pages.length;b++){var c=idev.app.pages[b];if(c.name.toLowerCase()==a.toLowerCase()){c=this.pages[b];if(null==c)return c=idev.app.pages[b],this.pageIndex=b,this.newPage=!0,idev.pageManager.addPage(c,
b);this.pageIndex=b;return c}}}else{if(0>a||a>=idev.app.pages.length)return!1;c=this.pages[a];if(null==c)return c=idev.app.pages[a],this.pageIndex=a,this.newPage=!0,idev.pageManager.addPage(c,a);this.pageIndex=a;return c}return null},prevPage:function(){0!=idev.pageManager.activeIndex&&this.showPage(idev.pageManager.activeIndex-1)},nextPage:function(){idev.pageManager.activeIndex!=idev.app.pages.length-1&&this.showPage(idev.pageManager.activeIndex+1)},syncSize:function(a){if(null!=_preferences.config&&
!0===_preferences.config.pageFit){a=$(window).width();var b=$(window).height();idev.pgWidth=a;idev.pgHeight=b;var c=b-($("#ui-toolbar").height()+$("#ui-statusbar").height());$("#container").width(a);$("#container").height(b);$("#content").width(a);$("#content").height(c);$("#ui-toolbar").width(a);$("#ui-statusbar").width(a);if(idev.app.toolbar&&idev.app.toolbar.children)for(b=0;b<idev.app.toolbar.children.length;b++)idev.app.toolbar.children[b].doLayout();if(idev.app.statusbar&&idev.app.statusbar.children)for(b=
0;b<idev.app.statusbar.children.length;b++)idev.app.statusbar.children[b].doLayout();for(var d=0;d<this.pages.length;d++){var e=this.pages[d];if(null!=e){var f=c-($("#"+e.id+"-header").height()+$("#"+e.id+"-footer").height());$("#"+e.id).height(c);$("#"+e.id).width(a);$("#"+e.id+"-header").width(a);$("#"+e.id+"-content").width(a);$("#"+e.id+"-content").height(f);$("#"+e.id+"-footer").width(a);if(e.config.header)for(b=0;b<e.config.header.children.length;b++)e.config.header.children[b].doLayout();if(e.config.content)for(b=
0;b<e.config.content.children.length;b++)"fit"==e.config.content.layout?e.config.content.children[b].resize(a,f):e.config.content.children[b].doLayout();if(e.config.footer)for(b=0;b<e.config.footer.children.length;b++)e.config.footer.children[b].doLayout()}}if(idev.app.events.onResize)idev.app.events.onResize()}}}),utils:{ajax:function(a){try{null!=a.url&&(null==a.dataType&&(a.dataType="json"),null==a.type&&(a.type="POST"),a.data=a.params,a.error&&(a.failed=a.error,a.error=function(b,d,e){a.failed(b,
d,e)}),$.ajax(a))}catch(b){return alert("AJAX Error"),null}},downloadURL:function(a){var b=$("#idevuihiddenDownloader");null===b&&(b=document.createElement("iframe"),b.id="idevuihiddenDownloader",b.style.display="none",document.body.appendChild(b));b.src=a},switchTheme:function(a,b){a=_preferences.libpath+"themes/"+a+"/theme.css?forceReload="+(new Date).valueOf();idev.utils.loadCSS(a,b)},loadCSS:function(a,b){try{null==b&&(b=idev.internal.callback),idev.internal.addStyleSheet(a,b)}catch(c){idev.errorHandler(c.message)}},
loader:function(a,b,c){try{var d={};d.url=a;null!=d.url&&""!=d.url&&(d.dataType="text",d.data=c,d.success=function(a){$("head").append("<script type='text/javascript'>"+a+"\x3c/script>");"function"==typeof b&&b()},d.error&&(d.failed=d.error,d.error=function(a,b,c){d.failed(c)}),$.ajax(d))}catch(e){alert("AJAX Load Error")}},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return(idev.utils.S4()+idev.utils.S4()+"-"+idev.utils.S4()+"-"+idev.utils.S4()+"-"+idev.utils.S4()+
"-"+idev.utils.S4()+idev.utils.S4()+idev.utils.S4()).toUpperCase()},json:function(a){try{return jQuery.parseJSON(a)}catch(b){return alert("JSON Decode Error: "+a),null}},eval:function(a,b){try{var c=eval(a);return null==c?a:c}catch(d){return b&&b(d),a}},parseJSON:function(a){try{var b;b=$.parseJSON(a);return null==b?a:b}catch(c){return a}},cssOpacity:function(a){return 1==a?"":idev.isIE8()?"filter:alpha(opacity="+100*a+");":"-moz-opacity:"+a+";-khtml-opacity: "+a+";opacity: "+a+";"},ellipsis:function(a,
b){for(a+="...";a.length>b&&" "!=a.substr(a.length-3,1);)a=a.substr(0,a.length-4)+"...";return a},showBusy:function(){null==$("#_busy")&&$("#container").append("<div id='_busy' class='ui-busy'></div>");var a=$("#container").width(),b=$("#container").height(),c=$("#_busy").width(),d=$("#_busy").height();$("#_busy").css("left",a/2-c/2);$("#_busy").css("top",b/2-d/2);$("#_busy").show()},hideBusy:function(){null!=$("#_busy")&&$("#_busy").hide()},delay:function(a,b,c){"function"==typeof b&&setTimeout(function(){b(c)},
a)},replaceAll:function(a,b,c){if("string"!=typeof a)return null==a?"":a;b!=c&&""!=b&&(a=a.replace(RegExp(b,"g"),c));return a},round:function(a,b){null===b&&(b=0);return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},roundUp:function(a){return Math.ceil(a)},ucwords:function(a){return(a+"").replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})},dateAdd:function(a,b,c){if("string"==typeof a){if(a=new Date(a),isNaN(a))throw"DateAdd: Date is not a valid date";}else if("object"!=typeof a||-1==a.constructor.toString().indexOf("Date()"))throw"DateAdd: First parameter must be a date object";
if("M"!=b&&"D"!=b&&"Y"!=b&&"h"!=b&&"m"!=b&&"uM"!=b&&"uD"!=b&&"uY"!=b&&"uh"!=b&&"um"!=b&&"us"!=b)throw"DateAdd: Second parameter must be M, D, Y, h, m, uM, uD, uY, uh, um or us";if("number"!=typeof c)throw"DateAdd: Third parameter must be a number";switch(b){case "M":a.setMonth(parseInt(a.getMonth())+parseInt(c));break;case "D":a.setDate(parseInt(a.getDate())+parseInt(c));break;case "Y":a.setYear(parseInt(a.getYear())+parseInt(c));break;case "h":a.setHours(parseInt(a.getHours())+parseInt(c));break;
case "m":a.setMinutes(parseInt(a.getMinutes())+parseInt(c));break;case "s":a.setSeconds(parseInt(a.getSeconds())+parseInt(c));break;case "uM":a.setUTCMonth(parseInt(a.getUTCMonth())+parseInt(c));break;case "uD":a.setUTCDate(parseInt(a.getUTCDate())+parseInt(c));break;case "uY":a.setUTCFullYear(parseInt(a.getUTCFullYear())+parseInt(c));break;case "uh":a.setUTCHours(parseInt(a.getUTCHours())+parseInt(c));break;case "um":a.setUTCMinutes(parseInt(a.getUTCMinutes())+parseInt(c));break;case "us":a.setUTCSeconds(parseInt(a.getUTCSeconds())+
parseInt(c))}return a},fromUDateTime:function(a){var b=[];b[0]=parseInt(a.substr(0,4));b[1]=parseInt(a.substr(4,2));b[2]=parseInt(a.substr(6,2));b[3]=parseInt(a.substr(8,2));b[4]=parseInt(a.substr(10,2));b[5]=parseInt(a.substr(12,2));return new Date(b[0],b[1]-1,b[2],b[3],b[4],b[5])},trim:function(a,b){return null==a||"string"!=typeof a?a:this.ltrim(this.rtrim(a,b),b)},ltrim:function(a,b){return null==a||"string"!=typeof a?a:a.replace(RegExp("^["+(b||"\\s")+"]+","g"),"")},rtrim:function(a,b){return null==
a||"string"!=typeof a?a:a.replace(RegExp("["+(b||"\\s")+"]+$","g"),"")},objectLength:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},urldecode:function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},urlencode:function(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},JSON2string:function(a){var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),
String(a);var c,d,e=[],f=a&&a.constructor==Array;for(c in a)d=a[c],b=typeof d,"string"==b?d='"'+d+'"':"object"==b&&null!==d&&(d=idev.utils.JSON2string(d)),e.push((f?"":'"'+c+'":')+String(d));return(f?"[":"{")+String(e)+(f?"]":"}")},mousePos:function(a){return{x:a.clientX+document.body.scrollLeft,y:a.clientY+document.body.scrollTop-(idev.app.toolbar?idev.app.toolbar.height:0)}},mousePosition:function(a){return idev.isTouch()?{x:idev._endX+document.body.scrollLeft-document.body.clientLeft,y:idev._endY+
document.body.scrollTop-document.body.clientTop}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},clone:function(a){try{return $().extend(!0,{},a)}catch(b){return idev.errorHandler(b.message),null}},generatePassword:function(a,b){a=a||9;b=b||0;vowels="aeuy";constants="bdghjmnpqrstvz";b&1&&(constants+="BDGHJLMNPQRSTVWXZ");b&2&&(vowels+="AEUY");b&4&&(constants+="23456789");b&8&&(constants+="@#$!");password="";alt=(new Date).getTime()%
2;for(var c=0;c<a;c++)1==alt?(p=parseInt(327678*Math.random()%constants.length),password+=constants[p],alt=0):(p=parseInt(327678*Math.random()%vowels.length),password+=vowels[p],alt=1);return password},findID:function(a){for(;a;){if(null!=a.id&&""!=a.id)return a.id;a=a.parentNode}return""},extractIndex:function(a){for(;a;){if(null!=a.id&&""!=a.id){var b=a.id.lastIndexOf("_");if(-1==b)break;return parseInt(a.id.substr(b+1))}a=a.parentNode}return-1},scrypt:function(a,b,c){var d="";if(!c){for(var e=
"",f=0;f<a.length;f++)var h=idev.rAlphabet.indexOf(a.substr(f,1))+32,e=e+String.fromCharCode(h);a=e}for(f=0;f<a.length;f++)e=a.charCodeAt(f),e=65<=e&&90>=e?String.fromCharCode((e-65+b)%26+65):97<=e&&127>=e?String.fromCharCode((e-97+b)%26+97):a.charAt(f),c&&(e=idev.rAlphabet.substr(e.charCodeAt(0)-32,1)),d+=e;return d},updateJSONObject:function(a,b){for(var c in a){var d=b[c];if("string"===typeof d||"number"===typeof d||"boolean"===typeof d)a[c]=d}},css2JSON:function(a){if(""==a||null==a)return{};
a=(a+";").replace(";;",";");a='{"'+a;a=idev.utils.replaceAll(a,":","~");a=idev.utils.replaceAll(a,"~",'":"');a=idev.utils.replaceAll(a,";","~");a=idev.utils.replaceAll(a,"~",'","');a=a.substr(0,a.length-2)+"}";return idev.utils.json(a)},form:{getFieldWidget:function(a,b){if(null==a||!(a instanceof baseWidget)&&(a=$get(a.id),null==a))return null;var c={action:3,field:b,widget:null};idev.utils.form.action(a,c);return c.widget},getFieldConfig:function(a,b,c){if("object"!==typeof a||null==b||""==b)return null;
for(var d=0;d<a.widgets.length;d++){if(a.widgets[d].field==b){c=a.widgets[d];break}if(a.widgets[d].widgets&&(c=idev.utils.form.getFieldConfig(a.widgets[d],b,c),null!=c))break}return c},getData:function(a){return null!=a&&(a instanceof baseWidget||(a=$get(a.id),null!=a))?idev.utils.form.action(a,{action:0}):null},clearData:function(a){return null!=a&&(a instanceof baseWidget||(a=$get(a.id),null!=a))?idev.utils.form.action(a,{action:1}):null},setData:function(a,b){return null!=a&&(a instanceof baseWidget||
(a=$get(a.id),null!=a))?idev.utils.form.action(a,{action:2,rec:b}):null},action:function(a,b){null==b.data&&(b.data=[]);for(var c=0;c<a.children.length;c++){var d=a.children[c].wtype;if("button"!=d&&"icon"!=d&&"image"!=d&&"label"!=d&&"spacer"!=d&&"dataview"!=d&&"tabpanel"!=d&&"grid"!=d)if("composite"==d)idev.utils.form.action(a.children[c],b);else if("panel"==d)idev.utils.form.action(a.children[c],b);else switch(b.action){case 0:b.data.push(a.children[c].getValue());"string"==typeof a.children[c].field&&
""!=a.children[c].field&&(b.data[a.children[c].field]=a.children[c].getValue());break;case 1:a.children[c].setValue("");break;case 2:a.children[c].setValue(b.rec.get(a.children[c].field));break;case 3:if(a.children[c].field==b.field){b.widget=a.children[c];return}}else if(3==b.action&&a.children[c].field==b.field){b.widget=a.children[c];return}}return b.data}}},ui:{addMask:function(a){var b=$(document).width(),c=$(document).height();$("body").append("<div id='"+a+"' class='ui-mask' style='left:0px;top:0px;width:"+
(b-1)+"px;height:"+(c-1)+"px;z-index:100'>&nbsp;</div>")},removeMask:function(a){$("#"+a).remove()},addEvent:function(a,b,c){$("#"+a).bind(b,c)},removeEvent:function(a,b,c){$("#"+a).unbind(b,c)},message:function(a){var b=!1;"string"==typeof a?a={text:a,type:"OK"}:(null==a.type&&(a.type="OK"),a.type=a.type.toUpperCase());if(null!=a.text&&("object"==typeof a.text&&(a=a.text),null!=a.text)){null==a.iconsize&&(a.iconsize=idev.defaultMIconSize);null==a.width&&(a.width=idev.defaultMWidth);null==a.height&&
(a.height=idev.defaultMHeight);null==a.bbarHeight&&(a.bbarHeight=idev.defaultMBBarHeight);null==a.padding&&(a.padding=idev.defaultMPadding);null==a.cls&&(a.cls=idev.defaultMCls);null==a.title&&(a.title=" ");a.btnWidth=a.btnWidth||idev.defaultMBtnWidth;a.btnHeight=a.btnHeight||idev.defaultMBtnHeight;a.closable=!0;a.titleHeight=22;a.bodyCls="";null==a.shadow&&(a.shadow=idev.defaultMShadow);null==a.shadowSize&&(a.shadowSize=idev.defaultMShadowSize);null==a.shadowColor&&(a.shadowColor=idev.defaultMShadowColor);
null==a.titleCls&&(a.titleCls=idev.defaultMTitleCls);null==a.tbarCls&&(a.tbarCls=idev.defaultMTbarCls);null==a.bbarCls&&(a.bbarCls=idev.defaultMBbarCls);null==a.backgroundCls&&(a.backgroundCls=idev.defaultMBGCls);null==a.fontSize&&(a.fontSize=idev.defaultMFontSize);null==a.buttonYESColor&&(a.buttonYESColor=a.buttonColor);null==a.buttonNOColor&&(a.buttonNOColor=a.buttonColor);null==a.buttonCANCELColor&&(a.buttonCANCELColor=a.buttonColor);""!==a.backgroundCls&&(a.backgroundCls+=" ie9gradient");a.padding=
0;null!=a.icon?(a.icon=a.icon.toLowerCase(),"warning"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td width='{iconsize}px' valign=top><img src='{iconpath}warning.png' style='width:{iconsize}px;height:{iconsize}px;;'></td><td width='{textwidth}px' style='width:{textwidth}px;max-width:{textwidth}px;word-wrap: break-word;'>{text}</td></tr></table>"):"info"==a.icon||"information"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td width='{iconsize}px' valign=top><img src='{iconpath}information.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td width='{textwidth}px' style='width:{textwidth}px;max-width:{textwidth}px;word-wrap: break-word;'>{text}</td></tr></table>"):
"error"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td width='{iconsize}px' valign=top><img src='{iconpath}error.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td width='{textwidth}px;word-wrap: break-word;'>{text}</td></tr></table>"):"question"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td width='{iconsize}px' valign=top><img src='{iconpath}question.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td width='{textwidth}px' style='width:{textwidth}px;max-width:{textwidth}px;word-wrap: break-word;'>{text}</td></tr></table>"):
null==a.tpl&&(a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td width='{iconsize}px' valign=top><img src='{iconpath}question.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td width='{textwidth}px' style='width:{textwidth}px;max-width:{textwidth}px;word-wrap: break-word;'>{text}</td></tr></table>"))):null==a.tpl&&(a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0 style='width:{width}px;table-layout:fixed;'><tr><td><span style='word-wrap: break-word;'>{text}</span></td></tr></table>"));
null==a.data&&(a.data=[]);a.data.iconpath=_preferences.libpath+"images/";a.data.iconsize=a.iconsize;a.data.width=a.width-(10+2*a.padding);a.data.textwidth=a.width-(a.iconsize+20+2*a.padding);a.data.text=a.text;var c;"YESNO"==a.type?c=[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"YES",cls:"ui-button-yes",events:{click:function(a){d.callback&&d.callback("YES");d.close()}}},{wtype:"spacer",width:4},{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"NO",cls:"ui-button-no",
events:{click:function(a){d.callback&&d.callback("NO");d.close()},afterRender:function(a){$delay(100,function(a){$("#"+a.id).focus()},a)}}},{wtype:"spacer",width:15}]:"OKCANCEL"==a.type?c=[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"OK",cls:"ui-button-ok",events:{click:function(a){d.callback&&d.callback("OK");d.close()}}},{wtype:"spacer",width:4},{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"CANCEL",cls:"ui-button-cancel",events:{click:function(a){d.callback&&
d.callback("CANCEL");d.close()},afterRender:function(a){$delay(100,function(a){$("#"+a.id).focus()},a)}}},{wtype:"spacer",width:15}]:"OK"==a.type?(b=!0,c=[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"OK",cls:"ui-button-ok",events:{click:function(a){d.callback&&d.callback("OK");d.close()},afterRender:function(a){$delay(100,function(a){$("#"+a.id).focus()},a)}}},{wtype:"spacer",width:20}]):(b=!0,c=[]);var d=new idev.ui.widgetWindow({title:a.title,x:a.x,y:a.y,width:a.width,
height:a.height,titleHeight:a.titleHeight,titleStyle:a.titleStyle,tbarCls:a.tbarCls,bbarCls:a.bbarCls,titleCls:a.titleCls,bodyCls:a.bodyCls,backgroundCls:a.backgroundCls,shadow:a.shadow,shadowSize:a.shadowSize,shadowColor:a.shadowColor,panelCls:"ui-message",padding:a.padding,closable:!1,cls:a.cls,autoClose:b,style:a.style,radius:a.radius,modal:!0,hidden:!0,html:a.tpl.render(a.data),bbar:c,bbarHeight:a.bbarHeight});d.callback=a.callback;a.popup&&!a.animate&&(a.animate="moveto");a.animate?(null==a.animSpeed&&
(a.animSpeed=500),"fadein"==a.animate?(d.fadeIn(a.animSpeed),a.delay&&$delay(a.delay,function(){d.fadeOut(a.animSpeed,null,function(){d.close()})},a)):"moveto"==a.animate&&null!=a.ax&&null!=a.ay?(d.show(),d.moveTo(a.ax,a.ay,a.animSpeed),a.delay&&$delay(a.delay,function(){d.moveTo(a.x,a.y,a.animSpeed,null,function(){d.close()})},a)):d.show()):d.show();return d}},messagebox:function(a,b,c){var d=[];if(null==idev.msgwin){null==c&&(c={});null==c.backgroundStyle&&(c.backgroundStyle="");null==c.labelStyle&&
(c.labelStyle="font-size:30px;font-family:Roboto, sans-serif;text-align:center;");null==c.borderColor&&(c.borderColor="#777");null==c.buttonBorderColor&&(c.buttonBorderColor="#545454");null==c.buttonCls&&(c.buttonCls="");for(var e in b)0<e&&d.push(new idev.ui.widgetSpacer({width:20})),d.push(new idev.ui.widgetButton({width:160,height:50,text:b[e].text,id:"messagewin-"+e,cls:c.buttonCls,border:!0,borderColor:c.buttonBorderColor,events:{click:function(a){var c=a.id.replace("messagewin-","");"function"==
typeof b[c].click&&b[c].click(a);idev.msgwin.close();idev.msgwin=null}}}));e=parseInt(e);d.unshift(new idev.ui.widgetSpacer({width:0<e?(600-160*(e+1)-20*e)/2:220}));idev.msgwin=new idev.ui.widgetWindow({width:600,height:220,x:(idev.pgWidth-600)/2,y:(idev.pgHeight-220)/2,modal:!0,layout:"row",backgroundStyle:c.backgroundStyle,roundCorners:!0,border:!0,borderColor:c.borderColor,autoFocus:!0,widgets:[{wtype:"spacer",height:20},{wtype:"label",style:c.labelStyle,text:a,width:600,height:100},{wtype:"spacer",
height:30},{wtype:"composite",widgets:d}]});idev.msgwin.show()}},widgetPanel:baseWidget.extend({init:function(a){a.panelCls=a.panelCls||"";this._super(a);this.wtype="panel";this.labelWidth=null==this.config.labelWidth?70:this.config.labelWidth;this.columns=null==this.config.columns?1:this.config.columns;this.columnAlign=null==this.config.columnAlign?"top":this.config.columnAlign;this.rowHeight=null==this.config.rowHeight?0:this.config.rowHeight;this.padding=null==this.config.padding?0:this.config.padding;
this.hScroll=this.config.hScroll;this.title=this.config.title;this.frame=null==this.config.frame?!1:this.config.frame;this.modal=null==this.config.modal?!1:this.config.modal;this.draggable=null==this.config.draggable?!1:this.config.draggable;this.resizable=null==this.config.resizable?!1:this.config.resizable;this.closable=null==this.config.closable?!1:this.config.closable;this.minisable=null==this.config.minisable?!1:this.config.minisable;this.maxisable=null==this.config.maxisable?!1:this.config.maxisable;
this.expandable=null==this.config.expandable?!1:this.config.expandable;this.collapsed=null==this.config.collapsed?!1:this.config.collapsed;this.bodyStyle=null==this.config.bodyStyle?"":this.config.bodyStyle;this.titleHeight=this.config.titleHeight||idev.defaultTitleHeight;this.titleStyle=this.config.titleStyle||"";this.titleCls=idev.convertNulls(this.config.titleCls,"");this.titleTextCls=idev.convertNulls(this.config.titleTextCls,"");this.tbar=this.config.tbar;this.tbarHeight=this.config.tbarHeight||
34;this.tbarCls=this.config.tbarCls||"";this.tbarStyle=this.config.tbarStyle||"";this.tbarConfig=this.config.tbarConfig||{};this.tbCreated=!1;this.bbar=this.config.bbar;this.bbarHeight=this.config.bbarHeight||34;this.bbarCls=this.config.bbarCls||"";this.bbarStyle=this.config.bbarStyle||"";this.bbarConfig=this.config.bbarConfig||{};this.bbCreated=!1;this.shadow=this.config.shadow;this.shadowSize=this.config.shadowSize||3;this.shadowColor=this.config.shadowColor||"";this.autoFocus=this.config.autoFocus;
this.focusID=this.config.focusID||"";this.bodyCls=this.config.bodyCls||"";this.panelCls=this.config.panelCls||"";this.icon=this.config.icon||"";this.area=this.config.area||"";this.collapsed=this.config.collapsed||!1;this.layoutManager=new idevLayoutManager(this);this.backgroundStyle=this.config.backgroundStyle||"";this.backgroundCls=this.config.backgroundCls||"";this.contentStyle=this.config.contentStyle||"";if("accordion"==this.layout||"frame"==this.layout)this.autoScroll=!1;this.expandable&&!this.title&&
"center"!=this.area?this.title="   ":this.title||(this.expandable=!1);null==this.title&&(this.titleHeight=0);null==this.tbar&&(this.tbarHeight=0);null==this.bbar&&(this.bbarHeight=0);"center"==this.area&&(this.expandable=!1);null!=this.tbar&&(this.tbar instanceof baseWidget?this.tbCreated=!1:(null==this.tbarConfig.cls&&(this.tbarConfig.cls=this.tbarCls),null==this.tbarConfig.height&&(this.tbarConfig.height=this.tbarHeight),this.tbarConfig.width=this.width,a=new idev.ui.widgetToolbar(this.tbarConfig),
a.widgets=this.tbar,this.tbar=a,this.tbCreated=!0));null!=this.bbar&&(this.bbar instanceof baseWidget?this.bbCreated=!1:(null==this.bbarConfig.cls&&(this.bbarConfig.cls=this.bbarCls),null==this.bbarConfig.height&&(this.bbarConfig.height=this.bbarHeight),this.bbarConfig.width=this.width,a=new idev.ui.widgetStatusbar(this.bbarConfig),a.widgets=this.bbar,this.bbar=a,this.bbCreated=!0));var b=a="",c="",d="";this.title&&(this.title=this.title,a=this.parent?"frame"==this.parent.layout?"<div id='{id}-title' class='ui-panel-titlebar ui-panel-layout {titlecls}' style='max-width:{titlewidth}px;width:{titlewidth}px;height:{titleheight}px;max-height:{titleheight}px;{titlestyle}'>":
"<div id='{id}-title' class='ui-panel-titlebar {titlecls}' style='max-width:{titlewidth}px;width:{titlewidth}px;height:{titleheight}px;max-height:{titleheight}px;{titlestyle}'>":"<div id='{id}-title' class='ui-panel-titlebar {titlecls}' style='max-width:{titlewidth}px;width:{titlewidth}px;height:{titleheight}px;max-height:{titleheight}px;{titlestyle}'>",a+="<table width='100%' class='ui-panel-title  {titletextcls}'><tr height={titletextheight}><td width='{iconwidth}px' align='right' valign=top id='{id}-icon'>{icon}</td><td id='{id}-titletext' valign=center>{title}</td><td width='{buttonwidth}px' align='right' valign=top id='{id}-buttons'>{buttons}</td></tr></table></div>",
this.roundCorners&&(this.titleStyle+=";border-top-left-radius:"+(this.radius-1)+"px;",this.titleStyle+="border-top-right-radius:"+(this.radius-1)+"px;",this.titleStyle+="-webkit-border-top-left-radius:"+(this.radius-1)+"px;",this.titleStyle+="-webkit-border-top-right-radius:"+(this.radius-1)+"px;",this.titleStyle+="-moz-border-top-left-radius:"+(this.radius-1)+"px;",this.titleStyle+="-moz-border-top-right-radius:"+(this.radius-1)+"px;"));this.tbar&&(b="<div id='{id}-tbar' class='ui-panel-tbar {tbarcls}' style='max-width:{tbarwidth}px;width:{tbarwidth}px;height:{tbarheight}px;{tbarstyle};'></div>",
this.roundCorners&&null==this.title&&(this.tbarStyle+=";border-top-left-radius:"+(this.radius-1)+"px;",this.tbarStyle+="border-top-right-radius:"+(this.radius-1)+"px;",this.tbarStyle+="-webkit-border-top-left-radius:"+(this.radius-1)+"px;",this.tbarStyle+="-webkit-border-top-right-radius:"+(this.radius-1)+"px;",this.tbarStyle+="-moz-border-top-left-radius:"+(this.radius-1)+"px;",this.tbarStyle+="-moz-border-top-right-radius:"+(this.radius-1)+"px;"));this.bbar&&(c="<div id='{id}-bbar' class='ui-panel-bbar {bbarcls}' style='max-width:{bbarwidth}px;width:{bbarwidth}px;height:{bbarheight}px;{bbarstyle};'></div>",
this.roundCorners&&(this.bbarStyle+=";border-bottom-left-radius:"+(this.radius-1)+"px;",this.bbarStyle+="border-bottom-right-radius:"+(this.radius-1)+"px;",this.bbarStyle+="-webkit-border-bottom-left-radius:"+(this.radius-1)+"px;",this.bbarStyle+="-webkit-border-bottom-right-radius:"+(this.radius-1)+"px;",this.bbarStyle+="-moz-border-bottom-left-radius:"+(this.radius-1)+"px;",this.bbarStyle+="-moz-border-bottom-right-radius:"+(this.radius-1)+"px;"));this.roundCorners&&(this.backgroundStyle+=";border-radius:"+
(this.radius-1)+"px;",this.backgroundStyle+="-webkit-border-radius:"+(this.radius-1)+"px;",this.backgroundStyle+="-moz-border-radius:"+(this.radius-1)+"px;",this.style+=";border-radius:"+this.radius+"px;",this.style+="-webkit-border-radius:"+this.radius+"px;",this.style+="-moz-border-radius:"+this.radius+"px;");!this.expandable||"west"!=this.area&&"east"!=this.area||(d="<div id='{id}-filler' class='ui-panel-filler' style='left:{fillerleft}px;top:{titleheight}px;height:{fillerheight}px;'></div>");
this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-panel {panelcls}' style='overflow:hidden;background:transparent;{elementstyle}{style}'>","<div id='{id}-background' class='ui-panel-background {backgroundcls}' style='{backgroundstyle}'>","</div>","<div id='{id}-container' class='ui-panel-container'>",a,b,"<div id='{id}-body' class='{bodycls}' style='width:100%;{bodystyle};height:{bodyheight}px;'>","<div id='{id}-content' class='ui-panel-content {cls}' style='position:relative;{contentstyle}'>",
"{html}","</div>","</div>",c,d,"</div>","</div>")},render:function(){var a=this.style,b=this.bodyStyle,c=this.panelCls,d="background:transparent;",e="",f=10,h=1,n=""==this.icon?"":"<img src='"+this.icon+"' style='width:16px;height:16px;'/>",l=100,k="west"==this.area?this.width-19:0,g=!0;if(null==this.renderTo||"undefined"==typeof this.renderTo)idev.errorHandler("No Render To property set on panel. ID:"+this.id);else{this.draggable&&(idev.isIE8()&&this.shadow)&&(g=!1);this.border&&(a=-1==this.borderStyle.indexOf("border")?
a+("border:"+this.borderStyle+";"):a+(this.borderStyle+";"));this.modal&&(l=9999+10*idev.modals,a+="z-index:"+(l+1)+";");0<this.padding&&(d+="padding:"+this.padding+"px;");this.autoScroll&&!1==idev.isTouch()&&(b+="overflow:auto;");"window"==this.wtype&&(this.expandable=!1);this.closable&&this.title&&(e+="<div id='"+this.id+"-close' class='ui-panel-btn-close'>&nbsp;</div>",f+=18);this.maxisable&&this.title&&(e+="<div id='"+this.id+"-min' class='ui-panel-btn-max'>&nbsp;</div>",f+=18);this.minisable&&
this.title&&(e+="<div id='"+this.id+"-min' class='ui-panel-btn-min'>&nbsp;</div>",f+=18);if(this.expandable)if("west"==this.area)e+="<div id='"+this.id+"-expand' class='ui-panel-btn-collapse-w'>&nbsp;</div>",f+=16;else if("east"==this.area)n+="<div id='"+this.id+"-expand' class='ui-panel-btn-expand-e'></div>",h=16;else{if("south"==this.area)e+="<div id='"+this.id+"-expand' class='ui-panel-btn-expand'>&nbsp;</div>";else{var q=!1;this.parent&&"accordion"==this.parent.layout&&(q=!0);e=q?e+("<div id='"+
this.id+"-expand' class='ui-panel-btn-minus'>&nbsp;</div>"):this.collapsed?e+("<div id='"+this.id+"-expand' class='ui-panel-btn-expand'>&nbsp;</div>"):e+("<div id='"+this.id+"-expand' class='ui-panel-btn-collapse'>&nbsp;</div>")}f+=16}this.bodyheight=this.height;this.title&&(this.bodyheight-=parseInt(this.titleHeight));this.tbar&&(this.bodyheight-=parseInt(this.tbarHeight));this.bbar&&(this.bodyheight-=parseInt(this.bbarHeight));this.autoScroll||(d+="overflow:hidden;width:"+this.width+"px;height:"+
this.bodyheight+"px;");this.shadow&&(""==this.shadowColor?c+=" ui-panel-shadow":a+="box-shadow: "+this.shadowSize+"px "+this.shadowSize+"px "+2*this.shadowSize+"px "+this.shadowColor+";");q="";""!=this.title&&null!=this.title||null!=this.tbar||(q=" ui-panel-fit");var m=[];m.id=this.id;m.cls=this.cssQuirks(this.cls+q);m.width=this.width;m.height=this.height;m.title=null==this.title?"":this.title;m.bodyheight=this.bodyheight;m.elementstyle=this.elementStyle;m.style=a;m.icon=n;m.iconwidth=h;m.fillerleft=
k;m.fillerheight=this.height-this.titleHeight;m.buttons=e;m.buttonwidth=f;m.bodystyle=b;m.backgroundstyle=this.backgroundStyle;m.backgroundcls=this.cssQuirks(this.backgroundCls,g);m.contentstyle=d+this.contentStyle;m.tbarwidth=this.width;m.titlewidth=this.width;m.titleheight=this.titleHeight;m.titletextheight=this.titleHeight-4;m.titlestyle=this.titleStyle;m.tbarcls=this.cssQuirks(this.tbarCls,g);m.tbarheight=this.tbarHeight;m.tbarstyle=this.tbarStyle;m.bbarwidth=this.width;m.bbarcls=this.cssQuirks(this.bbarCls,
g);m.bbarheight=this.bbarHeight;m.bbarstyle=this.bbarStyle;m.panelcls=this.frame?this.cssQuirks(c,g)+" ui-panel-frame":this.cssQuirks(c,g);m.bodycls=this.cssQuirks(this.bodyCls,g);m.titlecls=this.cssQuirks(this.titleCls,g);m.titletextcls=this.titleTextCls;m.html=this.html;idev.internal.beforeRender(this);b=this.tpl.render(m);this.modal?(a=$(document).width(),c=$(document).height(),this.maskID=idev.internal.nextUIID(),this.maskCls=this.config.maskCls||"ui-mask",$("body").append("<div id='"+this.maskID+
"' class='"+this.maskCls+"' style='left:0px;top:0px;width:"+(a-1)+"px;height:"+(c-1)+"px;z-index:"+l+";display:none;'>&nbsp;</div>"),$("#"+this.renderTo).append(b),idev.modals++):$("#"+this.renderTo).append(b);if(this.widgets){if("accordion"==this.layout)for(l=0;l<this.widgets.length;l++)this.widgets[l].border=!1;idev.internal.renderWidgets(this.page,this.id+"-content",this.widgets,this.layout,this.labelWidth,this)}this.tbar&&(this.tbar.page=this.page,this.tbar.parent=this,this.tbar.rowHeight=this.tbarHeight-
2,this.tbar.renderTo=this.id+"-tbar",this.tbar.render());this.bbar&&(this.bbar.page=this.page,this.bbar.parent=this,this.bbar.rowHeight=this.bbarHeight-2,this.bbar.renderTo=this.id+"-bbar",this.bbar.render());this.draggable&&this.setDraggable(!0);this.minisable&&this.title&&$("#"+this.id+"-min").click(function(){var a=idev.get(this.id.replace("-min",""));a.events.minimise&&a.events.minimise(this)});this.maxisable&&this.title&&$("#"+this.id+"-max").click(function(){var a=idev.get(this.id.replace("-close",
""));a.events.maximise&&a.events.maximise(this)});this.expandable&&(this.expandable&&this.collapsed&&($("#"+this.id).css({height:this.titleHeight+"px"}),this.expanded=!1),$("#"+this.id+"-expand").click(function(){var a=idev.get(this.id.replace("-expand",""));if(a.expanded)a.oncollapse();else a.onexpand()}));this.closable&&this.title&&$("#"+this.id+"-close").click(function(){var a=idev.get(this.id.replace("-close",""));a.events.close?!1!==a.events.close(this)&&a.close():a.close()});idev.internal.afterRender(this);
this.rendered=!0;this.config.collapsed&&$delay(100,function(a){a.oncollapse()},this);(this.events.contextMenu||this.events.contextmenu)&&this.addEvent("contextmenu",idev.internal.onContextMenu);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);if((this.autoFocus||""!==this.focusID)&&this.widgets)for(l=0;l<this.widgets.length;l++)if("input"==this.widgets[l].wtype||"textarea"==this.widgets[l].wtype||"button"==this.widgets[l].wtype)if(this.focusID==
this.widgets[l].id){$get(this.widgets[l].id).focus();break}else{if(this.autoFocus){$get(this.widgets[l].id).focus();break}}else if("composite"==this.widgets[l].wtype)for(b=0;b<this.widgets[l].widgets.length;b++)if(a=this.widgets[l].widgets[b],"input"==a.wtype||"textarea"==a.wtype||"button"==a.wtype)if(this.focusID==a.id){$get(a.id).focus();break}else if(this.autoFocus){$get(a.id).focus();break}}},onexpand:function(){this.layoutManager.expand()},oncollapse:function(){this.layoutManager.collapse()},
innerHTML:function(a){$("#"+this.id+"-content").empty();$("#"+this.id+"-content").append(a)},close:function(){if(this.events.beforeClose&&!1===this.events.beforeClose(this))return!1;this.autoDestroy?(this.hide(),this.destroy()):this.hide();this.modal&&($("#"+this.maskID).remove(),idev.modals--);this.events.afterClose&&this.events.afterClose(this);return!0},onhide:function(){this._super();this.maskID&&$("#"+this.maskID).hide()},onshow:function(){this._super();this.maskID&&$("#"+this.maskID).show();
if(idev.isIE8())for(var a=0;a<this.widgets.length;a++){var b=idev.get(this.widgets[a].id);try{if(b)b.onshow()}catch(c){}}},doLayout:function(){this.layoutManager.doLayout();this._super()},ondestroy:function(){this.tbCreated&&this.tbar.destroy();this.bbCreated&&this.bbar.destroy()},removeWidget:function(a,b){var c=this.id+"-content-body",d=0;if(0!=this.widgets.length){if("string"==typeof a)for(var e=0;e<this.widgets.length;e++){if(this.widgets[e].id==a){d=e;break}}else d=a,a=this.widgets[a].id,c=this.id+
"-content-body";e=$get(a);if(null!=e){e.destroy(b);if("row"==this.layout)for($("#"+c+"-row"+d).remove(),e=d+1;e<=this.widgets.length;e++){var f=c+"-row"+e,h=c+"-row"+(e-1);$("#"+f).attr("id",h);f=c+"-cell"+e;h=c+"-cell"+(e-1);$("#"+f).attr("id",h)}if("column"==this.layout)for($("#"+c+"-cell"+d).remove(),e=d+1;e<=this.widgets.length;e++)f=c+"-cell"+e,h=c+"-cell"+(e-1),$("#"+f).attr("id",h);if("form"==this.layout)for($("#"+c+"-cell"+d).parent().remove(),e=d+1;e<=this.widgets.length;e++)f=c+"-cell"+
e,h=c+"-cell"+(e-1),$("#"+f).attr("id",h)}}},removeAll:function(a){for(var b=0;b<this.widgets.length;b++)this.removeWidget(this.widgets[b].id,a)},addWidget:function(a){var b=this.id;if("frame"==this.layout||"accordion"==this.layout||null==a.wtype)return!1;this.widgets||(this.widgets=[]);if("column"==this.layout){var c=this.id+"-content-row",d=this.id+"-content-body",e="",f="",h=this.widgets.length;a.cellStyle&&(e=a.cellStyle);b=d+"-cell"+h;f="center"==this.columnAlign?f+("<td valign='center' id='"+
b+"' style='"+e+"'></td>"):"bottom"==parent.columnAlign?f+("<td valign='bottom' id='"+b+"' style='"+e+"'></td>"):f+("<td valign='top' id='"+b+"' style='"+e+"'></td>");$("#"+c).append(f)}else if("row"==this.layout)e="",d=this.id+"-content-body",h=this.widgets.length,a.cellStyle&&(e=a.cellStyle),b=d+"-cell"+h,f=""!=this.rowHeight?"<tr id='"+d+"-row"+h+"' style='height:"+this.rowHeight+"px'>":"<tr id='"+d+"-row"+h+"'>",f=this.center?f+("<td style='"+e+"'><center><div id='"+b+"'></div></center></td>"):
f+("<td id='"+b+"' style='"+e+"'></td>"),f+="</tr>",$("#"+d).append(f);else if("form"==this.layout)e="",d=this.id+"-content-body",h=this.widgets.length,a.cellStyle&&(e=a.cellStyle),b=d+"-cell"+h,f="<tr><td valign='top' width:'"+this.labelWidth+"px' style='width:"+this.labelWidth+"px;"+e+"'><span  id='"+b+"-label' class='ui-labeltext' style='"+a.labelStyle+"'>"+a.label+"</span></td><td id='"+b+"'></td></tr>",null==a.label&&(f="<tr><td id='"+b+"' colspan=2></td><td></td></tr>"),$("#"+d).append(f);else if("table"==
this.layout){d=this.id+"-content-body";h=this.widgets.length;if(0==this.widgets.length%this.columns){f="<tr>";0<parent.rowHeight&&(f="<tr height="+parent.rowHeight+" >");for(c=0;c<this.columns;c++)a.cellStyle&&(e=a.cellStyle),b=d+"-cell"+(h+c),f+="<td valign='top' id='"+b+"' style='"+e+"'></td>";f+="</tr>";$("#"+d).append(f)}b=d+"-cell"+h}else"fit"==this.layout&&(0<this.widgets.length&&(a.hidden=!0),a.width=this.width-2*this.padding,a.height=this.bodyheight,idev.isIE()&&(a.height=this.bodyheight-
2*this.padding)),b=this.id+"-content";a.parent=this;a.page=this.page;this.widgets.push(a);idev.isClass(a)?(a.renderTo=b,a.render()):(a.renderTo=b,idev.internal.renderWidget(this.page,a));return!0},setTitle:function(a){this.title&&$("#"+this.id+"-titletext").html(a)},getTitle:function(){return this.title?$("#"+this.id+"-titletext").html():""}}),widgetTextField:baseWidget.extend({init:function(a){22>a.height&&(a.height=22);this._super(a);this.width=a.width||150;this.wtype="input";this.inputType=a.inputType||
"text";this.inputStyle=a.inputStyle||"";this.inputCls=a.inputCls||"";this.editable=null==a.editable?!0:a.editable;this.uppercase=null==a.uppercase?!1:a.uppercase;this.lowercase=null==a.lowercase?!1:a.lowercase;this.capitalize=null==a.capitalize?!1:a.capitalize;this.watermark=a.watermark||"";this.watermarkColor=a.watermarkColor||"#aaa";this.inputDisabledCls=a.inputDisabledCls||"";this.maxlength=a.maxlength||"";this.zeroreturn=null==a.zeroreturn?!1:a.zeroreturn;this.invalidchars=a.invalidchars||"";
this.customregex=a.customregex||"";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-textfield ui-frame {cls}' style='{elementstyle};{style};width:{width}px'>","<input id='{id}-input' type='{inputtype}' class='ui-input {inputcls}' style='width:{width}px;height:{height}px;max-width:{width}px;max-height:{height}px;{inputstyle}'  value='{value}' title='{title}' />","</div>");""!=this.inputCls&&(this.inputCls+="  ie9gradient")},enable:function(a){this._super(a);a?($("#"+this.id+"-input").removeClass(this.inputDisabledCls),
this.editable=!0):($("#"+this.id+"-input").addClass(this.inputDisabledCls),this.editable=!1)},setValue:function(a){var b=$("#"+this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),$("#"+this.id+"-input").css("color",""));""==a&&""!=this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+"-input").val(a)},getValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&""!=this.watermark&&(a=
"");return"integer"==this.inputType?("-"==a&&(a=""),""==a?this.zeroreturn?0:"":parseInt(a)):"number"==this.inputType?("-"==a&&(a=""),""==a?this.zeroreturn?0:"":parseFloat(a)):"currency"==this.inputType?("-"==a&&(a=""),""==a?this.zeroreturn?0:"":parseFloat(a).toFixed(2)):a},setEditable:function(a){this.editable=a},getEditable:function(){return this.editable},render:function(){if(null!=this.renderTo){var a=this.value,b=this.inputStyle,c=this.style;""!=this.watermark&&""==a&&(a=this.watermark,b+="color:"+
this.watermarkColor+";");""!=this.borderStyle&&(c+=";border:"+this.borderStyle);this.uppercase&&(b+=";text-transform:uppercase;");this.lowercase&&(b+=";text-transform:lowercase;");this.capitalize&&(b+=";text-transform:capitalize;");var d=[];d.id=this.id;d.cls=this.cssQuirks(this.cls);d.elementstyle=this.elementStyle;d.style=c;d.value=a;d.width=this.width-4;d.height=this.height-4;d.inputcls=this.inputCls;d.inputstyle=b;this.autoScroll&&(d.inputstyle=this.style+";overflow:auto;");d.inputtype="password"==
this.inputType?"password":"text";a=this.tpl.render(d);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"));if(this.hidden)this.onhide();idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);
$("#"+this.id+"-input").blur(idev.internal.onLostFocus);$("#"+this.id+"-input").focus(idev.internal.onFocus);this.events.change&&$("#"+this.id).change(idev.internal.onChange);$("#"+this.id).keydown({widget:this},function(a){if(!1==a.data.widget.editable)return!1});$("#"+this.id).keyup({widget:this},function(a){var b=a.data.widget,c=$("#"+b.id+"-input").val();8==a.keyCode?b.value=c:""!=b.maxlength&&c.length>b.maxlength?$("#"+b.id+"-input").val(b.value):("number"==b.inputType&&(c.match(/^-{0,1}\d+\.{0,1}\d*$|^-{0,1}\d*$/)?
b.value=c:$("#"+b.id+"-input").val(b.value)),"integer"==b.inputType&&(c.match(/^-{0,1}\d*$/)?b.value=c:$("#"+b.id+"-input").val(b.value)),"text"==b.inputType&&(b.value=c),"currency"==b.inputType&&(c.match(/^-{0,1}\d+\.{0,1}\d{0,2}$|^-{0,1}\d*$/)?b.value=c:$("#"+b.id+"-input").val(b.value)),"custom"==b.inputType&&""!=b.customregex&&(c.match(b.customregex)?b.value=c:$("#"+b.id+"-input").val(b.value)))});$("#"+this.id).keypress({widget:this},function(a){var b=a.data.widget;if(""!=b.invalidchars&&-1!=
b.invalidchars.indexOf(String.fromCharCode(a.keyCode)))return a.preventDefault(),!1});$("#"+this.id).keyup({widget:this},function(a){var b=a.data.widget;if("input"==b.wtype&&13==a.keyCode&&b.events.onenter)return b.events.onenter(b),a.preventDefault(),!1;b.events.keyup&&b.events.keyup(b,a)});this.events.keypress&&$("#"+this.id).keypress(idev.internal.onKeypress);this.rendered=!0}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-4);$("#"+this.id+
"-input").height(b-4);this._super()}}),widgetTextArea:baseWidget.extend({init:function(a){this._super(a);this.wtype="textarea";this.editable=null==a.editable?!0:a.editable;this.watermark=a.watermark||"";this.inputCls=a.inputCls||"";this.inputStyle=a.inputStyle||"";this.watermarkColor=a.watermarkColor||"#aaa";this.maxlength=a.maxlength||"";this.zeroreturn=null==a.zeroreturn?!0:a.zeroreturn;this.invalidchars=a.invalidchars||"";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-textfield ui-frame {cls}' style='{elementstyle};{style}'>",
"<textarea id='{id}-input' class='ui-textarea {inputcls}'  style='width:{width}px;height:{height}px;{inputstyle};' title='{title}'>{value}</textarea>","</div>");""!=this.inputCls&&(this.inputCls+="  ie9gradient")},setValue:function(a){var b=$("#"+this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),$("#"+this.id+"-input").css("color",""));""==a&&this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+
"-input").val(a)},getValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&(a="");return""==a?this.zeroreturn?0:"":a},setEditable:function(a){this.editable=a},getEditable:function(){return this.editable},render:function(){if(null!=this.renderTo){var a=this.value,b=this.inputStyle,c=this.style;""!=this.watermark&&""==a&&(a=this.watermark,b+="color:"+this.watermarkColor+";");this.autoScroll&&(b+=";overflow:auto;");""!=this.borderStyle&&(c+=";border:"+this.borderStyle);var d=[];d.id=
this.id;d.cls=this.cssQuirks(this.cls);d.elementstyle=this.elementStyle;d.style=c;d.inputstyle=b;d.inputcls=this.inputCls;d.width=this.width-2;d.height=this.height-2;d.value=a;a=this.tpl.render(d);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"),$("#"+this.id).css("-o-border-radius",this.radius+
"px"));idev.internal.afterRender(this);$("#"+this.id+"-input").blur(idev.internal.onLostFocus);$("#"+this.id+"-input").focus(idev.internal.onFocus);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.change&&$("#"+this.id).change(idev.internal.onChange);$("#"+this.id).keydown({widget:this},function(a){var b=a.data.widget;if(!b.editable)return a.preventDefault(),!1;if(""!=b.watermark){var c=$("#"+b.id+"-input").val();c==b.watermark&&($("#"+b.id+"-input").val(""),$("#"+b.id+"-input").css("color",
""))}if(0<b.maxlength&&(c=$("#"+b.id+"-input").val(),c.length>=b.maxlength&&46!=a.keyCode&&13!=a.keyCode&&8!=a.keyCode&&9!=a.keyCode&&37!=a.keyCode&&39!=a.keyCode&&190!=a.keyCode))return a.preventDefault(),!1;if(9==a.keyCode&&b.events.ontab)return b.events.ontab(b),a.preventDefault(),!1});$("#"+this.id).keypress({widget:this},function(a){var b=a.data.widget;if(""!=b.invalidchars&&-1!=b.invalidchars.indexOf(String.fromCharCode(a.keyCode)))return a.preventDefault(),!1});$("#"+this.id).keyup({widget:this},
function(a){var b=a.data.widget;if("textarea"==b.wtype&&13==a.keyCode&&b.events.onenter)return b.events.onenter(b),a.preventDefault(),!1});this.events.keypress&&$("#"+this.id).keypress(idev.internal.onKeypress);this.rendered=!0}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-10);$("#"+this.id+"-input").height(b-10);this._super()}}),widgetComboBox:baseWidget.extend({init:function(a){this._super(a);this.wtype="combo";this.inputType=a.inputType;
this.editable=null==a.editable?!0:a.editable;this.height=null==a.height?22:a.height;this.width=null==a.width?150:a.width;null==this.inputType&&(this.inputType="text");null==this.inputStyle&&(this.inputStyle="");this.watermark=a.watermark||"";this.watermarkColor=a.watermarkColor||"#aaa";this.buttonCls=a.buttonCls||"ui-combo-button";this.buttonStyle=a.buttonStyle||"";this.ds=a.ds;this.listTpl=a.listTpl;this.displayField=a.displayField||"";this.inputStyle=a.inputStyle||"";this.valueField=a.valueField||
"";this.listEntryHeight=a.listEntryHeight||18;this.visibleEntrys=a.visibleEntrys||4;this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys;this.iconColor=a.iconColor;this.selectColor=a.selectColor||"";this.selectCls=a.selectCls||"ui-list-select";this.inputDisabledCls=a.inputDisabledCls||"";this.buttonDisabledCls=a.buttonDisabledCls||"";var b=this.roundCorners;idev.isIE8()&&(b=!1);this.dropWidth=null==a.dropWidth?this.width-(b?6:0):a.dropWidth;this.autoSelect=null==a.autoSelect?!0:a.autoSelect;
null!=this.ds&&(this.visibleEntrys>this.ds.getCount()&&(a=this.ds.getCount()||1,this.listHeight=(this.listEntryHeight+4)*a),this.ds.bind(this));this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-combo {cls}' style='{elementstyle};{style};overflow:hidden;'>","<input id='{id}-input' type='{inputtype}' class='ui-combo-input' style='width:{width}px;height:{inputheight}px;{inputstyle}' value='{value}' title='{title}'/>","<div id='{id}-button' style='float:right;max-width:{buttonwidth}px;'></div>",
"<div id='{id}-list' style='z-index:9999;'></div>","</div>");""!=this.displayField&&""==this.valueField&&(this.valueField=this.displayField);""==this.displayField&&(this.displayField=this.ds.getFieldName(0));""==this.valueField&&(this.valueField=this.ds.getFieldName(0));null==this.listTpl&&(this.listTpl=new idev.wTemplate("<div style='max-height:{entryheight}px;height:{entryheight}px;padding:2px;font-size:10pt;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;'>{"+this.displayField+"}</div>"));
this.inpStyle={};""!=this.inputStyle&&(this.inpStyle=idev.utils.css2JSON(this.inputStyle))},enable:function(a){this._super(a);this.btn.enable(a);a?($("#"+this.id+"-input").removeClass(this.inputDisabledCls),this.editable=!0):($("#"+this.id+"-input").addClass(this.inputDisabledCls),this.editable=!1)},setInputValue:function(a){var b=$("#"+this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),null==this.inpStyle.color?$("#"+this.id+"-input").css("color",""):$("#"+this.id+"-input").css(this.inpStyle));
""==a&&""!=this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+"-input").val(a)},setValue:function(a,b){if(""==a)this.setInputValue(a),this.list&&(this.list.selected=-1);else if(null!=this.ds){this.editable&&this.setInputValue(a);var c=this.ds.find(this.valueField,a,0,!1,!1);if(-1!=c){a=this.ds.getAt(c).get(this.displayField);this.setInputValue(a);var d=this.list;null!=this.list&&(d.autoSelect&&!b&&(-1!=d.selected&&($("#"+
d.id+"_"+d.selected).addClass(d.entryCls),d.selectCls&&$("#"+d.id+"_"+d.selected).removeClass(d.selectCls),""!=this.selectColor&&d.updateItem(d.selected,"background-color","")),""!=d.selectCls&&(d.entryCls&&$("#"+d.id+"_"+c).removeClass(d.entryCls),$("#"+d.id+"_"+c).addClass(d.selectCls)),""!=this.selectColor&&d.updateItem(c,"background-color",this.selectColor)),this.list.selected=c)}}},getInputValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&(a="");return a},getValue:function(){if(this.editable){var a=
this.getInputValue();if(-1==this.list.getSelected()||this.ds&&-1==this.ds.find(this.displayField,a))return a}if(null==this.ds)return this.editable?this.getInputValue():"";a=this.ds.getAt(this.list.getSelected());return null==a?"":a.get(this.valueField)},getSelected:function(){return this.list.getSelected()},getStore:function(){return this.ds},render:function(){if(null!=this.renderTo)if(null==this.ds)idev.errorHandler("No Combo DS");else{var a="",b=this.inputStyle,c=this.style;this.btnWidth=this.height+
3;idev.isIPad()&&(this.btnWidth+=12);""!=this.watermark&&(a=this.watermark,b+="color:"+this.watermarkColor+";");""!=this.borderStyle&&(c+=";border:"+this.borderStyle);var d=[];d.id=this.id;d.cls=this.cssQuirks(this.cls);d.elementstyle=this.elementStyle;d.style=c;d.value=a;d.width=this.width-this.btnWidth-3;d.height=this.height;d.inputheight=this.height-4;d.buttonwidth=this.height;d.inputstyle=b;this.autoScroll&&(d.inputstyle=this.style+";overflow:auto;");d.inputtype="number"==this.inputType?"text":
this.inputType;a=this.tpl.render(d);$("#"+this.renderTo).append(a);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"));$delay(100,function(a){cls=a.buttonCls;c=a.buttonStyle;a.btn=new idev.ui.widgetButton({parent:a,renderTo:a.id+"-button",width:a.height,height:a.height,icon:{src:"_arrow"},cls:a.cssQuirks(cls),disabledCls:a.buttonDisabledCls,style:c,border:!1,
events:{click:function(a){if(a.parent.visible)a.parent.list.hide();else{idev.hideWidget&&(idev.hideWidget.parent.visible=!1,idev.hideWidget.hide());var b=$("#"+a.parent.id).height(),c=$("#"+a.parent.id).offset(),d=c.left,e=c.top+b+1;a.parent.roundCorners&&!idev.isIE8()&&(d+=4);var f=a.parent;e+f.listHeight>idev.pgHeight&&(e-=f.listHeight,e-=f.height);$("#"+a.parent.list.id).css("left",d);$("#"+a.parent.list.id).css("top",e);a.parent.list.show();a.parent.list.setScrollPos(c);idev.hideWidget=a.parent.list;
var h=setInterval(function(){if(a.parent.list.isVisible()){var c=$("#"+a.parent.id).offset(),d=c.left,c=c.top+b+1;c+f.listHeight>idev.pgHeight&&(c-=f.listHeight,c-=f.height);a.parent.roundCorners&&!idev.isIE8()&&(d+=4);$("#"+a.parent.list.id).css("left",d);$("#"+a.parent.list.id).css("top",c)}else clearInterval(h)},200)}a.parent.visible=a.parent.visible?!1:!0}}});var b=[];b.entryheight=a.listEntryHeight;a.btn.render();var d=$("#"+a.id).height(),n=$("#"+a.id).offset(),l=n.left,d=n.top+d+1;d+a.listHeight>
idev.pgHeight&&(d-=a.listHeight,d-=a.height);n=a.roundCorners;idev.isIE8()&&(n=!1,a.dropWidth+=1);a.list=new idev.ui.widgetList({parent:a,renderTo:"container",x:l+(n?4:0),y:d,width:a.dropWidth,height:a.listHeight,listEntryHeight:a.listEntryHeight,hidden:!0,visible:!1,cls:"ui-combo-droplist",autoScroll:!0,autoSelect:!0,selectCls:a.selectCls,selectColors:a.selectCls,ds:a.ds,border:!0,tpl:a.listTpl,itemStyle:"border:0px;",metaData:b,events:{click:function(a,b,c){var d=a.getStore().getAt(b).get(a.parent.valueField);
a.hide();a.parent.setValue(d,!0);a.parent.visible=!1;idev.hideWidget=null;a.parent.events.selected&&a.parent.events.selected(a.parent,b,c);a.parent.events.change&&b!=c&&a.parent.events.change(a.parent)},hover:function(a,b,c,d){b.parent.events.hover&&b.parent.events.hover(a,this,c.selected)}}});a.list.render();idev.internal.afterRender(a);a.events.click&&$("#"+a.id).click(idev.internal.onClick);a.events.dblclick&&$("#"+a.id).dblclick(idev.internal.onDblClick);$("#"+a.id+"-input").blur(idev.internal.onLostFocus);
$("#"+a.id+"-input").focus(idev.internal.onFocus);a.events.change&&$("#"+a.id).change(idev.internal.onChange);$("#"+a.id).keydown(function(b){var c=idev.get(a.id);if(!c.editable)return b.preventDefault(),!1;""!=c.watermark&&$("#"+c.id+"-input").val()==c.watermark&&($("#"+c.id+"-input").val(""),null==c.inpStyle.color?$("#"+c.id+"-input").css("color",""):$("#"+c.id+"-input").css(c.inpStyle));if(9==b.keyCode&&c.events.ontab)return c.events.ontab(c),b.preventDefault(),!1});$("#"+a.id).keyup(function(b){var c=
idev.get(a.id);if("combo"==c.wtype){if(""!=c.watermark&&""==$("#"+c.id+"-input").val()){var d=$("#"+c.id+"-input");$("#"+c.id+"-input").val(c.watermark);$("#"+c.id+"-input").css("color",c.watermarkColor);d.createTextRange?(d=d.createTextRange(),d.move("character",0),d.select()):d.selectionStart?(d.focus(),d.setSelectionRange(0,0)):d.focus()}if(13==b.keyCode&&c.events.onenter)return c.events.onenter(c),b.preventDefault(),!1}});$("#"+a.id).keypress(idev.internal.onKeypress);a.setValue(a.value);a.rendered=
!0},this)}},refresh:function(){if(this.visibleEntrys>this.ds.getCount()){var a=this.ds.getCount()||1;this.listHeight=(this.listEntryHeight+4)*a;$("#"+this.list.id).height(this.listHeight);$("#"+this.list.id).css("max-height",this.listHeight+"px");$get(this.list.id).doLayout()}else 1<this.ds.getCount()&&(this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys,$("#"+this.list.id).height(this.listHeight),$("#"+this.list.id).css("max-height",this.listHeight+"px"),$("#"+this.list.id+"-wrapper").height(this.listHeight),
$("#"+this.list.id+"-wrapper").css("max-height",this.listHeight+"px"),$get(this.list.id).doLayout())},onshow:function(){this._super();if(idev.isIE8())this.btn.onshow()},ondestroy:function(){this.btn.destroy();this.list.destroy()},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-this.btnWidth-4);$("#"+this.id+"-input").height(b-4);this._super()}}),widgetCheckbox:baseWidget.extend({init:function(a){22>a.width&&(a.width=22);22>a.height&&(a.height=
22);this._super(a);this.wtype="checkbox";this.checked=null==a.checked?!1:a.checked;this.text=a.text||"";this.textStyle=a.textStyle||"";this.align=a.align||"left";this.resizer.handlers="n,s,w,e,";this.nvalue=null===a.nvalue?"":a.nvalue;this.lock=null===a.lock?!1:a.lock;this.resizer.resizeColor="#fff";this.tpl="right"==this.align?new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>","<td width='20px'>","<button id='{id}-input' class='ui-checkbox {cls}' >&nbsp;&nbsp;&nbsp;&nbsp;",
"</button>","</td>","<td id='{id}-text'>","<span style='{textStyle}'>{text}</span>","</td>","</tr>","</table>","</div>"):new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>",""==this.text?"":"<td id='{id}-text'><span style='{textStyle}'>{text}</span></td>","<td width='22px'>","<button id='{id}-input' class='ui-checkbox {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;","</button>","</td>","</tr>","</table>","</div>")},lock:function(){this.lock=!0},
unlock:function(){this.lock=!1},isChecked:function(){return $("#"+this.id+"-input").hasClass("ui-checkbox-on")},setValue:function(a){a==this.value?this.check(!0):this.check(!1)},getValue:function(){return this.isChecked()?this.value:this.nvalue},check:function(a){var b=this.isChecked();a&&!b&&$("#"+this.id+"-input").toggleClass("ui-checkbox-on");!a&&b&&$("#"+this.id+"-input").toggleClass("ui-checkbox-on")},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.cls=this.checked?"ui-checkbox-on":
"";a.elementstyle=this.elementStyle;a.textStyle=this.textStyle;a.text=this.text;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);$("#"+this.id+"-input").click(function(a){var c=idev.get(this.id.replace("-input",""));if(!c.resizer.isResizing()&&!c.lock)return $(this).toggleClass("ui-checkbox-on"),c.events.change&&c.events.change(c),a.preventDefault(),!1});$("#"+this.id+"-input").blur(idev.internal.onLostFocus);this.rendered=!0}}}),
widgetSwitch:baseWidget.extend({init:function(a){"undefined"==typeof a.width&&(a.width=94);"undefined"==typeof a.height&&(a.height=27);this._super(a);this.wtype="switch";this.on=null==a.on?!1:a.on;this.resizer.resizable=!1;this.nvalue=a.nvalue||"";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<div id='{id}-input' class='-ui-switch {cls}'>","<img id='{id}-img' src='"+_preferences.libpath+"/images/off.png' style='width:{width}px;height:{height}px' title='{title}'/>",
"</div>","</div>")},isOn:function(){return this.on},setOn:function(a){a?($("#"+this.id+"-img").attr("src",_preferences.libpath+"/images/on.png"),this.on=!0):($("#"+this.id+"-img").attr("src",_preferences.libpath+"/images/off.png"),this.on=!1)},getValue:function(){return this.isOn()?this.value:this.nvalue},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);
$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.on&&this.setOn(!0);$("#"+this.id+"-input").click(function(){var a=idev.get(this.id.replace("-input",""));a.resizer.isResizing()||a.setOn(!a.on)});this.events.change&&$("#"+this.id).click(idev.internal.onChange);this.rendered=!0}}}),widgetRadio:baseWidget.extend({init:function(a){this._super(a);this.wtype="radio";this.checked=null==a.checked?!1:a.checked;this.group=null==a.group?"":a.group;this.text=a.text||"";this.textStyle=a.textStyle||
"";this.align=a.align||"left";this.resizer.handlers="n,s,w,e,";this.tpl="right"==this.align?new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>","<td width='20px'>","<div id='{id}-input' group='{group}' class='ui-radio-off {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;","</div>","</td>","<td id='{id}-text'>","<span class='ui-radio-text' style='{textStyle}'>{text}</span>","</td>","</tr>","</table>","</div>"):new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>",
"<table width=100% style='{style}'>","<tr>","<td id='{id}-text'>","<span class='ui-radio-text' style='{textStyle}'>{text}</span>","</td>","<td width='20px'>","<div id='{id}-input' group='{group}' class='ui-radio-off {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;","</div>","</td>","</tr>","</table>","</div>")},isChecked:function(){return $("#"+this.id+"-input").hasClass("ui-radio-on")},getValue:function(){var a=$("[group="+this.group+"].ui-radio-on").attr("id").replace("-input","");return idev.widgets[a].value},
check:function(a){var b=$("#"+this.id+"-input").hasClass("ui-radio-on");a&&!b&&$("#"+this.id+"-input").toggleClass("ui-radio-on");!a&&b&&$("#"+this.id+"-input").toggleClass("ui-radio-on")},handleRadio:function(a){this.isChecked()||(a=$("[group="+this.group+"].ui-radio-on").attr("id").replace("-input",""),idev.widgets[a].check(!1),this.check(!0),this.events.click&&this.events.click(this))},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.cls=this.checked?"ui-radio-on":"";a.elementstyle=
this.elementStyle;a.style=this.style;a.textStyle=this.textStyle;a.text=this.text;a.group=this.group;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);$("#"+this.id).click(function(){idev.get(this.id).handleRadio()});this.rendered=!0}}}),widgetSVGButton:baseWidget.extend({init:function(a){_preferences.useCSS3||(a.hideType="visibility");a.height=null==a.height?38:a.height;this._super(a);var b="",c="",d="#222",e="black",f=12,h="normal",
n=6,l,k=!1;this.wtype="svgbutton";this.width=null==this.width?80:this.width;this.icon=null==a.icon?"":a.icon;this.iconAlign=null==a.iconAlign?"left":a.iconAlign.toLowerCase();this.text=null==this.config.text?"":this.config.text;this.color=null==this.config.color?"":this.config.color;this.transparent=null==this.config.transparent?!1:this.config.transparent;""!=this.color||this.transparent||(_preferences?(_preferences.button.startcolor&&(b=_preferences.button.startcolor),_preferences.button.endcolor&&
(c=_preferences.button.endcolor),_preferences.button.fontcolor&&(d=_preferences.button.fontcolor),_preferences.button.iconcolor&&(e=_preferences.button.iconcolor),_preferences.button.fontsize&&(f=_preferences.button.fontsize),_preferences.button.fontweight&&(h=_preferences.button.fontweight),_preferences.button.radius&&(n=_preferences.button.radius),_preferences.button.bordercolor&&(l=_preferences.button.bordercolor),_preferences.button.border&&(k=_preferences.button.border)):this.color="blue");_preferences.useCSS3&&
(d="inherit");null==this.width&&null!=this.height&&(this.width=this.height);null==this.height&&null!=this.width&&(this.height=this.width);this.isshown=!1;this.radius=null==this.config.radius?n:this.config.radius;this.startColor=null==this.config.startColor?b:this.config.startColor;this.endColor=null==this.config.endColor?c:this.config.endColor;this.fontColor=null==this.config.fontColor?d:a.fontColor;this.fontDisableColor=null==this.config.fontDisableColor?d:a.fontDisableColor;this.fontSize=null==
this.config.fontSize?f:this.config.fontSize;this.fontWeight=null==this.config.fontWeight?h:this.config.fontWeight;this.fontFamily=null==this.config.fontFamily?"Arial":this.config.fontFamily;this.iconColor=null==this.config.iconColor?e:this.config.iconColor;this.iconRotation=null==this.config.iconRotation?0:this.config.iconRotation;this.iconScale=null==this.config.iconScale?0.6:this.config.iconScale;this.toggle=null==this.config.toggle?!1:this.config.toggle;this.down=null==this.config.down?!1:this.config.down;
this.ix=this.config.ix;this.iy=this.config.iy;this.svg=!0==this.config.svg?!0:!1;""!=this.color&&(idev.colors.gradientColors(this),null!=this.config.fontColor&&(this.fontColor=this.config.fontColor),null!=this.config.fontSize&&(this.fontSize=this.config.fontSize),null!=this.config.fontWeight&&(this.fontSize=this.config.fontWeight));l||(l=b);this.borderColor=this.config.borderColor||l;this.path=this.config.path;this.shape=null==this.config.shape?null:this.config.shape.toLowerCase();this.gradient=null==
a.gradient?null:this.config.gradient.toLowerCase();this.rx=null==this.config.rx?0.5:this.config.rx;this.ry=null==this.config.ry?0.5:this.config.ry;this.textXOffset=null==this.config.textXOffset?0:this.config.textXOffset;this.textYOffset=null==this.config.textYOffset?0:this.config.textYOffset;this.border=null==this.config.border?k:this.config.border;this.image=this.config.image;this.imageFill=this.config.imageFill;this.title=this.config.title||"";this.startTColor=null==this.config.startTColor?this.endColor:
this.config.startTColor;this.endTColor=null==this.config.endTColor?this.startColor:this.config.endTColor;null!=this.image&&(null==this.image.x&&(this.image.x=0),null==this.image.y&&(this.image.y=0),null==this.image.width&&(this.image.width=20),null==this.image.height&&(this.image.height=20));this.icon=this.icon.replace("ui-icon-","");this.icon=this.icon.replace("-white","");this.icon=this.icon.replace("-black","");this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {buttoncls}' style='{elementstyle}{style}' title='{title}'></div>");
""!=this.startColor&&""!=this.endColor&&(this.color="")},drawButton:function(){null==this.ix&&(this.ix=0);null==this.iy&&(this.iy=0);this.paper=Raphael(this.id,this.width,this.height);this.paper.safari();if(this.transparent)this.border&&(this.object=this.paper.rect(1.5,1.5,this.width-2,this.height-2,this.radius),this.object.attr({stroke:this.borderColor,"stroke-width":"0.25",cursor:"pointer"}));else{var a=this.border?3:2;this.object=null!=this.path?this.paper.path(this.path):"circle"==this.shape?
this.paper.circle(this.width/2,this.height/2,this.radius-2):"ellipse"==this.shape?this.paper.ellipse(this.width/2,this.height/2,this.width/2-2,this.height/2-2):this.paper.rect(1.5,1.5,this.width-a,this.height-a,this.radius);this.border?this.object.attr({stroke:this.borderColor,"stroke-width":"0.3",cursor:"pointer"}):this.object.attr({"stroke-width":"0.05",cursor:"pointer"});null!=this.imageFill?this.object.attr({fill:"url("+this.imageFill+")"}):"radial"==this.gradient?this.object.attr({fill:"r("+
this.rx+","+this.ry+")"+this.endColor.toLowerCase()+"-"+this.startColor.toLowerCase()}):this.object.attr({fill:"90-"+this.startColor.toLowerCase()+"-"+this.endColor.toLowerCase()})}""!=this.text&&(this.transparent&&null!=this.image?(4>this.textXOffset&&(this.textXOffset=4),this.tx=this.paper.text(this.image.width+this.textXOffset,this.height/2+this.textYOffset,this.text).attr({"text-anchor":"start"})):this.tx=this.paper.text(this.width/2+this.textXOffset,this.height/2+this.textYOffset,this.text),
this.enabled?this.tx.attr({fill:this.fontColor,stoke:this.fontColor,"stroke-width":"0.1","font-size":this.fontSize,"font-weight":this.fontWeight,cursor:"pointer"}):this.tx.attr({fill:"#888",stoke:"#222","stroke-width":"0.1","font-size":this.fontSize,"font-weight":this.fontWeight,cursor:"pointer"}));null!=this.image&&null!=this.image.src&&(this.graphic=this.paper.image(this.image.src,this.image.x,this.image.y,this.image.width,this.image.height),"function"==typeof this.events.click&&this.graphic.attr("cursor",
"pointer"));a="";""!=this.icon&&(a=eval("icon."+this.icon));if(""!=a)if(this.ic=this.paper.path(a).attr({fill:this.iconColor,stroke:"none"}),"center"==this.iconAlign){this.ic.scale(this.iconScale,this.iconScale);bbox=this.ic.getBBox();var a=this.width/2-(bbox.x+bbox.width/2),b=this.height/2-(bbox.y+bbox.height/2),a=idev.isIE8()?a*(2.8-this.iconScale):a*(2.05-this.iconScale),b=b*(2-this.iconScale);this.ic.translate(a+this.ix,b+this.iy);0!=this.iconRotation&&this.ic.rotate(this.iconRotation)}else this.ic.scale(this.iconScale,
this.iconScale),"left"==this.iconAlign?this.ic.translate(-4+this.ix,-4+this.iy):this.ic.translate(this.width+8+this.ix,-4+this.iy),0!=this.iconRotation&&this.ic.rotate(this.iconRotation,16,18);this.down&&this.toggleButton(!0);this.hidden&&this.hide();idev.isIE8()||(this.isshown=!0)},render:function(){if(null!=this.renderTo){var a="",a="",b=this.btnBodyCls;-1==idev.agent.indexOf("android 2.")&&!_preferences.useCSS3&&null!=Raphael||this.svg||(a="ui-button ",""==b&&(b="ui-button-body"),this.color&&!this.transparent&&
(b+="-"+this.color.toLowerCase()),this.enabled||(b+=" "+this.btnDisabledCls));var c=[];c.id=this.id;c.width=this.width;c.bodywidth=this.width;c.height=this.height;c.bodyheight=this.height;c.elementstyle=this.elementStyle;c.title=this.title;c.style=this.style;c.buttoncls=this.cssQuirks(a);c.buttonbodycls=this.transparent?"":this.cssQuirks(b);c.buttonBodyStyle=this.buttonBodyStyle;a=this.tpl.render(c);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){a.drawButton();
idev.internal.afterRender(a)},this);"function"==typeof this.events.click&&$("#"+this.id).click(function(a){var b=idev.get(this.id);if(b.toggle){var c=!0;b.events.canToggle&&(c=b.events.canToggle(b));c&&(b.toggleButton(b.down?!1:!0),idev.internal.onClick.call(this,a))}else idev.internal.onClick.call(this,a)});this.rendered=!0}},setBorderColor:function(a,b){_preferences.useCSS3&&!this.svg||this.object.attr({stroke:a,"stroke-width":b||0.3})},textColor:function(a){_preferences.useCSS3&&!this.svg||this.tx.attr({fill:a,
stoke:a})},setText:function(a){this.text=a;_preferences.useCSS3?$("#"+this.id+"-text").html(a):this.tx.attr({text:a})},getText:function(){return this.text},isDown:function(){return this.down},enableButton:function(a){(this.enabled=a)?this.textColor(this.fontColor):this.textColor(this.fontDisableColor)},toggleButton:function(a){if(this.toggle&&((this.down=a)?this.object.attr({fill:"90-"+this.startTColor.toLowerCase()+"-"+this.endTColor.toLowerCase()}):this.object.attr({fill:"90-"+this.startColor.toLowerCase()+
"-"+this.endColor.toLowerCase()}),"function"==typeof this.events.ontoggle))this.events.ontoggle(this,a)},reColor:function(a,b){this.object.attr({fill:"90-"+a.toLowerCase()+"-"+b.toLowerCase()})},onshow:function(){this._super();idev.isIE8()&&!this.isshown&&(this.paper&&(this.paper.remove(),this.drawButton()),this.isshown=!0)},onhide:function(){idev.isIE8()&&this.paper&&this.paper.hide()},ondestroy:function(){this.paper&&this.paper.remove()},doLayout:function(){this._super();$("#"+this.id).width();
$("#"+this.id).height()}}),widgetButton:baseWidget.extend({init:function(a){a.cls=a.cls||"ui-button";this._super(a);this.wtype="button";this.textCls=this.config.textCls||"ui-button-text";this.textStyle=this.config.textStyle||"";this.icon=this.config.icon||{cls:"",src:null,align:"left",color:"black"};"string"==typeof this.icon&&(this.icon={cls:"",src:this.icon,align:"left",color:"black"});this.toggle=this.config.toggle||!1;this.down=this.config.down||!1;this.toggleCls=this.config.toggleCls||"ui-button-toggle";
this.enabled=null==this.config.enabled?!0:this.config.enabled;this.disabledCls=this.config.disabledCls||"ui-button-disabled";this.transparent=null==this.config.transparent?!1:this.config.transparent;this.tooltip=a.tooltip||"";this.tpl=new idev.wTemplate("<button unselectable='on' type='button' id='{id}' class='ui-element {cls} {togglecls} unselectable' style='{elementstyle}{style}' title='{tooltip}'>","{image1}<span class='{textcls}' id='{id}-text' style='{textstyle}'>{text}</span>{image2}","</button>");
"function"==typeof this.events.click&&(this.style+=" cursor: pointer;")},render:function(){if(null!=this.renderTo){var a=[],b="";if(null!=this.icon.src){this.icon.cls=this.icon.cls||"";this.icon.color=this.icon.color||"black";this.icon.style=this.icon.style||"";idev.isFF()&&22==this.height&&(this.icon.style+=" margin-left:-2px");"_arrow"==this.icon.src?b="<img id='"+this.id+"-icon' class='"+this.icon.cls+"' src='"+_preferences.libpath+"images/arrow.png' style='":"_calendar"==this.icon.src?b="<img id='"+
this.id+"-icon' class='"+this.icon.cls+"' src='"+_preferences.libpath+"images/calendar.png' style='":-1==this.icon.src.indexOf(".")?(b=this.icon.color.toLowerCase(),b="white"==b||"#fff"==b||"#ffffff"==b?"<img id='"+this.id+"-icon' class='"+this.icon.cls+"' src='"+_preferences.libpath+"images/icons/white/"+this.icon.src+".png' style='":"<img id='"+this.id+"-icon' class='"+this.icon.cls+"' src='"+_preferences.libpath+"images/icons/black/"+this.icon.src+".png' style='"):b="<img id='"+this.id+"-icon' class='"+
this.icon.cls+"' src='"+this.icon.src+"' style='";if(null!=this.icon.x||null!=this.icon.right||null!=this.icon.y||null!=this.icon.bottom)b+="position:absolute;";null!=this.icon.x&&(b+="left:"+this.icon.x+"px;");null!=this.icon.right&&(b+="right:"+this.icon.right+"px;");null!=this.icon.y&&(b+="top:"+this.icon.y+"px;");null!=this.icon.bottom&&(b+="bottom:"+this.icon.bottom+"px;");null!=this.icon.width&&(b+="width:"+this.icon.width+"px;");null!=this.icon.height&&(b+="height:"+this.icon.height+"px;");
b+=this.icon.style+"'/>"}a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;a.style=this.style;a.tooltip=this.tooltip;a.cls=this.cssQuirks(this.transparent?"ui-button-transparent":this.cls);a.togglecls=this.toggle?this.down?this.toggleCls:"":"";"right"==this.icon.align?(a.image1="",a.image2=b):(a.image1=b,a.image2="");a.text=this.text;a.textcls=this.textCls;a.textstyle=this.textStyle;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);
idev.internal.afterRender(this);"function"==typeof this.events.click&&$("#"+this.id).click(function(a){var b=idev.get(this.id);if(b.enabled)if(b.toggle&&!b.transparent){var e=!0;b.events.canToggle&&(e=b.events.canToggle(b));e&&(b.toggleButton(b.down?!1:!0),idev.internal.onClick.call(this,a))}else idev.internal.onClick.call(this,a)});this.enabled||this.enable(!1);this.rendered=!0}},getText:function(){return this.text},setText:function(a){this.text=a;$("#"+this.id+"-text").html(a)},enableButton:function(a){(this.enabled=
a)?$("#"+this.id+"-text").removeClass(this.disabledCls):$("#"+this.id+"-text").addClass(this.disabledCls)},isEnabled:function(){return this.enabled},isDown:function(){return this.down},toggleButton:function(a){if(this.toggle&&((this.down=a)?$("#"+this.id).addClass(this.toggleCls):$("#"+this.id).removeClass(this.toggleCls),"function"==typeof this.events.ontoggle))this.events.ontoggle(this,a)}}),widgetLabel:baseWidget.extend({init:function(a){a.height=a.height||30;this._super(a);this.wtype="label";
this.text=null==a.text?"":a.text;this.title=null==a.title?!1:a.title;""==this.text&&(this.text="");!0==this.title&&$("#"+this.id).attr("title",this.text);this.tpl=new idev.wTemplate("<div id='{id}' title='' class='ui-element ui-label {cls}' style='{elementstyle};{style}'>","{text}","</div>")},render:function(){if(null!=this.renderTo){var a=this.style,b=[];if(this.events.click||this.events.dblclick)a+="cursor:pointer";b.id=this.id;b.cls=this.cssQuirks(this.cls);b.elementstyle=this.elementStyle;b.style=
a;b.text=this.text;a=this.tpl.render(b);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},setText:function(a){a&&(this.text=""!=a?a.replace(/^\s+|\s+$/g,""):a,$("#"+this.id).empty(),$("#"+this.id).html(this.text),!0==this.title&&$("#"+this.id).attr("title",this.text))},getText:function(){return this.text},
setValue:function(a){this.setText(a)},getValue:function(a){return this.getText()}}),widgetImage:baseWidget.extend({init:function(a){this._super(a);this.wtype="image";this.src=a.src;this.title=a.title||"";this.html=a.html||"";this.prehtml=a.prehtml||"";this.imageWidth=null==a.imageWidth?this.width:a.imageWidth;this.imageHeight=null==a.imageHeight?this.height:a.imageHeight;this.tpl=new idev.wTemplate("<div class='ui-element' id='{id}' style='{style}'>","{prehtml}<img id='{id}-image' class='{cls}' src='{src}' style='width:{width}px;height:{height}px;' title='{title}'/>{html}",
"</div>")},render:function(){if(null!=this.renderTo&&""!=this.src&&"undefined"!=this.src&&null!=this.src){var a="",a=this.style+this.elementStyle;this.events.click&&(a+="cursor:pointer;");var b=[];b.id=this.id;b.cls=this.cssQuirks(this.cls);b.width=null==this.imageWidth?"":this.imageWidth;b.height=null==this.imageHeight?"":this.imageHeight;b.src="BLANK"==this.src.toUpperCase()||""==this.src?_preferences.blankimage:this.src;b.style=a;b.title=this.title;b.prehtml=this.prehtml;b.html=this.html;a=this.tpl.render(b);
idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},setSrc:function(a,b,c){b=b||"";c=c||"";if(""==b&&""==c)$("#"+this.id+"-image").attr({src:"BLANK"==a.toUpperCase()||""==a?_preferences.blankimage:a});else{var d=new idev.wTemplate("{prehtml}<img id='{id}-image' class='{cls}' src='{src}' style='width:{width}px;height:{height}px;' title='{title}'/>{html}"),
e=[];e.id=this.id;e.cls=this.cssQuirks(this.cls);e.width=b;e.height=c;e.src="BLANK"==a.toUpperCase()||""==a?_preferences.blankimage:a;e.title=this.title;e.prehtml=this.prehtml;e.html=this.html;a=d.render(e);$("#"+this.id).html(a)}},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-image").width(a);$("#"+this.id+"-image").height(b)}}),widgetChart:baseWidget.extend({init:function(a){this._super(a);this.wtype="chart";this.attr=a.attr;this.series=
a.series;this.options=a.options;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}{style};padding:10px;'>","<div id='{id}-chart' style='width:{width}px;height:{height}px;'></div>","</div>")},setSeries:function(a){this.series=a;idev.utils.delay(500,function(b){b.chart.setData(a);b.chart.draw()},this)},render:function(){if(null!=this.renderTo&&null!=this.series&&null!=this.options){var a="",a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;
a.style="font-size: 16px;font-family: sans-serif;"+this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(500,function(a){a.chart=$.plot($("#"+a.id+"-chart"),a.series,a.options)},this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();
$("#"+this.id+"-chart").width(a);$("#"+this.id+"-chart").height(b);this.chart.resize();this.chart.setupGrid();this.chart.draw()}}),widgetSlider:baseWidget.extend({init:function(a){this._super(a);this.wtype="slider";this.height=null==a.height?20:a.height;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};height:{height}px;'>","<div id='{id}-bar' class='ui-sliderbar ie9gradient' style='top:{top}px;width:{width}px;height:{barheight}px;'>","</div>","<div id='{id}-slider' class='ui-slider ie9gradient' style='width:{sliderwidth}px;height:{sliderheight}px;'>",
"</div>","</div>");this.resizer.handlers="n,s,w,e,"},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width-2;a.height=this.height;a.barheight=this.height/2;a.sliderheight=this.height-2;a.sliderwidth=this.height/2;a.top=this.height/4;a.elementstyle=this.elementStyle;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);$("#"+this.id).mousedown(function(a){var c=
parseInt($("#"+this.id).css("width").replace("px",""));-1!=a.target.id.indexOf("-slider")&&(idev._sliderWidget=idev.get(this.id),mpos=idev.utils.mousePosition(a),idev._slider=a.target,idev._sliderpos=parseInt(mpos.x),idev._sliding=!0,idev._sliderstart=$(a.target).css("left").replace("px",""),idev._sliderwidth=c-(parseInt($(a.target).css("width").replace("px",""))+2),a.preventDefault())});$("#"+this.id).mousemove(function(a){if(idev._sliding){mpos=idev.utils.mousePosition(a);var c=parseInt(mpos.x)-
idev._sliderpos,c=parseInt(idev._sliderstart)+parseInt(c);0<=c&&c<idev._sliderwidth&&$(idev._slider).css("left",c+"px");a.preventDefault();if(idev._sliderWidget.events.onchange)idev._sliderWidget.events.onchange(idev._sliderWidget,idev._sliderWidget.getValue())}});$("#"+this.id).mouseup(function(a){idev._sliding=!1});idev.isTouch()&&(a=$("#"+this.id),a[0].addEventListener("touchstart",function(a){var c=parseInt($("#"+this.id).css("width").replace("px",""));if(-1!=a.target.id.indexOf("-slider")){var d=
a.touches[0];idev._sliderWidget=idev.get(this.id);idev._slider=a.target;idev._sliderpos=d.pageX;idev._sliding=!0;idev._sliderstart=$(a.target).css("left").replace("px","");idev._sliderwidth=c-parseInt($(a.target).css("width").replace("px",""))}}),a[0].addEventListener("touchmove",function(a){if(idev._sliding){var c=a.touches[0].pageX-idev._sliderpos,c=parseInt(idev._sliderstart)+parseInt(c);0<=c&&c<idev._sliderwidth&&$(idev._slider).css("left",c+"px");a.preventDefault();if(idev._sliderWidget.events.onchange)idev._sliderWidget.events.onchange(idev._sliderWidget,
idev._sliderWidget.getValue())}}),a[0].addEventListener("touchend",function(a){idev._sliding=!1}));this.rendered=!0;this.setValue(this.value)}},getValue:function(){var a=parseInt($("#"+this.id+"-slider").css("left").replace("px","")),b=$("#"+this.id).width(),c=$("#"+this.id).height();return idev.utils.round(a/(b-c/2-2),2)},setValue:function(a){if(!(0>a||1<a)){var b=parseInt($("#"+this.id+"-slider").css("left").replace("px","")),b=$("#"+this.id).width(),c=$("#"+this.id).height(),b=(b-c/2-2)*a;$("#"+
this.id+"-slider").css("left",b);if(this.events.onchange)this.events.onchange(this,a)}},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-bar").width(a-2);$("#"+this.id+"-bar").css("top",b/4);$("#"+this.id+"-bar").height(b/2);$("#"+this.id+"-slider").width(b/2);$("#"+this.id+"-slider").height(b-2);this.setValue(this.value)},beforeResize:function(){this.value=this.getValue()}}),widgetProgress:baseWidget.extend({init:function(a){this._super(a);
this.wtype="progressbar";this.height=null==a.height?30:a.height;this.roundCorners=null==a.roundCorners?!1:a.roundCorners;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};height:{height}px;'>","<div id='{id}-bar' class='ui-progressbar ie9gradient' style='width:{width}px;height:{pheight}px;'>","</div>","<div id='{id}-progress' class='ui-progress ie9gradient' style='width:{progresswidth}px;height:{progressheight}px;'>","</div>","</div>");this.resizer.handlers="n,s,w,e,"},
render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width-2;a.height=this.height;a.pheight=this.height-2;a.progressheight=this.height-2;a.progresswidth=0;a.elementstyle=this.elementStyle;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"),$("#"+this.id+
"-bar").css("border-radius",this.radius+"px"),$("#"+this.id+"-bar").css("-moz-border-radius",this.radius+"px"),$("#"+this.id+"-bar").css("-webkit-border-radius",this.radius+"px"),$("#"+this.id+"-progress").css("border-radius",this.radius+"px"),$("#"+this.id+"-progress").css("-moz-border-radius",this.radius+"px"),$("#"+this.id+"-progress").css("-webkit-border-radius",this.radius+"px"));idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.rendered=!0;this.setValue(this.value)}},
getValue:function(){var a=parseInt($("#"+this.id+"-progress").css("width").replace("px",""));return idev.utils.round(a/(this.width-this.height/2-2),2)},setValue:function(a){if(!(0>a||1<a)){var b=$("#"+this.id).width(),c=parseInt($("#"+this.id+"-progress").css("width").replace("px","")),c=(b-2)*a;$("#"+this.id+"-progress").css("width",c)}},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-bar").width(a);$("#"+this.id+"-bar").height(b);$("#"+this.id+
"-progress").height(b);this.setValue(this.value)},beforeResize:function(){this.value=this.getValue()}}),widgetIFrame:baseWidget.extend({init:function(a){this._super(a);this.wtype="iframe";this.src=this.config.src||"";this.noResize=null==this.config.noResize?!1:a.noResize;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};{style};'>","<iframe id='{id}-frame' src='{src}' frameborder=0 style='height:{height}px;width:{width}px;overflow:auto;'>","</iframe>","</div>")},
render:function(){if(null!=this.renderTo){var a=[],b=this;a.id=this.id;a.width=this.width;a.height=this.height;a.src=this.src;a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.rendered=!0;$("#"+this.id+"-frame").load(function(){b.events.loaded&&b.events.loaded(b)})}},getSrc:function(){return this.src},setSrc:function(a){$("#"+this.id+"-frame").attr("src",a)},getFrame:function(){try{return window.frames[this.id+
"-frame"]}catch(a){alert(a.message)}return null},getDocument:function(){try{return window.frames[this.id+"-frame"].contentDocument}catch(a){alert(a.message)}return null},getWindow:function(){try{return window.frames[this.id+"-frame"].contentWindow}catch(a){}return null},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.noResize||($("#"+this.id+"-frame").width(a),$("#"+this.id+"-frame").height(b))}}),widgetObject:baseWidget.extend({init:function(a){this._super(a);
this.wtype="object";this.src=a.src||"";this.type=a.type||"text/html";this.noResize=null==a.noResize?!1:a.noResize;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};{style};'>","<object id='{id}-object' type='{type}' data='{src}' style='height:{height}px;width:{width}px;overflow:auto;'></object>","</div>")},render:function(){if(null!=this.renderTo){var a=[],b=this;a.id=this.id;a.width=this.width;a.height=this.height;a.src=this.src;a.type=this.type;a.elementstyle=
this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.rendered=!0;$("#"+this.id+"-object").ready(function(){$delay(200,function(a){a.events.loaded&&a.events.loaded(a)},b)})}},getSrc:function(){return this.src},setSrc:function(a){$("#"+this.id+"-object").attr("data",a)},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.noResize||($("#"+this.id+"-object").width(a),
$("#"+this.id+"-object").height(b))}}),widgetGrid:baseWidget.extend({init:function(a){this._super(a);this.wtype="grid";this.ds=a.ds;this.cm=a.cm;this.headerHeight=26;this.offset=null==a.offset?0:a.offset;this.limit=a.limit||65535;this.rowHeight=null==a.rowHeight?25:a.rowHeight;a.rowHeight=this.rowHeight;this.selectedCell=this.selectedRow=-1;this.autoSelect=null==a.autoSelect?!0:a.autoSelect;this.dsFilter=a.dsFilter;this.editCol=null;this.altCls=a.altCls||"ui-grid-cell-alt";this.tbar=this.config.tbar;
this.tbarHeight=this.config.tbarHeight||34;this.tbarCls=this.config.tbarCls||"";this.tbarStyle=this.config.tbarStyle||"";this.tbarConfig=this.config.tbarConfig||{};this.tbCreated=!1;this.bbar=this.config.bbar;this.bbarHeight=this.config.bbarHeight||34;this.bbarCls=this.config.bbarCls||"";this.bbarStyle=this.config.bbarStyle||"";this.bbarConfig=this.config.bbarConfig||{};this.bbCreated=!1;this.showHeader=null==a.showHeader?!0:a.showHeader;this.editClicks=a.editClicks||2;this.showHeader||(this.headerHeight=
0);null!=this.tbar?this.tbar instanceof baseWidget?this.tbCreated=!1:(null==this.tbarConfig.cls&&(this.tbarConfig.cls=this.tbarCls),null==this.tbarConfig.height&&(this.tbarConfig.height=this.tbarHeight),this.tbarConfig.width=this.width,a=new idev.ui.widgetToolbar(this.tbarConfig),a.widgets=this.tbar,this.tbar=a,this.tbCreated=!0):this.tbarHeight=0;null!=this.bbar?this.bbar instanceof baseWidget?this.bbCreated=!1:(null==this.bbarConfig.cls&&(this.bbarConfig.cls=this.bbarCls),null==this.bbarConfig.height&&
(this.bbarConfig.height=this.bbarHeight),this.bbarConfig.width=this.width,a=new idev.ui.widgetStatusbar(this.bbarConfig),a.widgets=this.bbar,this.bbar=a,this.bbCreated=!0):this.bbarHeight=0;var b=a="";this.tbar&&(a="<div id='{id}-tbar' class='ui-panel-tbar {tbarcls}' style='max-width:{tbarwidth}px;width:{tbarwidth}px;height:{tbarheight}px;{tbarstyle};'></div>",this.roundCorners&&null==this.title&&(this.tbarStyle+=";border-top-left-radius:"+(this.radius-2)+"px;",this.tbarStyle+="border-top-right-radius:"+
(this.radius-2)+"px;",this.tbarStyle+="-webkit-border-top-left-radius:"+(this.radius-2)+"px;",this.tbarStyle+="-webkit-border-top-right-radius:"+(this.radius-2)+"px;",this.tbarStyle+="-moz-border-top-left-radius:"+(this.radius-2)+"px;",this.tbarStyle+="-moz-border-top-right-radius:"+(this.radius-2)+"px;"));this.bbar&&(b="<div id='{id}-bbar' class='ui-panel-bbar {bbarcls}' style='max-width:{bbarwidth}px;width:{bbarwidth}px;height:{bbarheight}px;{bbarstyle};'></div>",this.roundCorners&&(this.bbarStyle+=
";border-bottom-left-radius:"+(this.radius-2)+"px;",this.bbarStyle+="border-bottom-right-radius:"+(this.radius-2)+"px;",this.bbarStyle+="-webkit-border-bottom-left-radius:"+(this.radius-2)+"px;",this.bbarStyle+="-webkit-border-bottom-right-radius:"+(this.radius-2)+"px;",this.bbarStyle+="-moz-border-bottom-left-radius:"+(this.radius-2)+"px;",this.bbarStyle+="-moz-border-bottom-right-radius:"+(this.radius-2)+"px;"));this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-grid' style='{elementstyle}{style}'>",
a,"<div id='{id}-body' style='height:{bodyheight}px;'>","</div>",b,"</div>");null!=this.ds&&this.ds.bind(this)},build:function(){for(var a="",b=this.totalwidth=0,c=this.cm.getCount();b<c;b++)this.totalwidth+=this.cm.getAt(b).width;if(this.showHeader){a="<table  id='"+this.id+"-grid-header' cellpadding=0 cellspacing=0 width='"+(this.totalwidth+20)+"px'>";a+="<tr>";b=0;for(c=this.cm.getCount();b<c;b++){var d=this.cm.getAt(b),e=d.width,f=d.header,h=this.id+"-header-"+b;d.headerRenderer&&(d.parent=this,
f=d.headerRenderer.call(d,b));0==b?a+="<td id='"+h+"' width="+(e-1)+" height="+this.headerHeight+" class='ui-grid-header'><div style='float:left;line-height:"+this.headerHeight+"px;width:"+(e-1)+"px;'><center>"+f+"</center></div></td>":(b==this.cm.getCount()-1&&(e=idev.isIE8()?e+20:e+25),a+="<td id='"+h+"' width="+e+" height="+this.headerHeight+" class='ui-grid-header'><div class='ui-grid-separator' style='height:"+this.headerHeight+"px;'></div><div style='float:none;line-height:"+this.headerHeight+
"px;width:"+d.width+"px;'><center>"+f+"</center></div></td>")}this.htmlHeader=a+="</tr></table>"}else this.htmlHeader="";a="<table id='"+this.id+"-grid' cellpadding=0 cellspacing=0 class='ui-grid-data' width='"+(this.totalwidth+0)+"px' >";e=0;f=this.offset;for(c=this.ds.getCount();f<c&&f<this.offset+this.limit;f++)if(h=this.ds.getAt(f),b=!0,this.dsFilter&&(b=this.dsFilter.call(this,h,f)),b){for(var a=a+("<tr height='"+this.rowHeight+"'>"),b=0,n=this.cm.getCount();b<n;b++){var d=this.cm.getAt(b),l=
[],k="";d.index=b;d.col=b;0==b&&(k+="border-left:none;");null!=d.renderer?(d.parent=this,l.value=d.renderer(h.get(d.field),h,e,b,d)):l.value=h.get(d.field);null!=d.style&&(k+=d.style);l.id=this.id;l.style=k+(d.style||"");f%2&&(l.cls=this.altCls);d.noselect&&(l.cls=null);l.row=f;l.col=b;l.width=d.width-5;l.height=this.rowHeight;l=d.render(l,h,f,b);a+="<td id='"+this.id+"_"+f+"_"+b+"' style='width:"+d.width+"px;max-width:"+d.width+"px;'>"+l+"</td>"}a+="</tr>";e++}this.htmlData=a+="</table>"},render:function(){if(null!=
this.renderTo&&null!=this.ds&&null!=this.cm){this.border&&(this.style+="border:"+this.borderStyle);this.bodyheight=this.height;this.tbar&&(this.bodyheight-=parseInt(this.tbarHeight));this.bbar&&(this.bodyheight-=parseInt(this.bbarHeight));var a=[];a.id=this.id;a.cls=this.cssQuirks(this.cls);a.width=this.width;a.height=this.bodyheight-this.headerHeight-this.tbarHeight-this.bbarHeight;a.bodyheight=this.bodyheight;a.tbarheight=this.tbarHeight;a.tbarcls=this.cssQuirks(this.tbarCls,!0);a.tbarstyle=this.tbarStyle;
a.bbarheight=this.bbarHeight;a.bbarcls=this.cssQuirks(this.bbarCls,!0);a.bbarstyle=this.bbarStyle;a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.tbar&&(this.tbar.page=this.page,this.tbar.parent=this,this.tbar.rowHeight=this.tbarHeight-2,this.tbar.renderTo=this.id+"-tbar",this.tbar.render());this.bbar&&(this.bbar.page=this.page,this.bbar.parent=this,this.bbar.rowHeight=this.bbarHeight-2,this.bbar.renderTo=
this.id+"-bbar",this.bbar.render());idev.utils.delay(100,function(a){a.refresh(!0)},this);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"),$("#"+this.id+"-body").css("border-radius",this.radius+"px"),$("#"+this.id+"-body").css("-moz-border-radius",this.radius+"px"),$("#"+this.id+"-body").css("-webkit-border-radius",this.radius+"px"),a=this.radius-1,this.tbar?
($("#"+this.id+"-tbar").css("-moz-border-radius-topleft",a+"px"),$("#"+this.id+"-tbar").css("-moz-border-radius-topright",a+"px"),$("#"+this.id+"-tbar").css("-webkit-border-radius-topleft",a+"px"),$("#"+this.id+"-tbar").css("-webkit-border-radius-topright",a+"px")):($("#"+this.id+"-header").css("-moz-border-radius-topleft",a+"px"),$("#"+this.id+"-header").css("-moz-border-radius-topright",a+"px"),$("#"+this.id+"-header").css("-webkit-border-radius-topleft",a+"px"),$("#"+this.id+"-header").css("-webkit-border-radius-topright",
a+"px")),this.bbar&&($("#"+this.id+"-bbar").css("-moz-border-radius-bottomleft",a+"px"),$("#"+this.id+"-bbar").css("-moz-border-radius-bottomright",a+"px"),$("#"+this.id+"-bbar").css("-webkit-border-radius-bottomleft",a+"px"),$("#"+this.id+"-bbar").css("-webkit-border-radius-bottomright",a+"px")))}},cellClick:function(a){""==b&&(b=a.srcElement.parentNode.id);var b=(null!=a.target?a.target:a.srcElement).id,c=b.indexOf("-");if(-1!=c){var d=b.substr(0,c),b=b.substr(c+6),c=b.indexOf("-");if(-1==c)return;
var e=b.substr(0,c),f=b.substr(c+1),h=idev.get(d),c=h.cm.getAt(f);if(h.editCol){if(e==h.editCol.editRow&&f==h.editCol.editCol)return;h.editCol.endEdit(e);h.editCol=null}if(h.events.editclick&&(c=h.events.editclick(h,c,e,f,a),null===c))return;h.events.celldblclick&&h.events.celldblclick(h,e,f,a);h.selectRow(e);h.selectCell(e,f);if(1==h.editClicks&&c.editor){c.edit(e,f);h.editCol=c;$("#"+h.id).focus();$delay(100,function(a){a=$get(a);a.focus();"combo"==a.wtype?a.events.selected=function(a){h.editCol.endEdit(e);
h.editCol=null}:a.events.lostfocus=function(a){h.editCol.endEdit(e);h.editCol=null}},h.editCol.editID);return}var n=h.id+"_"+e+"_"+f;$("#"+n).keydown(function(a){if(36<a.which&&41>a.which||13==a.which){f=parseInt(f,10);e=parseInt(e,10);var b;if(37==a.which){if(0==f)return;h.unSelectCell(e,f);b=h.id+"-cell-"+e+"-"+(f-1)}if(38==a.which){if(0==e)return;h.unSelectCell(e,f);h.unSelectRow(e);b=h.id+"-cell-"+(e-1)+"-"+f}if(39==a.which){var c=h.cm.getCount()-1;if(f==c)return;h.unSelectCell(e,f);b=h.id+"-cell-"+
e+"-"+(f+1)}if(40==a.which){c=h.ds.getCount()-1;if(e==c)return;h.unSelectCell(e,f);h.unSelectRow(e);b=h.id+"-cell-"+(e+1)+"-"+f}13==a.which&&(h.cm.getAt(f).editor?(a=h.id+"-cell-"+e+"-"+f,$("#"+a).focus(),$("#"+a).dblclick()):b=h.id+"-cell-"+e+"-"+f);$("#"+n).unbind();$("#"+b).focus();$delay(0,function(){$("#"+b).click()})}});$("#"+n).blur(function(){$("#"+n).unbind()});null!=c.events&&c.events.click&&c.events.click(h,e,c,a);h.events.click&&h.events.click(h,a);h.events.rowclick&&h.events.rowclick(h,
e,a);h.events.cellclick&&h.events.cellclick(h,e,f,a)}a.preventDefault();a.stopPropagation();return!1},cellDblClick:function(a){""==b&&(b=a.srcElement.parentNode.id);var b=(null!=a.target?a.target:a.srcElement).id,c=b.indexOf("-");if(-1!=c){var d=b.substr(0,c),e=b.substr(c+6),c=e.indexOf("-");if(-1==c)return;b=e.substr(0,c);c=e.substr(c+1);d=idev.get(d);e=d.cm.getAt(c);if(d.editCol){if(b==d.editCol.editRow&&c==d.editCol.editCol)return;d.editCol.endEdit();d.editCol=null}if(d.events.editclick){var f=
d.events.editclick(d,e,b,c,a);f&&(e=f)}d.selectRow(b);2==d.editClicks&&e.editor&&(e.edit(b,c),d.editCol=e,$("#"+d.id).focus(),$delay(100,function(a){$get(a).focus()},d.editCol.editID));null!=e.events&&(e.events.click&&e.events.click(d,b,e,a),e.events.dblclick&&e.events.dblclick(d,b,c,a));d.events.dblclick&&d.events.dblclick(d,a);d.events.rowclick&&d.events.rowclick(d,b,a);d.events.cellclick&&d.events.cellclick(d,b,c,a)}a.preventDefault();a.stopPropagation();return!1},refresh:function(a){var b;if(null!=
this.ds&&null!=this.cm){this.events.beforeRefresh&&this.events.beforeRefresh(this);this.events.beforerefresh&&this.events.beforerefresh(this);b=this.showHeader?new idev.wTemplate("<div id='{id}-header' class='ui-grid-header' style='height:{headerheight}px;overflow:none;'>","{header}","</div>","<div id='{id}-data' class='ui-grid-data' style='width:{width}px;height:{height}px;overflow:auto;'>","{data}","</div>"):new idev.wTemplate("<div id='{id}-data' class='ui-grid-data' style='width:{width}px;height:{height}px;overflow:auto;'>",
"{data}","</div>");this.border&&(this.style+="border:"+this.borderStyle);this.build();var c=[];c.id=this.id;c.width=this.width;c.headerwidth=this.width+250;c.height=this.height-this.headerHeight-this.tbarHeight-this.bbarHeight;c.headerheight=this.headerHeight;c.elementstyle=this.elementStyle;c.style=this.style;c.header=this.htmlHeader;c.data=this.htmlData;var d=0,e=0;a&&(this.selectedRow=-1);-1<this.selectedRow&&(d=$("#"+this.id+"-data").scrollTop(),e=$("#"+this.id+"-data").scrollLeft());b=b.render(c);
$("#"+this.id+"-body").html(b);a&&idev.internal.afterRender(this);if(-1<this.selectedRow){a=0;for(b=this.cm.getCount();a<b;a++){var f=this.cm.getAt(a);f.noselect||(c=this.id+"-cell-"+this.selectedRow+"-"+a,$("#"+c).addClass("ui-grid-cell-select"))}if(0<d||0<e)$("#"+this.id+"-data").scrollTop(d),$("#"+this.id+"-data").scrollLeft(e)}(this.events.contextMenu||this.events.contextmenu)&&this.addEvent("contextmenu",idev.internal.onContextMenu);a=0;for(b=this.cm.getCount();a<b;a++)f=this.cm.getAt(a),"function"==
typeof this.events.headerClick&&(c=this.id+"-header-"+a,$("#"+c).click({widget:this,column:f},function(a){a.data.widget.events.headerClick(a.data.widget,a.data.column,a)}));d=this.offset;for(b=this.ds.getCount();d<b&&d<this.offset+this.limit;d++)for(a=0;a<this.cm.getCount();a++)c=this.id+"-cell-"+d+"-"+a,$("#"+c).click(this.cellClick),$("#"+c).dblclick(this.cellDblClick);$("#"+this.id+"-data").scroll(function(){var a=this.id.indexOf("-"),a=this.id.substr(0,a);idev.get(a).showHeader&&(a=this.id.replace("-data",
"")+"-header",$("#"+this.id).width(),pos=this.scrollLeft,$("#"+a).scrollLeft(pos))});a=0;for(b=this.cm.getCount();a<b;a++)f=this.cm.getAt(a),f.parent=this,null!=f.events&&f.events.afterender&&f.events.afterender(this,a);this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this);this.rendered=!0}},selectRow:function(a){if(!1!=this.autoSelect){for(var b=this.cm.getCount();b--;)this.cm.getAt(b).noselect||$("#"+(this.id+"-cell-"+a+"-"+b)).addClass("ui-grid-cell-select");
this.selectedRow=a}},selectCell:function(a,b){if(!1!=this.autoSelect){var c=this.id+"-cell-"+a+"-"+b,d=this;this.cm.getAt(b).noselect||$("#"+c).addClass("ui-grid-cell-select-active");var e=!1,f=!1;$("#"+c).keydown(function(a){$debug("keydown");9==a.which&&(e=!0);if(36<a.which&&41>a.which||13==a.which)f=!0});$("#"+c).keyup(function(a){$debug("keyup");9==a.which&&(e=!1);if(36<a.which&&41>a.which||13==a.which)f=!1});$("#"+c).blur(function(){if(e){$debug("tab key");b=parseInt(b);a=parseInt(a);var c="#"+
d.id+"-cell-"+a+"-"+(b+1),n="#"+d.id+"-cell-"+(a+1)+"-0";0!=$(c).length?(d.unSelectCell(a,b),$(c).click()):0!=$(n).length?(d.unSelectCell(a,b),d.unSelectRow(a),$(n).click()):(d.unSelectCell(a,b),d.unSelectRow(a))}else f?$debug("arrow key"):(d.unSelectCell(a,b),d.unSelectRow(a))});this.selectedCell=a+"-"+b}},unSelectCell:function(a,b){-1!=this.selectedCell&&$("#"+(this.id+"-cell-"+this.selectedCell)).removeClass("ui-grid-cell-select-active");this.selectedCell=-1},unSelectRow:function(a){if(-1!=this.selectedRow)for(a=
this.cm.getCount();a--;)$("#"+(this.id+"-cell-"+this.selectedRow+"-"+a)).removeClass("ui-grid-cell-select");this.selectedRow=-1},getSelected:function(){return this.selectedRow},getStore:function(){return this.ds},setCM:function(a){this.cm=a;this.refresh()},ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds;this.tbCreated&&this.tbar.destroy();this.bbCreated&&this.bbar.destroy()},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-data").height(b-
this.headerHeight);$("#"+this.id+"-data").width(a)}}),widgetTabPanel:baseWidget.extend({init:function(a){this._super(a);this.wtype="tabpanel";this.tabWidth=a.tabWidth||90;this.tabHeight=a.tabHeight||25;this.tabScrollWidth=a.tabScrollWidth||25;this.tabStyle=a.tabStyle||"";this.contentStyle=a.contentStyle||"";this.activeTab=a.activeTab||0;this.tabScroll=!1;this.startTab=0;this.radius=a.radius||6;var b=a="";this.tabWidth*this.widgets.length>this.width?(a="<li unselectable='on' id='{id}-tableft' style='width:"+
this.tabScrollWidth+"px;height:{tabheight}px;'><div id='{id}-tableft-body' class='ui-tab-scroll unselectable'>&laquo;</div></li>",b="<li unselectable='on' id='{id}-tabright' style='float:right;width:"+this.tabScrollWidth+"px;height:{tabheight}px;'><div id='{id}-tabright-body' class='ui-tab-scroll ui-tab-scroll-active unselectable'>&raquo;</div></li>"):(a="<li unselectable='on' id='{id}-tableft' style='width:0px;height:{tabheight}px;'><div id='{id}-tableft-body' class='ui-tab-scroll unselectable'>&laquo;</div></li>",
b="<li unselectable='on' id='{id}-tabright' style='float:right;width:0px;height:{tabheight}px;'><div id='{id}-tabright-body' class='ui-tab-scroll unselectable'>&raquo;</div></li>");this.tabScroll=!0;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-tabpanel' style='{elementstyle};{style}'>","<ul class='ui-tabs' style='height:"+(this.tabHeight-2)+"px;width:{contentwidth}px;'>",a,"{tabs}",b,"</ul>","<div id='{id}-panels' class='ui-tab-content' style='width:{contentwidth}px;height:{contentheight}px;{contentstyle}'>",
"{panels}","</div>","</div>")},render:function(){if(null!=this.renderTo&&null!=this.widgets){for(var a="",b="",c=0,d=0;d<this.widgets.length;d++){null==this.widgets[d].tabTitle&&(this.widgets[d].tabTitle=this.widgets[d].title||"");var e=this.widgets[d].tabTitle,c=c+this.tabWidth,e="<div class='ui-tab' style='height:"+(this.tabHeight-2)+"px;'><div class='ui-tab-text' style='width:"+(this.tabWidth-2)+"px;'><span unselectable='on' class='unselectable' id='"+this.id+"-tab-text"+d+"'>"+e+"</span><div id='"+
this.id+"-tabclose"+d+"' class='ui-tab-btn-close' style='display:none;'></div></div>",a=c>this.width-2*this.tabScrollWidth?a+("<li class='ui-tab ie9gradient' style='display:none;width:"+this.tabWidth+"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+d+"' >"+e+"</li>"):a+("<li class='ui-tab ie9gradient' style='width:"+this.tabWidth+"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+d+"' >"+e+"</li>"),b=b+("<div class='ui-tab-content' style='display:none;width:{width}px;height:{height}px;' id='"+
this.id+"-panel"+d+"'>"),b=b+"</div>"}this.visibleTabs=Math.floor((this.width-2*this.tabScrollWidth)/this.tabWidth);c=[];c.id=this.id;c.width=this.width-2;c.height=this.height-this.tabHeight;c.contentwidth=this.width-2;c.contentheight=this.height-this.tabHeight-2;c.elementstyle=this.elementStyle;c.style=this.style;c.contentstyle=this.contentStyle;c.tabheight=this.tabHeight;c.tabwidth=this.tabWidth;c.tabs=a;c.panels=b;a=this.tpl.render(c);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);
idev.utils.delay(100,function(a){for(var b=0;b<a.widgets.length;b++){var c=a.id+"-panel"+b,d=a.widgets[b],e=parseInt($("#"+a.id+"-panels").css("borderLeftWidth")),g=parseInt($("#"+a.id+"-panels").css("borderRightWidth"));isNaN(e)&&(e=0);isNaN(g)&&(g=0);d.renderTo=c;d.width=a.width-(1+e+g);d.deferredRender=!0;d.title=null;d.height=a.height-a.tabHeight-2;d.cls=d.cls||"";d.cls+=" ui-tab-panel"}a.showTab(a.activeTab);for(b=0;b<a.widgets.length;b++)$("#"+a.id+"-tab"+b).click(a,function(a){var b=this.id.replace(a.data.id+
"-tab","");a.data.showTab(b);return!1}),$("#"+a.id+"-tabclose"+b).click(a,function(a){var b=this.id.replace(a.data.id+"-tabclose","");a.data.closeTab(b)});$("#"+a.id+"-tableft").click(function(){a.showTab("left");return!1});$("#"+a.id+"-tabright").click(function(){a.showTab("right");return!1})},this);idev.internal.afterRender(this);this.roundCorners&&($("#"+this.id).css("border-bottom-left-radius",this.radius+"px"),$("#"+this.id).css("border-bottom-right-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-bottom-left-radius",
this.radius+"px"),$("#"+this.id).css("-moz-border-bottom-right-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-bottom-left-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-bottom-right-radius",this.radius+"px"),a=this.radius,this.border&&a--,$("#"+this.id+"-panels").css("border-bottom-left-radius",a+"px"),$("#"+this.id+"-panels").css("border-bottom-right-radius",a+"px"),$("#"+this.id+"-panels").css("-moz-border-bottom-left-radius",a+"px"),$("#"+this.id+"-panels").css("-moz-border-bottom-right-radius",
a+"px"),$("#"+this.id+"-panels").css("-webkit-border-bottom-left-radius",a+"px"),$("#"+this.id+"-panels").css("-webkit-border-bottom-right-radius",a+"px"));this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.rendered=!0}},setTabTitle:function(a,b){0>a||a>=this.widgets.length||$("#"+this.id+"-tab-text"+a).html(b)},addTab:function(a){a=idev.utils.clone(a);var b=this,c=this.widgets.length,d="";null!=a.title&&(d=a.title);null!=a.tabTitle&&(d=a.tabTitle);a.tabTitle=d;d="";a.title="<div class='ui-tab' style='height:"+
(this.tabHeight-2)+"px;'><div style='position:absolute;left:1px;width:"+(this.tabWidth-2)+"px;'><center><span id='"+this.id+"-tab-text"+c+"'>"+a.tabTitle+"</span></center></div><div id='"+this.id+"-tabclose"+c+"' class='ui-tab-btn-close' style='display:none;'></div></div>";var d=this.widgets.length+1>=this.startTab+this.visibleTabs?"<li style='display:none;width:"+this.tabWidth+"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+c+"' >"+a.title+"</li>":"<li style='width:"+
this.tabWidth+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+this.widgets.length+"' >"+a.title+"</li>",e="<div class='ui-tab-content' style='display:none;' id='"+this.id+"-panel"+this.widgets.length+"'></div>";a.renderTo=this.id+"-panel"+c;a.title=null;a.width=this.width-2;a.deferredRender=!0;a.height=this.height-this.tabHeight-2;$("#"+this.id+"-tabright").before(d);$("#"+this.id+"-panels").append(e);$("#"+this.id+"-tab"+c).click(this,function(a){var b=this.id.replace(a.data.id+"-tab","");a.data.showTab(b);
return!1});$("#"+this.id+"-tabclose"+c).click(this,function(a){a=this.id.replace(a.data.id+"-tabclose","");b.closeTab(a);return!1});this.widgets.push(a);this.showTab(c)},activateTab:function(a){if(a){var b;"string"==typeof a&&(b=a);a.id&&(b=a.id);if(b)for(a=0;a<this.widgets.length;a++)if(this.widgets[a].id==b){this.showTab(a);break}}},closeTab:function(a){"string"==typeof a&&(a=parseInt(a));if(0>a||a>=this.widgets.length)return!1;if(!this.events.beforeCloseTab||!1!==this.events.beforeCloseTab(this,
a)){var b=this.id+"-tab"+a;$("#"+b).remove();b=this.id+"-panel"+a;$("#"+b).remove();if(null!=this.widgets[a].id)try{$get(this.widgets[a].id).destroy()}catch(c){}for(var d=a+1;d<this.widgets.length;d++){var b=this.id+"-tab"+d,e=this.id+"-tab"+(d-1),f=this.widgets[d];$("#"+b).attr("id",e);b=this.id+"-panel"+d;e=this.id+"-panel"+(d-1);$("#"+b).attr("id",e);f.renderTo=e;b=this.id+"-tabclose"+d;e=this.id+"-tabclose"+(d-1);$("#"+b).attr("id",e)}this.widgets.splice(a,1);b="";this.startTab+this.visibleTabs-
1>=this.widgets.length?(this.startTab--,0<=this.startTab?(b=this.id+"-tab"+this.startTab,$("#"+b).css("display","block")):(this.startTab=0,$("#"+this.id+"-tableft").hide(),$("#"+this.id+"-tabright").hide())):(b=this.id+"-tab"+(this.startTab+this.visibleTabs-1),$("#"+b).css("display","block"));if(a==this.activeTab){a==this.widgets.length&&a--;if(0==this.widgets.length)return;this.showTab(a)}this.events.afterCloseTab&&this.events.afterCloseTab(this,a);return!0}},showTab:function(a){var b="#"+this.id+
"-tableft-body",c="#"+this.id+"-tabright-body",d="#"+this.id+"-tableft",e="#"+this.id+"-tabright";if(0!=this.widgets.length&&("function"!=typeof this.events.beforeShowTab||!1!==this.events.beforeShowTab(this,a)))if("left"==a){if(0!=this.startTab){this.startTab--;var f=this.id+"-tab"+this.startTab,h=this.id+"-tab"+(this.startTab+this.visibleTabs);$("#"+h).css("display","none");$("#"+f).css("display","block");$(c).addClass("ui-tab-scroll-active");$(e).width(this.tabScrollWidth);$(d).width(this.tabScrollWidth);
0==this.startTab&&$(b).removeClass("ui-tab-scroll-active")}}else if("right"==a)this.startTab+1+this.visibleTabs>this.widgets.length||(h=this.id+"-tab"+this.startTab,f=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+h).css("display","none"),$("#"+f).css("display","block"),$(b).addClass("ui-tab-scroll-active"),$(e).width(this.tabScrollWidth),$(d).width(this.tabScrollWidth),this.startTab+1+this.visibleTabs==this.widgets.length&&$(c).removeClass("ui-tab-scroll-active"),this.startTab++);else if(!(a>
this.widgets.length||0>a)){for(;a<this.startTab;)this.startTab--,f=this.id+"-tab"+this.startTab,h=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+h).css("display","none"),$("#"+f).css("display","block"),$(c).addClass("ui-tab-scroll-active"),$(e).width(this.tabScrollWidth),$(d).width(this.tabScrollWidth),0==this.startTab&&$(b).removeClass("ui-tab-scroll-active");for(;a>this.startTab+this.visibleTabs-1;)h=this.id+"-tab"+this.startTab,f=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+h).css("display",
"none"),$("#"+f).css("display","block"),$(b).addClass("ui-tab-scroll-active"),$(e).width(this.tabScrollWidth),$(d).width(this.tabScrollWidth),this.startTab+1+this.visibleTabs==this.widgets.length&&$(c).removeClass("ui-tab-scroll-active"),this.startTab++;b=this.id+"-panel"+this.activeTab;$("#"+this.id+"-tabclose"+this.activeTab).css("display","none");this.activeTab=a;for(c=0;c<this.widgets.length;c++)$("#"+this.id+"-tab"+c).removeClass("active");$("#"+b).css("display","none");$("#"+this.id+"-tab"+
this.activeTab).addClass("active").show();this.widgets[a].closable&&$("#"+this.id+"-tabclose"+a).css("display","block");activeTab=this.id+"-panel"+this.activeTab;this.widgets[a].deferredRender?(a=this.widgets[a],a.deferredRender=!1,a.parent=this,idev.internal.renderWidget(this.page,a),$("#"+activeTab).show(),a=$get(a.id)):($("#"+activeTab).show(),a=$get(this.widgets[a].id));a.events&&a.events.show&&a.events.show(a);this.events.showTab&&this.events.showTab(this,activeTab)}},onshow:function(){this._super();
if(idev.isIE8())for(var a=0;a<this.widgets.length;a++){var b=idev.get(this.widgets[a].id);try{b.onshow()}catch(c){}}}}),widgetIcon:baseWidget.extend({init:function(a){a.hideType="visibility";null==a.width&&(a.width=24);null==a.height&&(a.height=24);this._super(a);this.wtype="icon";this.icon=null==a.icon?"":a.icon;this.background=null==a.background?!1:a.background;this.resizer.resizable=!1;this.color=a.color||"black";this.backgroundColor=a.backgroundColor||"#ddd";this.scale=a.scale||0.7;this.xoffset=
null==a.xoffset?-5:a.xoffset;this.yoffset=null==a.yoffset?-5:a.yoffset;this.title=a.title||"";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {cls}' style='{elementstyle};{style}' title='{title}'>","</div>")},drawIcon:function(){this.paper=Raphael(this.id,this.width,this.height);this.paper.safari();var a="";""!=this.icon&&(a=eval("icon."+this.icon));""!=a&&(this.background&&this.paper.circle(this.width/2,this.height/2,this.width/2-2).attr({fill:this.backgroundColor,stroke:"none"}),this.ic=
this.paper.path(a).attr({fill:this.color,stroke:"none"}))&&(this.ic.scale(this.scale,this.scale),this.ic.translate(this.xoffset,this.yoffset));"function"==typeof this.events.click&&$("#"+this.id).click(idev.internal.onClick);"function"==typeof this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick)},render:function(){if(null!=this.renderTo&&""!=this.icon){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;a.style=this.style+(this.events.click?
"cursor:pointer;":"");a.cls="";a.title=this.title;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){a.drawIcon();idev.internal.afterRender(a)},this);this.rendered=!0}},refresh:function(){this.paper&&this.paper.remove();this.drawIcon()}}),widgetElement:baseWidget.extend({init:function(a){this._super(a);this.wtype="element";this.data=a.data;this.tpl=a.tpl;"string"==typeof this.tpl&&(this.tpl=new idev.wTemplate(this.tpl));this.bodyStyle=
this.config.bodyStyle||""},render:function(){if(null!=this.renderTo&&null!=this.tpl){var a=[];a.id=this.id;a.bodystyle=this.bodyStyle;a.width=this.width;a.height=this.height;a.text=this.text;a.color=this.color;if(null!=this.data)for(var b=0;b<this.data.length;b++)a.push(this.data[b]);b="<div id='{id}' class='ui-element'>";b="<div id='{id}' class='ui-element' style='"+this.elementStyle+";"+this.style+"'>";a=b+this.tpl.render(a)+"</div>";a=a.replace("{id}",this.id);idev.internal.beforeRender(this);
$("#"+this.renderTo).append(a);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"));idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}}}),widgetComposite:baseWidget.extend({init:function(a){this._super(a);this.wtype="composite";
this.data=a.data;this.bodyStyle=this.config.bodyStyle||"";this.columnAlign=this.config.columnAlign||"CENTER";this.layout=null==a.layout?"column":a.layout;if("fit"==this.layout||"frame"==this.layout||"accordion"==this.layout)this.layout="column";this.labelwidth=null==a.labelwidth?70:a.labelwidth;this.cls=a.cls||""},render:function(){if(null!=this.renderTo&&null!=this.tpl){this.parent.layoutConfig&&this.parent.layoutConfig.fit&&(this.width=this.parent.getWidth());var a=[];a.id=this.id;a.bodystyle=this.bodyStyle;
a.width=this.width;a.height=this.height;a.text=this.text;a.color=this.color;if(null!=this.data)for(var b=0;b<this.data.length;b++)a.push(this.data[b]);sHTML="<div id='{id}' class='ui-element "+this.cssQuirks(this.cls)+"' style='"+this.elementStyle+";"+this.style+"'></div>";sHTML=sHTML.replace("{id}",this.id);idev.internal.beforeRender(this);$("#"+this.renderTo).append(sHTML);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+
"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"));this.widgets&&idev.internal.renderWidgets(this.page,this.id,this.widgets,this.layout,this.labelwidth,this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},onshow:function(){this._super();if(idev.isIE8())for(var a=0;a<this.widgets.length;a++){var b=idev.get(this.widgets[a].id);try{b.onshow()}catch(c){}}for(a=
0;a<this.children.length;a++)try{this.children[a].show()}catch(d){}},doLayout:function(){this._super();var a=$("#"+this.parent.id).width();null!=this.width&&(a=this.width);var b=a,c=!1,d;$("#"+this.id).width(a);$("#"+this.id+"-table").width(a);for(a=0;a<this.widgets.length;a++)">>"!=this.widgets[a]?this.widgets[a].variable&&(d=this.widgets[a].id):">>"===this.widgets[a]&&(c=!0);!c&&d&&($("#"+d).width(0),$("#"+d).css("max-width",0));(c||d)&&$delay(0,function(a){for(var f=0;f<a.widgets.length;f++)b-=
$("#"+a.widgets[f].id).outerWidth(!0);0>b&&(b=0);a=c?a.id+"-spacer":d;$("#"+a).width(b);$("#"+a).css("max-width",b)},this)}}),widgetSpacer:baseWidget.extend({init:function(a){this._super(a);this.wtype="spacer";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}{style};width:{width}px;height:{height}px;'>","</div>")},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.style=this.style;a.width=this.width||1;a.height=this.height||
1;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.rendered=!0}}}),widgetHTML:baseWidget.extend({init:function(a){this._super(a);this.wtype="html";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","{html}","</div>")},render:function(){if(null!=this.renderTo&&null!=this.html){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.html=this.html;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);
idev.internal.afterRender(this);this.rendered=!0}}}),widgetCanvas:baseWidget.extend({init:function(a){this._super(a);this.wtype="canvas";this.paper=null;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element{cls}' style='width:{width}px;height:{height}px;{style}'>","{text}","</div>")},render:function(){var a=this.style+this.elementStyle;if(null!=this.renderTo){var b=[];b.id=this.id;b.cls=this.cssQuirks(this.cls);b.style=a;b.width=this.width;b.height=this.height;a=this.tpl.render(b);$("#"+this.renderTo).append(a);
idev.internal.beforeRender(this);this.paper=new Raphael($("#"+this.id),this.width,this.height);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},getPaper:function(){return this.paper}}),widgetListItem:baseWidget.extend({init:function(a){this._super(a);this.wtype="listitem";this.icon=null==a.icon?"":a.icon;this.image=null==a.image?"":a.image;this.text=null==a.text?
"":a.text;this.textStyle=null==a.textStyle?"":a.textStyle;this.widgetWidth=null==a.widgetWidth?30:a.widgetWidth;this.widget=a.widget;this.index=a.index;this.itemHeight=null==a.itemHeight?40:a.itemHeight;this.background=a.background;this.selectable=null==a.selectable?!0:a.selectable;!idev.isWebkit()&&!idev.isFF()||idev.isPalm()?this.width-=4:this.width-=2;this.html+=this.text;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {cls}' style='width:{width}px;padding:2px;{style}'>","<table cellspacing=0 cellpadding=0 height={itemheight}><tr>",
"<tr>","{item}","</tr>","</table>","</div>")},render:function(){if(null!=this.renderTo){var a="",b,c=this.style;b="ui-listbox-item ie9gradient";this.parent&&this.index==this.parent.items.length-1&&(b="ui-listbox-item-last");""!=this.image&&(a="<td width='50px'><img src='"+this.image+"' style=''></td>");this.widget?a="icon"!=this.widget.wtype?"<td d='"+this.id+"-text'align='left' valign=center width='"+(this.width-this.widgetWidth)+"'' ><div class='ui-listbox-text' style='"+this.textStyle+"'>"+this.html+
"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+" valign=top style='padding-top:5;'></td>":"<td d='"+this.id+"-text'align='left' valign=center width='"+(this.width-this.widgetWidth)+"'><div class='ui-listbox-text' style='"+this.textStyle+"'>"+this.html+"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+"></td>":(this.widget={wtype:"icon",icon:this.icon,background:this.background},a="<td id='"+this.id+"-text' align='left' valign=center width='"+(this.width-this.widgetWidth)+
"'><div class='ui-listbox-text' style='"+this.textStyle+"'>"+this.html+"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+"></td>");var d=[];d.id=this.id;d.cls=b;d.width=this.width;d.itemheight=this.itemHeight;d.style=c+"background-position:bottom;background-repeat: repeat-x;";d.item=a;a=this.tpl.render(d);$("#"+this.renderTo+"-body").append(a);this.widget&&null!=this.widget.wtype&&("icon"==this.widget.wtype?""!=this.widget.icon&&(this.widget.renderTo=this.id+"-widget",this.widget.id=
idev.internal.renderWidget(this.page,this.widget)):(this.widget.renderTo=this.id+"-widget",this.widget.id=idev.internal.renderWidget(this.page,this.widget)));$("#"+this.id).click(function(a){var b=idev.get(this.id);b.enabled&&(b.select(),b.events&&b.events.click&&b.events.click(b,b.index,a))});$("#"+this.id).dblclick(function(a){var b=idev.get(this.id);b.enabled&&(b.select(),b.events&&b.events.dblclick&&b.events.dblclick(b,b.index,a))});this.rendered=!0}},select:function(){if(!this.selectable)return!1;
null!=this.parent.selected&&$("#"+this.parent.selected).removeClass("ui-listbox-select");$("#"+this.id).addClass("ui-listbox-select");this.parent.selected=this.id;return!0},syncWidth:function(){var a=$("#"+this.parent.id).width();$("#"+this.id).width(a);$("#"+this.id+"-text").width(a-this.widgetWidth)}}),widgetListbox:baseWidget.extend({init:function(a){this._super(a);this.wtype="listbox";this.title=null==a.title?"":a.title;this.titleHeight=null==a.titleHeight?30:a.titleHeight;this.titleStyle=null==
a.titleStyle?"":a.titleStyle;this.items=a.items;this.background=null==a.background?!0:a.background;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-listbox {extracls} {cls}' style='overflow:hidden;{elementstyle};{style}'>","<div id='{id}-header' class='{headercls}' style='max-width:{width}px;width:{width}px;height:{titleheight}px;{titlestyle}'>","<center>","{title}","</center>","</div>","<div id='{id}-body' class='{bodycls}' style='width:{width}px;'>","</div>","</div>")},render:function(){if(null!=
this.renderTo){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.titleheight=this.titleHeight;a.titlestyle=this.titleStyle;a.extracls="curved";a.cls=this.cssQuirks(this.cls);a.elementstyle=this.elementStyle;a.style=this.style;a.headercls="ui-listbox-header ie9gradient";a.title=this.title;a.bodycls="ui-listbox-body";a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);if(this.items)for(a=0;a<this.items.length;a++){var b=this.items[a];""!=b.text&&(b.index=
a,b.background=this.background,b.wgt=this.add(b))}idev.internal.afterRender(this);this.rendered=!0}},add:function(a){a.renderTo=this.id;null==a.width&&(a.width=this.width);a.page=this.page;a.parent=this;a=new idev.ui.widgetListItem(a);a.parent=this;a.render();return a},get:function(a){return 0>a||a>=this.items.length?null:this.items[a].wgt},doLayout:function(){var a=$("#"+this.id).width();$("#"+this.id).height();$("#"+this.id+"-header").width(a);$("#"+this.id+"-body").width(a);for(a=0;a<this.items.length;a++)this.items[a].wgt.syncWidth()}}),
widgetList:baseWidget.extend({init:function(a){this._super(a);this.wtype="list";this.tpl=null==a.tpl?"":a.tpl;this.offset=a.offset||0;this.limit=a.limit||65535;this.selected=-1;this.dsFilter=a.dsFilter;this.itemStyle=a.itemStyle||"";this.itemCls=a.itemCls||"";this.backgroundStyle=a.backgroundStyle||"";this.metaData=a.metaData;this.autoSelect=a.autoSelect;this.selectColor=a.selectColor;this.selectCls=a.selectCls||"";this.renderer=a.renderer;this.emptyText=null==a.emptyText?!1:a.emptyText;if(""!=this.selectColor||
""!=this.selectCls)this.autoSelect=!0;this.template=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};'>","<div id='{id}-background' style='position:absolute;left:0px;top:0px;width:{width}px;max-width:{width}px;height:{height}px;max-height:{height}px;{backgroundstyle}'>","</div>","<div id='{id}-wrapper' class='ui-list {cls}' style='position:absolute;left:0px;top:0px;width:{wwidth}px;max-width:{wwidth}px;height:{height}px;max-height:{height}px;{style};'>","<div id='{id}-scroller'>",
"{items}","</div>","</div>","</div>");this.itemtpl=new idev.wTemplate("<div id='{id}' class='ui-listentry {itemcls}' style='width:{width}px;max-width:{width}px;{itemstyle}'>","{entry}","</div>");null!=this.ds&&this.ds.bind(this);""!=this.itemCls&&(this.itemCls+="  ie9gradient");""!=this.selectCls&&(this.selectCls+="  ie9gradient")},buildList:function(){for(var a="",b=[],c=this.offset,d=this.ds.getCount();c<d&&c<this.offset+this.limit;c++){var e="",f="",h=this.ds.getAt(c),e=!0;this.dsFilter&&(e=this.dsFilter.call(this,
h));if(e){for(var e="object"==typeof this.tpl?this.tpl.render(this.data):this.tpl,n=0,l=this.ds.fieldCount();n<l;n++)for(var k=this.ds.getFieldName(n),g=20;-1!=e.indexOf("{"+k+"}")&&0<g;)e=e.replace("{"+k+"}",""==h.get(k)?"&nbsp;":h.get(k)),g--;if(this.data)for(var q in this.data)if(n=this.data[q],"string"==typeof n||"number"==typeof n)e=idev.utils.replaceAll(e,"{"+q+"}",this.data[q]);this.renderer&&(e=this.renderer(this,e,h,c));b.id=this.id+"_"+c;b.width=this.width;b.entry=e;b.itemstyle=this.itemStyle;
b.itemcls=this.itemCls;this.events.click&&(f="cursor:pointer;");b.style=f;if(this.metaData)for(var m in this.metaData)b[m]=this.metaData[m];a+=this.itemtpl.render(b)}}0==this.ds.getCount()&&this.emptyText&&(b.id=this.id+"_emptyText",b.width=this.width,b.entry=this.emptyText,b.itemstyle=this.itemStyle+"font-style:italic;",b.itemcls=this.itemCls,this.events.click&&(f="cursor:pointer;"),b.style=f,a+=this.itemtpl.render(b));return a},refresh:function(){var a=this.id;this.events.beforeRefresh&&this.events.beforeRefresh(this);
this.events.beforerefresh&&this.events.beforerefresh(this);var b=this.buildList();$("#"+a+"-scroller").html(b);a=0;for(b=this.ds.getCount();a<b;a++)$("#"+this.id+"_"+a).click(idev.internal.onClick);if(this.events.dblclick)for(a=0,b=this.ds.getCount();a<b;a++)$("#"+this.id+"_"+a).dblclick(idev.internal.onDblClick);this.selected=-1;this.scrollPos=0;this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this)},render:function(){if(null!=this.renderTo&&
null!=this.ds){var a=this.style;this.autoScroll&&!idev.isTouch()&&(a+="overflow:auto;overflow-x:hidden; overflow-y:auto;");var b=[];b.id=this.id;b.style=a;b.cls=this.cssQuirks(this.cls);b.elementstyle=this.elementStyle;b.backgroundstyle=this.backgroundStyle;b.width=this.width;b.wwidth=this.width-(this.border?2:0);b.height=this.height;b.items="";a=this.template.render(b);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.autoScroll&&idev.isTouch()&&
$delay(400,function(a){},this);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"),a=this.radius,this.border&&a--,$("#"+this.id+"-background").css("border-radius",a+"px"),$("#"+this.id+"-background").css("-moz-border-radius",a+"px"),$("#"+this.id+"-background").css("-webkit-border-radius",a+"px"));this.rendered=!0;this.refresh()}},getStore:function(){return this.ds},
getSelected:function(){return this.selected},getItemId:function(a){return this.id+a},updateItem:function(a,b,c){$("#"+this.id+"_"+a).css(b,c)},select:function(a){$("#"+this.id+"_"+this.selected).removeClass(this.selectCls);$("#"+this.id+"_"+a).addClass(this.selectCls);this.selected=a},setScrollPos:function(a){$("#"+this.id+"-wrapper").scrollTop(a);this.scrollPos=$("#"+this.id+"-wrapper").scrollTop()},getScrollPos:function(){return this.scrollPos},onhide:function(){this.scrollPos=$("#"+this.id+"-wrapper").scrollTop()},
ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-wrapper").css("width",a);$("#"+this.id+"-wrapper").css("max-width",a);$("#"+this.id+"-wrapper").css("height",b);$("#"+this.id+"-wrapper").css("max-height",b);this.refresh();this._super()},clearSelection:function(){this.selected=-1}}),widgetDataView:baseWidget.extend({init:function(a){this._super(a);this.wtype="dataview";this.tpl=
null!=a.template?a.template:null==a.tpl?"<div class='ui-listentry'></div>":a.tpl;this.columns=null==a.columns?2:a.columns;this.roundCorners=null==a.roundCorners?!1:a.roundCorners;this.radius=idev.convertNulls(this.config.radius,4);this.autoSelect=a.autoSelect;this.selectColor=a.selectColor||"";this.selectCls=a.selectCls||"ui-dataview-select";this.entryCls=a.entryCls||"";if(""!=this.selectColor||""!=this.selectCls)this.autoSelect=!0;this.offset=a.offset||0;this.limit=a.limit||65535;this.entryWidth=
a.entryWidth;this.entryHeight=a.entryHeight;this.swipeDelay=null==a.swipeDelay?3E3:a.swipeDelay;this.selected=-1;this.renderer=a.renderer;this.dsFilter=a.dsFilter;this.basetpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-dataview {cls}' style='{elementstyle};{style}'>","<div id='{id}-wrapper' style='position:relative;left:0px;top:0px;width:{width}px;max-width:{width}px;height:{height}px;max-height:{height}px;{bodystyle}'>","<div id='{id}-scroller'  class='ui-scroller' style=''>","{items}",
"</div>","</div>","</div>");"string"==typeof this.tpl&&(this.entryWidth&&(this.tpl=this.tpl.replace("{entrywidth}",this.entryWidth)),this.entryHeight&&(this.tpl=this.tpl.replace("{entryheight}",this.entryHeight)));a.autoHeight&&(this.height=null);null!=this.ds&&this.ds.bind(this);""!=this.selectCls&&(this.selectCls+="  ie9gradient");""!=this.entryCls&&(this.entryCls+="  ie9gradient")},buildList:function(){var a="<table>",b=0,c="";if(this.events.click||this.events.dblclick)c+="cursor:pointer;";if("auto"==
this.columns){for(var a="",d=this.offset,e=this.ds.getCount();d<e&&d<this.offset+this.limit;d++){var f="",h=this.ds.getAt(d),f=!0;this.dsFilter&&(f=this.dsFilter.call(this,h));if(f){"string"==typeof this.tpl?f=this.tpl:(f=this.tpl.get(),this.entryWidth&&(f=f.replace("{entrywidth}",this.entryWidth)),this.entryHeight&&(f=f.replace("{entryheight}",this.entryHeight)));for(var n=0,l=this.ds.fieldCount();n<l;n++)var k=this.ds.getFieldName(n),f=idev.utils.replaceAll(f,"{"+k+"}",h.get(k));if(this.data)for(var g in this.data)if(n=
this.data[g],"string"==typeof n||"number"==typeof n)f=idev.utils.replaceAll(f,"{"+g+"}",this.data[g]);this.renderer&&(f=this.renderer(this,f,h,d));a+="<div id='"+this.id+"_"+d+"' class='ui-dataview-wrapper "+this.entryCls+"' style='float:left;"+c+"'>"+f+"</div>"}}return a}a+="<tr>";d=this.offset;for(e=this.ds.getCount();d<e&&d<this.offset+this.limit;d++)if(h=this.ds.getAt(d),f=!0,this.dsFilter&&(f=this.dsFilter.call(this,h)),f){"string"==typeof this.tpl?f=this.tpl:(f=this.tpl.get(),this.entryWidth&&
(f=f.replace("{entrywidth}",this.entryWidth)),this.entryHeight&&(f=f.replace("{entryheight}",this.entryHeight)));n=0;for(l=this.ds.fieldCount();n<l;n++)k=this.ds.getFieldName(n),f=idev.utils.replaceAll(f,"{"+k+"}",h.get(k));if(this.data)for(g in this.data)if(n=this.data[g],"string"==typeof n||"number"==typeof n)f=idev.utils.replaceAll(f,"{"+g+"}",this.data[g]);a+="<td valign=top><div id='"+this.id+"_"+d+"' class='ui-dataview-wrapper ui-dataview-element "+this.entryCls+"' style='"+c+"'>"+f+"</div></td>";
b++;b==this.columns&&(a+="</tr>",a+="<tr>",b=0)}return a+="</tr></table>"},refresh:function(){var a=this.id;this.events.beforeRefresh&&this.events.beforeRefresh(this);this.events.beforerefresh&&this.events.beforerefresh(this);var b=this.buildList();$("#"+a+"-scroller").html(b);a=0;for(b=this.ds.getCount();a<b;a++)$("#"+this.id+"_"+a).click(idev.internal.onClick);if(this.events.dblclick)for(a=0,b=this.ds.getCount();a<b;a++)$("#"+this.id+"_"+a).dblclick(idev.internal.onDblClick);if(this.events.hover)for(a=
0,b=this.ds.getCount();a<b;a++)$("#"+this.id+"_"+a).hover(idev.internal.onHoverIn,idev.internal.onHoverOut);this.selected=-1;this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this)},render:function(){if(null!=this.renderTo&&null!=this.ds){var a=this.style,b="";this.border&&(a+="border: 1px solid "+this.borderColor+";");this.autoScroll&&!idev.isTouch()&&(b+=";overflow:auto;");var c=[],d=this.width-(this.border?1:0),e=this.height-(this.border?
1:0);this.roundCorners&&(d-=this.radius,e-=this.radius,b+="margin:2px;");c.id=this.id;c.cls=this.cssQuirks(this.cls);c.style=a;c.bodystyle=b;c.width=d;c.height=e;c.elementstyle=this.elementStyle;c.items=this.buildList();a=this.basetpl.render(c);delete c;idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);c=0;for(a=this.ds.getCount();c<a;c++)$("#"+this.id+"_"+c).click(idev.internal.onClick);if(this.events.dblclick)for(c=0,a=this.ds.getCount();c<a;c++)$("#"+
this.id+"_"+c).dblclick(idev.internal.onDblClick);if(this.events.hover)for(c=0,a=this.ds.getCount();c<a;c++)$("#"+this.id+"_"+c).hover(idev.internal.onHoverIn,idev.internal.onHoverOut);this.roundCorners&&($("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),$("#"+this.id).css("-webkit-border-radius",this.radius+"px"),c=this.radius,this.border&&c--,$("#"+this.id+"-wrapper").css("border-radius",c+"px"),$("#"+this.id+"-wrapper").css("-moz-border-radius",
c+"px"),$("#"+this.id+"-wrapper").css("-webkit-border-radius",c+"px"));this.rendered=!0}},updateItem:function(a,b,c){$("#"+this.id+"_"+a).css(b,c)},getSelected:function(){return this.selected},select:function(a){-1!=this.selected&&($("#"+this.id+"_"+this.selected).addClass(this.entryCls),$("#"+this.id+"_"+this.selected).removeClass(this.selectCls));-1!=a&&($("#"+this.id+"_"+a).removeClass(this.entryCls),$("#"+this.id+"_"+a).addClass(this.selectCls));this.selected=a},getStore:function(){return this.ds},
ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds},doLayout:function(){this._super();var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-wrapper").css("width",a);$("#"+this.id+"-wrapper").css("max-width",a);$("#"+this.id+"-wrapper").css("height",b);$("#"+this.id+"-wrapper").css("max-height",b);this.refresh()}}),widgetSound:baseWidget.extend({init:function(a){a.width=0;a.height=0;this._super(a);this.wtype="sound";this.src=a.src;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};'>",
"</div>")},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.style=this.style;a.src=this.src;a=this.tpl.render(a);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.rendered=!0;$debug(this.id)}},play:function(){var a=this.src+"?"+(new Date).valueOf();document.getElementById(this.id).innerHTML="";document.getElementById(this.id).innerHTML='<audio id="'+this.id+'-player" autoplay="autoplay"><source src="'+a+'" /><embed hidden="true" autostart="true" loop="false" src="'+
a+'" /></audio>';if(idev.isMobile()){var b=$("#"+this.id+"")[0].firstChild;b.load();b.addEventListener("load",function(){b.play()},!0)}}})},ux:{loadCSS:function(a,b){try{null==b&&(b=idev.internal.callback),idev.internal.addStyleSheet(_preferences.libpath+"ux/"+a,b)}catch(c){idev.errorHandler(c.message)}},loadScript:function(a,b,c){try{null==b&&(b=idev.internal.callback),-1!=a.indexOf("http://")||-1!=a.indexOf("https://")?idev.internal.addScript(a,b,c):idev.internal.addScript(_preferences.libpath+
"ux/"+a,b,c)}catch(d){idev.errorHandler(d.message)}}},extensions:function(){this.ui.widgetToolbar=this.ui.widgetComposite.extend({init:function(a){this._super(a);this.wtype="toolbar";this.layout="column";this.defaultType="button";this.padding=this.padding||2}});this.register("toolbar",this.ui.widgetToolbar);this.ui.widgetStatusbar=this.ui.widgetComposite.extend({init:function(a){this._super(a);this.wtype="statusbar";this.layout="column";this.defaultType="button";this.padding=this.padding||2}});this.register("statusbar",
this.ui.widgetStatusbar);this.ui.widgetWindow=this.ui.widgetPanel.extend({init:function(a){null==a.x&&(a.x=$("#container").width()/2-a.width/2);null==a.y&&(a.y=$("#container").height()/2-a.height/2);a.renderTo="container";a.frame=!0;a.closable=idev.convertNulls(a.closable,!0);a.panelCls=a.panelCls||"ui-window";a.backgroundCls=a.backgroundCls||"ui-window-background";this._super(a);this.wtype="window";this.draggable=idev.convertNulls(a.draggable,!0);this.autoDestroy=!0;if(this.autoClose=idev.convertNulls(a.autoClose,
!1))this.modal=!0},render:function(){this._super();if(this.autoClose){var a=this;$("#"+this.maskID).click(function(){a.close()})}},show:function(){this.rendered||this.render();this._super()}});this.ui.widgetForm=this.ui.widgetPanel.extend({init:function(a){a.layout="form";this._super(a);this.wtype="formpanel";this.dataRec=a.dataRec;null!=this.dataRec&&this.dataRec.bind(this)},render:function(){this._super();$delay(200,function(a){a.setValues()},this)},isValid:function(){for(var a=0;a<this.children.length;a++)if(this.children[a].required&&
0==this.children[a].getValue().length)return!1;return!0},getFieldWidget:function(a){a={action:3,field:a,widget:null};idev.utils.form.action(this,a);return a.widget},getFieldConfig:function(a,b,c){null===b&&(b=this.config);if(null==a||""==a)return null;for(var d=0;d<b.widgets.length;d++){if(b.widgets[d].field==a){c=b.widgets[d];break}if(b.widgets[d].widgets&&(c=this.getFieldConfig(a,b.widgets[d],c),null!=c))break}return c},getValues:function(){return this.action(this,{action:0})},clearValues:function(){return this.action(this,
{action:1})},setValues:function(a){null==a&&(a=this.dataRec);this.action(this,{action:2,rec:a});if(this.events.onSetValues)this.events.onSetValues(this,a)},setDataRec:function(a){if(null==a)return!1;this.dataRec=a;this.dataRec.bind(this);this.setValues();return!0},commit:function(a){null==a&&(a=this.dataRec);if(null!=a){this.action(this,{action:4,rec:a});if(this.events.onCommit)this.events.onCommit(this);return!0}},setEditable:function(a){return this.action(this,{action:5,editable:a})},action:function(a,
b){null==b.data&&(b.data=[]);for(var c=0;c<a.children.length;c++){var d=a.children[c].wtype;if("button"!=d&&"icon"!=d&&"image"!=d&&"label"!=d&&"spacer"!=d&&"dataview"!=d&&"tabpanel"!=d&&"grid"!=d)if("composite"==d)this.action(a.children[c],b);else if("panel"==d)this.action(a.children[c],b);else switch(b.action){case 0:b.data.push(a.children[c].getValue());"string"==typeof a.children[c].field&&""!=a.children[c].field&&(b.data[a.children[c].field]=a.children[c].getValue());break;case 1:a.children[c].setValue("");
break;case 2:"string"==typeof a.children[c].field&&""!=a.children[c].field&&(b.rec?a.children[c].setValue(b.rec.get(a.children[c].field)):a.children[c].setValue(""));break;case 3:if(a.children[c].field==b.field){b.widget=a.children[c];return}break;case 4:"string"==typeof a.children[c].field&&""!=a.children[c].field&&b.rec.set(a.children[c].field,a.children[c].getValue(),!0);break;case 5:"input"!=a.children[c].wtype&&"textarea"!=a.children[c].wtype||a.children[c].setEditable(b.editable)}else if(3==
b.action&&a.children[c].field==b.field){b.widget=a.children[c];return}}return b.data}});this.register("formpanel",this.ui.widgetForm);this.ui.widgetFormWindow=this.ui.widgetForm.extend({init:function(a){null==a.x&&(a.x=$("#container").width()/2-a.width/2);null==a.y&&(a.y=$("#container").height()/2-a.height/2);a.renderTo="container";a.frame=!0;a.closable=idev.convertNulls(a.closable,!0);a.panelCls=a.panelCls||"ui-window";a.backgroundCls=a.backgroundCls||"ui-window-background";this._super(a);this.wtype=
"formwindow";this.draggable=idev.convertNulls(a.draggable,!0);this.autoDestroy=!0;if(this.autoClose=idev.convertNulls(a.autoClose,!1))this.modal=!0},render:function(){this._super();if(this.autoClose){var a=this;$("#"+this.maskID).click(function(){a.close()})}},show:function(){this.rendered||this.render();this._super()}})},onReady:function(a){_preferences.config.fitDocument&&(document.body.style.overflow="hidden");if(_preferences.config.noScale){var b=document.getElementsByTagName("meta");if(null==
_preferences.config.noScaleTarget)for(var c=0;c<b.length;c++){if("viewport"==b[c].name){b[c].content="width=450, height=640, user-scalable=no";break}}else if(navigator.userAgent.match(_preferences.config.noScaleTarget))for(c=0;c<b.length;c++)if("viewport"==b[c].name){b[c].content="width=450, height=640, user-scalable=no";break}}idev.blankimage=_preferences.blankimage;idev.controlHeight=idev.app.controlHeight;idev.callback=a}});$debug=function(a){try{console&&console.log(a)}catch(b){}};
$msg=function(a){return idev.ui.message({text:a,type:"ok"})};$popup=function(a,b,c,d,e,f,h){return idev.ui.message({text:a,icon:b,x:c,y:d,animate:"moveto",ax:f,ay:h,type:"",delay:e})};$error=function(a){return idev.ui.message({text:a,icon:"error"})};$warning=function(a){return idev.ui.message({text:a,icon:"warning"})};$info=function(a){return idev.ui.message({text:a,icon:"information"})};$yesno=function(a,b){return idev.ui.message({text:a,icon:"question",type:"yesno",callback:b})};
$okcancel=function(a,b){return idev.ui.message({text:a,icon:"question",type:"OKCANCEL",callback:b})};$tr=function(a){return _language.translate(a)};$delay=function(a,b,c){return idev.utils.delay(a,b,c)};$get=function(a){return idev.get(a)};$int=function(a){return idev.utils.roundUp(a)};$round=function(a,b){return idev.utils.round(a,b)};$ec=function(a){return idev.utils.scrypt(a,idev.rkey,!0)};$dc=function(a){return idev.utils.scrypt(a,idev.rkey,!1)};
if(-1!=navigator.userAgent.indexOf("MSIE 7")||-1!=navigator.userAgent.indexOf("MSIE 6")||-1!=navigator.userAgent.indexOf("MSIE 5")||-1!=navigator.userAgent.indexOf("MSIE 4")||-1!=navigator.userAgent.indexOf("MSIE 3")||-1!=navigator.userAgent.indexOf("MSIE 2"))alert("iDevUI is not supported in your browser. Please load this page in one of the supported browsers:\n\nInternet Explorer 8+, Google Chrome, Mozilla FireFox, Opera or Safari.");else{var idev=new idevCore;"object"===typeof idevLoader?idevLoader.render():
idev.internal.loadDependants()};
